var $jscomp={scope:{},getGlobal:function(z){return"undefined"!=typeof window&&window===z?z:"undefined"!=typeof global?global:z}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(z,c){($jscomp.patches[z]=$jscomp.patches[z]||[]).push(c);for(var h=$jscomp.global,l=z.split("."),a=0;a<l.length-1&&h;a++)h=h[l[a]];l=l[l.length-1];h&&h[l]instanceof Function&&(h[l]=c(h[l]))};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var z=[],c=function(c){return function(l){z=[];l=c(l);for(var a=[],e=0,d=l.length;e<d;e++){var b;a:if(b=l[e],b.length<$jscomp.SYMBOL_PREFIX.length)b=!1;else{for(var f=0;f<$jscomp.SYMBOL_PREFIX.length;f++)if(b[f]!=$jscomp.SYMBOL_PREFIX[f]){b=!1;break a}b=!0}b?z.push(l[e]):a.push(l[e])}return a}};$jscomp.patch("Object.keys",c);$jscomp.patch("Object.getOwnPropertyNames",c);$jscomp.patch("Object.getOwnPropertySymbols",
function(h){return function(l){c.unused=Object.getOwnPropertyNames(l);z.push.apply(h(l));return z}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(z){return $jscomp.SYMBOL_PREFIX+z+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
(function(z){var c=function(c,l){this.init("simplecolorpicker",c,l)};c.prototype={constructor:c,init:function(c,l,a){var e=this;e.type=c;e.$select=z(l);e.$select.hide();e.options=z.extend({},z.fn.simplecolorpicker.defaults,a);e.$colorList=null;!0===e.options.picker?(c=e.$select.find("> option:selected").text(),e.$icon=z('<span class="simplecolorpicker icon" title="'+c+'" style="background-color: '+e.$select.val()+';" role="button" tabindex="0"></span>').insertAfter(e.$select),e.$icon.on("click."+
e.type,z.proxy(e.showPicker,e)),e.$picker=z('<span class="simplecolorpicker picker '+e.options.theme+'"></span>').appendTo(document.body),e.$colorList=e.$picker,z(document).on("mousedown."+e.type,z.proxy(e.hidePicker,e)),e.$picker.on("mousedown."+e.type,z.proxy(e.mousedown,e))):(e.$inline=z('<span class="simplecolorpicker inline '+e.options.theme+'"></span>').insertAfter(e.$select),e.$colorList=e.$inline);e.$select.find("> option").each(function(){var d=z(this),b=d.val(),f=d.is(":selected"),a=d.is(":disabled"),
g="";!0===f&&(g=" data-selected");f="";!0===a&&(f=" data-disabled");var k="";!1===a&&(k=' title="'+d.text()+'"');var n="";!1===a&&(n=' role="button" tabindex="0"');b=z('<span class="color"'+k+' style="background-color: '+b+';" data-color="'+b+'"'+g+f+n+"></span>");e.$colorList.append(b);b.on("click."+e.type,z.proxy(e.colorSpanClicked,e));!0===d.next().is("optgroup")&&e.$colorList.append('<span class="vr"></span>')})},selectColor:function(c){var l=this.$colorList.find("> span.color").filter(function(){return z(this).data("color").toLowerCase()===
c.toLowerCase()});0<l.length?this.selectColorSpan(l):console.error("The given color '"+c+"' could not be found")},showPicker:function(){var c=this.$icon.offset();this.$picker.css({left:c.left-6,top:c.top+this.$icon.outerHeight()});this.$picker.show(this.options.pickerDelay)},hidePicker:function(){this.$picker.hide(this.options.pickerDelay)},selectColorSpan:function(c){var l=c.data("color"),a=c.prop("title");c.siblings().removeAttr("data-selected");c.attr("data-selected","");!0===this.options.picker&&
(this.$icon.css("background-color",l),this.$icon.prop("title",a),this.hidePicker());this.$select.val(l)},colorSpanClicked:function(c){!1===z(c.target).is("[data-disabled]")&&(this.selectColorSpan(z(c.target)),this.$select.trigger("change"))},mousedown:function(c){c.stopPropagation();c.preventDefault()},destroy:function(){!0===this.options.picker&&(this.$icon.off("."+this.type),this.$icon.remove(),z(document).off("."+this.type));this.$colorList.off("."+this.type);this.$colorList.remove();this.$select.removeData(this.type);
this.$select.show()}};z.fn.simplecolorpicker=function(h){var l=z.makeArray(arguments);l.shift();return this.each(function(){var a=z(this),e=a.data("simplecolorpicker"),d="object"===typeof h&&h;void 0===e&&a.data("simplecolorpicker",e=new c(this,d));"string"===typeof h&&e[h].apply(e,l)})};z.fn.simplecolorpicker.defaults={theme:"",picker:!1,pickerDelay:0}})(jQuery);/*
: http://creativecommons.org/publicdomain/zero/1.0/
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
   2013-2015 GoodBoyDigital
 @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
*/
(function(z){"object"===typeof exports&&"undefined"!==typeof module?module.exports=z():"function"===typeof define&&define.amd?define([],z):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=z()})(function(){return function c(h,l,a){function e(b,m){if(!l[b]){if(!h[b]){var g="function"==typeof require&&require;if(!m&&g)return g(b,!0);if(d)return d(b,!0);g=Error("Cannot find module '"+b+"'");throw g.code="MODULE_NOT_FOUND",g;}g=l[b]={exports:{}};
h[b][0].call(g.exports,function(d){var a=h[b][1][d];return e(a?a:d)},g,g.exports,c,h,l,a)}return l[b].exports}for(var d="function"==typeof require&&require,b=0;b<a.length;b++)e(a[b]);return e}({1:[function(c,h,l){var a=new ArrayBuffer(0),e=function(d,b,f,m){this.gl=d;this.buffer=d.createBuffer();this.type=b||d.ARRAY_BUFFER;this.drawType=m||d.STATIC_DRAW;this.data=a;f&&this.upload(f);this._updateID=0};e.prototype.upload=function(d,b,f){f||this.bind();f=this.gl;d=d||this.data;this.data.byteLength>=
d.byteLength?f.bufferSubData(this.type,b||0,d):f.bufferData(this.type,d,this.drawType);this.data=d};e.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};e.createVertexBuffer=function(d,b,f){return new e(d,d.ARRAY_BUFFER,b,f)};e.createIndexBuffer=function(d,b,f){return new e(d,d.ELEMENT_ARRAY_BUFFER,b,f)};e.create=function(d,b,f,a){return new e(d,b,f,a)};e.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};h.exports=e},{}],2:[function(c,h,l){var a=c("./GLTexture"),e=
function(d,b,f){this.gl=d;this.framebuffer=d.createFramebuffer();this.texture=this.stencil=null;this.width=b||100;this.height=f||100};e.prototype.enableTexture=function(d){var b=this.gl;this.texture=d||new a(b);this.texture.bind();this.bind();b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture.texture,0)};e.prototype.enableStencil=function(){if(!this.stencil){var d=this.gl;this.stencil=d.createRenderbuffer();d.bindRenderbuffer(d.RENDERBUFFER,this.stencil);d.framebufferRenderbuffer(d.FRAMEBUFFER,
d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,this.stencil);d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,this.width,this.height)}};e.prototype.clear=function(d,b,f,a){this.bind();var g=this.gl;g.clearColor(d,b,f,a);g.clear(g.COLOR_BUFFER_BIT)};e.prototype.bind=function(){var d=this.gl;this.texture&&this.texture.unbind();d.bindFramebuffer(d.FRAMEBUFFER,this.framebuffer)};e.prototype.unbind=function(){var d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,null)};e.prototype.resize=function(d,b){var f=this.gl;
this.width=d;this.height=b;this.texture&&this.texture.uploadData(null,d,b);this.stencil&&(f.bindRenderbuffer(f.RENDERBUFFER,this.stencil),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,d,b))};e.prototype.destroy=function(){var d=this.gl;this.texture&&this.texture.destroy();d.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};e.createRGBA=function(d,b,f,m){m=a.fromData(d,null,b,f);m.enableNearestScaling();m.enableWrapClamp();d=new e(d,b,f);d.enableTexture(m);d.unbind();
return d};e.createFloat32=function(d,b,f,m){m=new a.fromData(d,m,b,f);m.enableNearestScaling();m.enableWrapClamp();d=new e(d,b,f);d.enableTexture(m);d.unbind();return d};h.exports=e},{"./GLTexture":4}],3:[function(c,h,l){var a=c("./shader/compileProgram"),e=c("./shader/extractAttributes"),d=c("./shader/extractUniforms"),b=c("./shader/generateUniformAccessObject");c=function(f,m,g,k){this.gl=f;this.program=a(f,m,g,k);this.attributes=e(f,this.program);for(var n in this.attributes)console.log(n+" : "+
this.attributes[n].location);console.log(">>>>>>>");m=d(f,this.program);this.uniforms=b(f,m)};c.prototype.bind=function(){this.gl.useProgram(this.program)};c.prototype.destroy=function(){};h.exports=c},{"./shader/compileProgram":9,"./shader/extractAttributes":11,"./shader/extractUniforms":12,"./shader/generateUniformAccessObject":13}],4:[function(c,h,l){var a=function(d,b,f,a,g){this.gl=d;this.texture=d.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=b||-1;this.height=f||-1;this.format=
a||d.RGBA;this.type=g||d.UNSIGNED_BYTE};a.prototype.upload=function(d){this.bind();var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var f=d.videoWidth||d.width,a=d.videoHeight||d.height;a!==this.height||f!==this.width?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,this.type,d):b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.format,this.type,d);this.width=f;this.height=a};var e=!1;a.prototype.uploadData=function(d,b,f){this.bind();var a=this.gl;if(d instanceof Float32Array){if(!e)if(a.getExtension("OES_texture_float"))e=
!0;else throw Error("floating point textures not available");this.type=a.FLOAT}else this.type=a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);b!==this.width||f!==this.height?a.texImage2D(a.TEXTURE_2D,0,this.format,b,f,0,this.format,this.type,d||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,b,f,this.format,this.type,d||null);this.width=b;this.height=f};a.prototype.bind=function(d){var b=this.gl;void 0!==d&&b.activeTexture(b.TEXTURE0+d);b.bindTexture(b.TEXTURE_2D,this.texture)};
a.prototype.unbind=function(){var d=this.gl;d.bindTexture(d.TEXTURE_2D,null)};a.prototype.minFilter=function(d){var b=this.gl;this.bind();this.mipmap?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d?b.LINEAR:b.NEAREST)};a.prototype.magFilter=function(d){var b=this.gl;this.bind();b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,d?b.LINEAR:b.NEAREST)};a.prototype.enableMipmap=function(){var d=this.gl;
this.bind();this.mipmap=!0;d.generateMipmap(d.TEXTURE_2D)};a.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};a.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};a.prototype.enableWrapClamp=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE)};a.prototype.enableWrapRepeat=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_S,d.REPEAT);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)};a.prototype.enableWrapMirrorRepeat=function(){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.MIRRORED_REPEAT);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.MIRRORED_REPEAT)};a.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};a.fromSource=function(d,b,f){d=new a(d);d.premultiplyAlpha=f||!1;d.upload(b);return d};a.fromData=function(d,b,f,m){d=new a(d);d.uploadData(b,f,m);
return d};h.exports=a},{}],5:[function(c,h,l){function a(d,b){this.nativeVaoExtension=null;a.FORCE_NATIVE||(this.nativeVaoExtension=d.getExtension("OES_vertex_array_object")||d.getExtension("MOZ_OES_vertex_array_object")||d.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=b;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var f=d.getParameter(d.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(f),attribState:Array(f)}}this.gl=d;this.attributes=
[];this.indexBuffer=null;this.dirty=!1}var e=c("./setVertexAttribArrays");a.prototype.constructor=a;h.exports=a;a.FORCE_NATIVE=!0;a.prototype.bind=function(){this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate();return this};a.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};a.prototype.activate=function(){for(var d=this.gl,b=null,a=0;a<this.attributes.length;a++){var m=
this.attributes[a];b!==m.buffer&&(m.buffer.bind(),b=m.buffer);d.vertexAttribPointer(m.attribute.location,m.attribute.size,m.type||d.FLOAT,m.normalized||!1,m.stride||0,m.start||0)}e(d,this.attributes,this.nativeState);this.indexBuffer.bind();return this};a.prototype.addAttribute=function(d,b,a,m,g,k){this.attributes.push({buffer:d,attribute:b,location:b.location,type:a||this.gl.FLOAT,normalized:m||!1,stride:g||0,start:k||0});this.dirty=!0;return this};a.prototype.addIndex=function(d){this.indexBuffer=
d;this.dirty=!0;return this};a.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};a.prototype.draw=function(d,b,a){var m=this.gl;m.drawElements(d,b||this.indexBuffer.data.length,m.UNSIGNED_SHORT,a||0);return this};a.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=
this.nativeVaoExtension=null}},{"./setVertexAttribArrays":8}],6:[function(c,h,l){h.exports=function(a,e){var d=a.getContext("webgl",e)||a.getContext("experimental-webgl",e);if(!d)throw Error("This browser does not support webGL. Try using the canvas renderer");return d}},{}],7:[function(c,h,l){c={createContext:c("./createContext"),setVertexAttribArrays:c("./setVertexAttribArrays"),GLBuffer:c("./GLBuffer"),GLFramebuffer:c("./GLFramebuffer"),GLShader:c("./GLShader"),GLTexture:c("./GLTexture"),VertexArrayObject:c("./VertexArrayObject"),
shader:c("./shader")};"undefined"!==typeof h&&h.exports&&(h.exports=c);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=c)},{"./GLBuffer":1,"./GLFramebuffer":2,"./GLShader":3,"./GLTexture":4,"./VertexArrayObject":5,"./createContext":6,"./setVertexAttribArrays":8,"./shader":14}],8:[function(c,h,l){h.exports=function(a,e,d){var b;if(d){var f=d.tempAttribState,m=d.attribState;for(b=0;b<f.length;b++)f[b]=!1;for(b=0;b<e.length;b++)f[e[b].attribute.location]=!0;for(b=0;b<m.length;b++)m[b]!==
f[b]&&(m[b]=f[b],d.attribState[b]?a.enableVertexAttribArray(b):a.disableVertexAttribArray(b))}else for(b=0;b<e.length;b++)a.enableVertexAttribArray(e[b].attribute.location)}},{}],9:[function(c,h,l){var a=function(a,d,b){d=a.createShader(d);a.shaderSource(d,b);a.compileShader(d);return a.getShaderParameter(d,a.COMPILE_STATUS)?d:(console.log(a.getShaderInfoLog(d)),null)};h.exports=function(e,d,b,f){d=a(e,e.VERTEX_SHADER,d);b=a(e,e.FRAGMENT_SHADER,b);var m=e.createProgram();e.attachShader(m,d);e.attachShader(m,
b);if(f)for(var g in f)e.bindAttribLocation(m,f[g],g);e.linkProgram(m);e.getProgramParameter(m,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(m,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(m)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(m)),e.deleteProgram(m),m=null);e.deleteShader(d);e.deleteShader(b);return m}},{}],10:[function(c,h,l){var a=
function(a){a=Array(a);for(var d=0;d<a.length;d++)a[d]=!1;return a};h.exports=function(e,d){switch(e){case "float":return 0;case "vec2":return new Float32Array(2*d);case "vec3":return new Float32Array(3*d);case "vec4":return new Float32Array(4*d);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*d);case "ivec3":return new Int32Array(3*d);case "ivec4":return new Int32Array(4*d);case "bool":return!1;case "bvec2":return a(2*d);case "bvec3":return a(3*d);case "bvec4":return a(4*
d);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],11:[function(c,h,l){var a=c("./mapType"),e=c("./mapSize"),d=function(b,d,a,g){gl.vertexAttribPointer(this.location,this.size,b||gl.FLOAT,d||!1,a||0,g||0)};h.exports=function(b,f){for(var m={},g=b.getProgramParameter(f,b.ACTIVE_ATTRIBUTES),k=0;k<g;k++){var n=b.getActiveAttrib(f,k),c=a(b,n.type);m[n.name]={type:c,size:e(c),
location:b.getAttribLocation(f,n.name),pointer:d}}return m}},{"./mapSize":15,"./mapType":16}],12:[function(c,h,l){var a=c("./mapType"),e=c("./defaultValue");h.exports=function(d,b){for(var f={},m=d.getProgramParameter(b,d.ACTIVE_UNIFORMS),g=0;g<m;g++){var k=d.getActiveUniform(b,g),n=k.name.replace(/\[.*?\]/,""),c=a(d,k.type);f[n]={type:c,size:k.size,location:d.getUniformLocation(b,n),value:e(c,k.size)}}return f}},{"./defaultValue":10,"./mapType":16}],13:[function(c,h,l){var a=function(b){b=d.replace("%%",
b);return new Function(b)},e=function(d,a){var n=b.replace(/%%/g,d),e;(e=1===a.size?f[a.type]:m[a.type])&&(n+="\nthis.gl."+e+";");return new Function("value",n)},d="return this.data.%%.value;",b="this.data.%%.value = value;\nvar location = this.data.%%.location;",f={"float":"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])","int":"uniform1i(location, value)",
ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",
sampler2D:"uniform1i(location, value)"},m={"float":"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)","int":"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};
h.exports=function(b,d){var f={data:{}};f.gl=b;for(var m=Object.keys(d),c=0;c<m.length;c++){for(var p=m[c],h=p.split("."),l=h[h.length-1],t=f,u=0;u<h.length-1;u++)var w=t[h[u]]||{data:{}},t=t[h[u]]=w;h=t;p=d[p];h.data[l]=p;h.gl=b;Object.defineProperty(h,l,{get:a(l),set:e(l,p)})}return f}},{}],14:[function(c,h,l){h.exports={compileProgram:c("./compileProgram"),defaultValue:c("./defaultValue"),extractAttributes:c("./extractAttributes"),extractUniforms:c("./extractUniforms"),generateUniformAccessObject:c("./generateUniformAccessObject"),
mapSize:c("./mapSize"),mapType:c("./mapType")}},{"./compileProgram":9,"./defaultValue":10,"./extractAttributes":11,"./extractUniforms":12,"./generateUniformAccessObject":13,"./mapSize":15,"./mapType":16}],15:[function(c,h,l){var a={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};h.exports=function(e){return a[e]}},{}],16:[function(c,h,l){var a=null,e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",
INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};h.exports=function(d,b){if(!a){var f=Object.keys(e);a={};for(var m=0;m<f.length;++m){var g=f[m];a[d[g]]=e[g]}}return a[b]}},{}],17:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(b,a,m,g){(0,e["default"])(a)(b,(0,d["default"])(m),g)};var a=c("./internal/eachOfLimit"),
e=a&&a.__esModule?a:{"default":a},d=(c=c("./internal/withoutIndex"))&&c.__esModule?c:{"default":c};h.exports=l["default"]},{"./internal/eachOfLimit":21,"./internal/withoutIndex":28}],18:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});var a=c("./eachLimit"),a=a&&a.__esModule?a:{"default":a};c=(c=c("./internal/doLimit"))&&c.__esModule?c:{"default":c};l["default"]=(0,c["default"])(a["default"],1);h.exports=l["default"]},{"./eachLimit":17,"./internal/doLimit":20}],19:[function(c,h,l){function a(){this.head=
this.tail=null;this.length=0}Object.defineProperty(l,"__esModule",{value:!0});l["default"]=a;a.prototype.removeLink=function(a){a.prev?a.prev.next=a.next:this.head=a.next;a.next?a.next.prev=a.prev:this.tail=a.prev;a.prev=a.next=null;--this.length;return a};a.prototype.empty=a;a.prototype.insertAfter=function(a,d){d.prev=a;(d.next=a.next)?a.next.prev=d:this.tail=d;a.next=d;this.length+=1};a.prototype.insertBefore=function(a,d){d.prev=a.prev;d.next=a;a.prev?a.prev.next=d:this.head=d;a.prev=d;this.length+=
1};a.prototype.unshift=function(a){this.head?this.insertBefore(this.head,a):(this.length=1,this.head=this.tail=a)};a.prototype.push=function(a){this.tail?this.insertAfter(this.tail,a):(this.length=1,this.head=this.tail=a)};a.prototype.shift=function(){return this.head&&this.removeLink(this.head)};a.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};h.exports=l["default"]},{}],20:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a,e){return function(d,
b,f){return a(d,e,b,f)}};h.exports=l["default"]},{}],21:[function(c,h,l){function a(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a){return function(k,n,e){function c(b){--t;if(b)l=!0,e(b);else{if(l&&0>=t)return e(null);p()}}function p(){for(;t<a&&!l;){var b=h();if(null===b){l=!0;0>=t&&e(null);break}t+=1;n(b.value,b.key,(0,m["default"])(c))}}e=(0,b["default"])(e||d["default"]);if(0>=a||!k)return e(null);var h=(0,f["default"])(k),l=
!1,t=0;p()}};var e=c("lodash/noop"),d=a(e),e=c("./once"),b=a(e),e=c("./iterator"),f=a(e);c=c("./onlyOnce");var m=a(c);h.exports=l["default"]},{"./iterator":23,"./once":24,"./onlyOnce":25,"lodash/noop":54}],22:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(e){return a&&e[a]&&e[a]()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var a="function"===typeof Symbol&&Symbol.iterator;h.exports=l["default"]},{}],23:[function(c,h,l){function a(b){return b&&
b.__esModule?b:{"default":b}}function e(b){var d=-1,a=b.length;return function(){return++d<a?{value:b[d],key:d}:null}}function d(b){var d=-1;return function(){var a=b.next();if(a.done)return null;d++;return{value:a.value,key:d}}}function b(b){var d=(0,k["default"])(b),a=-1,f=d.length;return function(){var k=d[++a];return a<f?{value:b[k],key:k}:null}}Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a){if((0,m["default"])(a))return e(a);var f=(0,g["default"])(a);return f?d(f):
b(a)};var f=c("lodash/isArrayLike"),m=a(f),f=c("./getIterator"),g=a(f);c=c("lodash/keys");var k=a(c);h.exports=l["default"]},{"./getIterator":22,"lodash/isArrayLike":46,"lodash/keys":53}],24:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a){return function(){if(null!==a){var e=a;a=null;e.apply(this,arguments)}}};h.exports=l["default"]},{}],25:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a){return function(){if(null===
a)throw Error("Callback was already called.");var e=a;a=null;e.apply(this,arguments)}};h.exports=l["default"]},{}],26:[function(c,h,l){function a(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a,e,c){function h(a,g,m){if(null!=m&&"function"!==typeof m)throw Error("task callback must be a function");w.started=!0;(0,b["default"])(a)||(a=[a]);if(0===a.length&&w.idle())return(0,k["default"])(function(){w.drain()});(0,d["default"])(a,function(b){b=
{data:b,callback:m||f["default"]};g?w._tasks.unshift(b):w._tasks.push(b)});(0,k["default"])(w.process)}function l(b){return(0,m["default"])(function(a){--t;(0,d["default"])(b,function(b){(0,d["default"])(u,function(d,a){if(d===b)return u.splice(a,1),!1});b.callback.apply(b,a);null!=a[0]&&w.error(a[0],b.data)});t<=w.concurrency-w.buffer&&w.unsaturated();w.idle()&&w.drain();w.process()})}if(null==e)e=1;else if(0===e)throw Error("Concurrency must not be zero");var t=0,u=[],w={_tasks:new n["default"],
concurrency:e,payload:c,saturated:f["default"],unsaturated:f["default"],buffer:e/4,empty:f["default"],drain:f["default"],error:f["default"],started:!1,paused:!1,push:function(b,d){h(b,!1,d)},kill:function(){w.drain=f["default"];w._tasks.empty()},unshift:function(b,d){h(b,!0,d)},process:function(){for(;!w.paused&&t<w.concurrency&&w._tasks.length;){var b=[],d=[],f=w._tasks.length;w.payload&&(f=Math.min(f,w.payload));for(var k=0;k<f;k++){var m=w._tasks.shift();b.push(m);d.push(m.data)}0===w._tasks.length&&
w.empty();t+=1;u.push(b[0]);t===w.concurrency&&w.saturated();b=(0,g["default"])(l(b));a(d,b)}},length:function(){return w._tasks.length},running:function(){return t},workersList:function(){return u},idle:function(){return 0===w._tasks.length+t},pause:function(){w.paused=!0},resume:function(){if(!1!==w.paused){w.paused=!1;for(var b=Math.min(w.concurrency,w._tasks.length),d=1;d<=b;d++)(0,k["default"])(w.process)}}};return w};var e=c("lodash/_arrayEach"),d=a(e),e=c("lodash/isArray"),b=a(e),e=c("lodash/noop"),
f=a(e),e=c("lodash/rest"),m=a(e),e=c("./onlyOnce"),g=a(e),e=c("./setImmediate"),k=a(e);c=c("./DoublyLinkedList");var n=a(c);h.exports=l["default"]},{"./DoublyLinkedList":19,"./onlyOnce":25,"./setImmediate":27,"lodash/_arrayEach":35,"lodash/isArray":45,"lodash/noop":54,"lodash/rest":55}],27:[function(c,h,l){(function(a){function e(b){setTimeout(b,0)}function d(b){return(0,f["default"])(function(d,a){b(function(){d.apply(null,a)})})}Object.defineProperty(l,"__esModule",{value:!0});l.hasNextTick=l.hasSetImmediate=
void 0;l.fallback=e;l.wrap=d;var b=c("lodash/rest"),f=b&&b.__esModule?b:{"default":b},b=l.hasSetImmediate="function"===typeof setImmediate&&setImmediate,m=l.hasNextTick="object"===typeof a&&"function"===typeof a.nextTick;l["default"]=d(b?setImmediate:m?a.nextTick:e)}).call(this,c("_process"))},{_process:61,"lodash/rest":55}],28:[function(c,h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(a){return function(e,d,b){return a(e,b)}};h.exports=l["default"]},{}],29:[function(c,
h,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(e,d){return(0,a["default"])(function(b,d){e(b[0],d)},d,1)};var a=(c=c("./internal/queue"))&&c.__esModule?c:{"default":c};h.exports=l["default"]},{"./internal/queue":26}],30:[function(c,h,l){function a(d){var b=32;(d&=-d)&&b--;d&65535&&(b-=16);d&16711935&&(b-=8);d&252645135&&(b-=4);d&858993459&&(b-=2);d&1431655765&&--b;return b}"use restrict";l.INT_BITS=32;l.INT_MAX=2147483647;l.INT_MIN=-2147483648;l.sign=function(d){return(0<
d)-(0>d)};l.abs=function(d){var b=d>>31;return(d^b)-b};l.min=function(d,b){return b^(d^b)&-(d<b)};l.max=function(d,b){return d^(d^b)&-(d<b)};l.isPow2=function(d){return!(d&d-1)&&!!d};l.log2=function(d){var b,a;b=(65535<d)<<4;d>>>=b;a=(255<d)<<3;d>>>=a;b|=a;a=(15<d)<<2;d>>>=a;b|=a;a=(3<d)<<1;return b|a|d>>>a>>1};l.log10=function(d){return 1E9<=d?9:1E8<=d?8:1E7<=d?7:1E6<=d?6:1E5<=d?5:1E4<=d?4:1E3<=d?3:100<=d?2:10<=d?1:0};l.popCount=function(d){d-=d>>>1&1431655765;d=(d&858993459)+(d>>>2&858993459);return 16843009*
(d+(d>>>4)&252645135)>>>24};l.countTrailingZeros=a;l.nextPow2=function(d){d+=0===d;--d;d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;return(d|d>>>16)+1};l.prevPow2=function(d){d|=d>>>1;d|=d>>>2;d|=d>>>4;d|=d>>>8;d|=d>>>16;return d-(d>>>1)};l.parity=function(d){d^=d>>>16;d^=d>>>8;return 27030>>>((d^d>>>4)&15)&1};var e=Array(256);(function(d){for(var b=0;256>b;++b){for(var a=b,m=b,g=7,a=a>>>1;a;a>>>=1)m<<=1,m|=a&1,--g;d[b]=m<<g&255}})(e);l.reverse=function(d){return e[d&255]<<24|e[d>>>8&255]<<16|e[d>>>16&255]<<
8|e[d>>>24&255]};l.interleave2=function(d,b){d&=65535;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(d|d<<1)&1431655765|((b|b<<1)&1431655765)<<1};l.deinterleave2=function(d,b){d=d>>>b&1431655765;d=(d|d>>>1)&858993459;d=(d|d>>>2)&252645135;d=(d|d>>>4)&16711935;return((d|d>>>16)&65535)<<16>>16};l.interleave3=function(d,b,a){d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;b&=1023;b=
(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;return(d|d<<2)&1227133513|((b|b<<2)&1227133513)<<1|((a|a<<2)&1227133513)<<2};l.deinterleave3=function(d,b){d=d>>>b&1227133513;d=(d|d>>>2)&3272356035;d=(d|d>>>4)&251719695;d=(d|d>>>8)&4278190335;return((d|d>>>16)&1023)<<22>>22};l.nextCombination=function(d){var b=d|d-1;return b+1|(~b&-~b)-1>>>a(d)+1}},{}],31:[function(c,h,l){function a(a,g,n){n=n||2;var c=g&&g.length,
v=c?g[0]*n:a.length,x=e(a,0,v,n,!0),p=[];if(!x)return p;var h,w,r,q;if(c){var l=n,c=[],t,u,Q;q=0;for(t=g.length;q<t;q++)u=g[q]*l,Q=q<t-1?g[q+1]*l:a.length,u=e(a,u,Q,l,!1),u===u.next&&(u.steiner=!0),c.push(k(u));c.sort(f);for(q=0;q<c.length;q++){g=c[q];l=x;if(l=m(g,l))g=y(l,g),d(g,g.next);x=d(x,x.next)}}if(a.length>80*n){h=r=a[0];w=c=a[1];for(l=n;l<v;l+=n)q=a[l],g=a[l+1],q<h&&(h=q),g<w&&(w=g),q>r&&(r=q),g>c&&(c=g);r=Math.max(r-h,c-w)}b(x,p,n,h,w,r);return p}function e(b,a,d,f,k){var g;if(k===0<r(b,
a,d,f))for(k=a;k<d;k+=f)g=t(k,b[k],b[k+1],g);else for(k=d-f;k>=a;k-=f)g=t(k,b[k],b[k+1],g);g&&x(g,g.next)&&(u(g),g=g.next);return g}function d(b,a){if(!b)return b;a||(a=b);var d=b,f;do if(f=!1,d.steiner||!x(d,d.next)&&0!==v(d.prev,d,d.next))d=d.next;else{u(d);d=a=d.prev;if(d===d.next)return null;f=!0}while(f||d!==a);return a}function b(a,f,k,m,e,c,h){if(a){if(!h&&c){var w=a,r=w;do null===r.z&&(r.z=g(r.x,r.y,m,e,c)),r.prevZ=r.prev,r=r.nextZ=r.next;while(r!==w);r.prevZ.nextZ=null;r.prevZ=null;var w=
r,l,t,A,L,K,Q,N=1;do{r=w;A=w=null;for(L=0;r;){L++;t=r;for(l=K=0;l<N&&(K++,t=t.nextZ,t);l++);for(Q=N;0<K||0<Q&&t;)0===K?(l=t,t=t.nextZ,Q--):0!==Q&&t?r.z<=t.z?(l=r,r=r.nextZ,K--):(l=t,t=t.nextZ,Q--):(l=r,r=r.nextZ,K--),A?A.nextZ=l:w=l,l.prevZ=A,A=l;r=t}A.nextZ=null;N*=2}while(1<L)}for(w=a;a.prev!==a.next;){r=a.prev;t=a.next;if(c)a:{A=a;Q=m;var O=e,R=c;L=A.prev;K=A;N=A.next;if(0<=v(L,K,N))A=!1;else{var S=L.x>K.x?L.x>N.x?L.x:N.x:K.x>N.x?K.x:N.x,T=L.y>K.y?L.y>N.y?L.y:N.y:K.y>N.y?K.y:N.y;l=g(L.x<K.x?L.x<
N.x?L.x:N.x:K.x<N.x?K.x:N.x,L.y<K.y?L.y<N.y?L.y:N.y:K.y<N.y?K.y:N.y,Q,O,R);Q=g(S,T,Q,O,R);for(O=A.nextZ;O&&O.z<=Q;){if(O!==A.prev&&O!==A.next&&n(L.x,L.y,K.x,K.y,N.x,N.y,O.x,O.y)&&0<=v(O.prev,O,O.next)){A=!1;break a}O=O.nextZ}for(O=A.prevZ;O&&O.z>=l;){if(O!==A.prev&&O!==A.next&&n(L.x,L.y,K.x,K.y,N.x,N.y,O.x,O.y)&&0<=v(O.prev,O,O.next)){A=!1;break a}O=O.prevZ}A=!0}}else a:if(A=a,L=A.prev,K=A,N=A.next,0<=v(L,K,N))A=!1;else{for(l=A.next.next;l!==A.prev;){if(n(L.x,L.y,K.x,K.y,N.x,N.y,l.x,l.y)&&0<=v(l.prev,
l,l.next)){A=!1;break a}l=l.next}A=!0}if(A)f.push(r.i/k),f.push(a.i/k),f.push(t.i/k),u(a),w=a=t.next;else if(a=t,a===w){if(!h)b(d(a),f,k,m,e,c,1);else if(1===h){h=f;w=k;r=a;do t=r.prev,A=r.next.next,!x(t,A)&&p(t,r,r.next,A)&&q(t,A)&&q(A,t)&&(h.push(t.i/w),h.push(r.i/w),h.push(A.i/w),u(r),u(r.next),r=a=A),r=r.next;while(r!==a);a=r;b(a,f,k,m,e,c,2)}else if(2===h)a:{h=a;do{for(w=h.next.next;w!==h.prev;){if(r=h.i!==w.i){r=h;t=w;if(A=r.next.i!==t.i&&r.prev.i!==t.i){b:{A=r;do{if(A.i!==r.i&&A.next.i!==r.i&&
A.i!==t.i&&A.next.i!==t.i&&p(A,A.next,r,t)){A=!0;break b}A=A.next}while(A!==r);A=!1}A=!A}if(A=A&&q(r,t)&&q(t,r)){A=r;L=!1;K=(r.x+t.x)/2;t=(r.y+t.y)/2;do A.y>t!==A.next.y>t&&K<(A.next.x-A.x)*(t-A.y)/(A.next.y-A.y)+A.x&&(L=!L),A=A.next;while(A!==r);A=L}r=A}if(r){a=y(h,w);h=d(h,h.next);a=d(a,a.next);b(h,f,k,m,e,c);b(a,f,k,m,e,c);break a}w=w.next}h=h.next}while(h!==a)}break}}}}function f(b,a){return b.x-a.x}function m(b,a){var d=a,f=b.x,k=b.y,g=-Infinity,m;do{if(k<=d.y&&k>=d.next.y){var e=d.x+(k-d.y)*
(d.next.x-d.x)/(d.next.y-d.y);if(e<=f&&e>g){g=e;if(e===f){if(k===d.y)return d;if(k===d.next.y)return d.next}m=d.x<d.next.x?d:d.next}}d=d.next}while(d!==a);if(!m)return null;if(f===g)return m.prev;for(var e=m,c=m.x,v=m.y,x=Infinity,h,d=m.next;d!==e;)f>=d.x&&d.x>=c&&n(k<v?f:g,k,c,v,k<v?g:f,k,d.x,d.y)&&(h=Math.abs(k-d.y)/(f-d.x),(h<x||h===x&&d.x>m.x)&&q(d,b)&&(m=d,x=h)),d=d.next;return m}function g(b,a,d,f,k){b=32767*(b-d)/k;a=32767*(a-f)/k;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;
a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;return(b|b<<1)&1431655765|((a|a<<1)&1431655765)<<1}function k(b){var a=b,d=b;do a.x<d.x&&(d=a),a=a.next;while(a!==b);return d}function n(b,a,d,f,k,g,m,n){return 0<=(k-m)*(a-n)-(b-m)*(g-n)&&0<=(b-m)*(f-n)-(d-m)*(a-n)&&0<=(d-m)*(g-n)-(k-m)*(f-n)}function v(b,a,d){return(a.y-b.y)*(d.x-a.x)-(a.x-b.x)*(d.y-a.y)}function x(b,a){return b.x===a.x&&b.y===a.y}function p(b,a,d,f){return x(b,a)&&x(d,f)||x(b,f)&&x(d,a)?!0:0<v(b,a,d)!==0<v(b,a,f)&&0<
v(d,f,b)!==0<v(d,f,a)}function q(b,a){return 0>v(b.prev,b,b.next)?0<=v(b,a,b.next)&&0<=v(b,b.prev,a):0>v(b,a,b.prev)||0>v(b,b.next,a)}function y(b,a){var d=new w(b.i,b.x,b.y),f=new w(a.i,a.x,a.y),k=b.next,g=a.prev;b.next=a;a.prev=b;d.next=k;k.prev=d;f.next=d;d.prev=f;g.next=f;f.prev=g;return f}function t(b,a,d,f){b=new w(b,a,d);f?(b.next=f.next,b.prev=f,f.next.prev=b,f.next=b):(b.prev=b,b.next=b);return b}function u(b){b.next.prev=b.prev;b.prev.next=b.next;b.prevZ&&(b.prevZ.nextZ=b.nextZ);b.nextZ&&
(b.nextZ.prevZ=b.prevZ)}function w(b,a,d){this.i=b;this.x=a;this.y=d;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function r(b,a,d,f){for(var k=0,g=d-f;a<d;a+=f)k+=(b[g]-b[a])*(b[a+1]+b[g+1]),g=a;return k}h.exports=a;a.deviation=function(b,a,d,f){var k=a&&a.length,g=Math.abs(r(b,0,k?a[0]*d:b.length,d));if(k)for(var k=0,m=a.length;k<m;k++)g-=Math.abs(r(b,a[k]*d,k<m-1?a[k+1]*d:b.length,d));for(k=a=0;k<f.length;k+=3){var m=f[k]*d,n=f[k+1]*d,e=f[k+2]*d;a+=Math.abs((b[m]-b[e])*
(b[n+1]-b[m+1])-(b[m]-b[n])*(b[e+1]-b[m+1]))}return 0===g&&0===a?0:Math.abs((a-g)/g)};a.flatten=function(b){for(var a=b[0][0].length,d={vertices:[],holes:[],dimensions:a},f=0,k=0;k<b.length;k++){for(var g=0;g<b[k].length;g++)for(var m=0;m<a;m++)d.vertices.push(b[k][g][m]);0<k&&(f+=b[k-1].length,d.holes.push(f))}return d}},{}],32:[function(c,h,l){function a(b,a,d){this.fn=b;this.context=a;this.once=d||!1}function e(){}var d=Object.prototype.hasOwnProperty,b="function"!==typeof Object.create?"~":!1;
e.prototype._events=void 0;e.prototype.eventNames=function(){var a=this._events,m=[],g;if(!a)return m;for(g in a)d.call(a,g)&&m.push(b?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(a)):m};e.prototype.listeners=function(a,d){var g=b?b+a:a,g=this._events&&this._events[g];if(d)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var k=0,n=g.length,e=Array(n);k<n;k++)e[k]=g[k].fn;return e};e.prototype.emit=function(a,d,g,k,n,e){var c=b?b+a:a;if(!this._events||!this._events[c])return!1;
var c=this._events[c],h=arguments.length,q,l;if("function"===typeof c.fn){c.once&&this.removeListener(a,c.fn,void 0,!0);switch(h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,d),!0;case 3:return c.fn.call(c.context,d,g),!0;case 4:return c.fn.call(c.context,d,g,k),!0;case 5:return c.fn.call(c.context,d,g,k,n),!0;case 6:return c.fn.call(c.context,d,g,k,n,e),!0}l=1;for(q=Array(h-1);l<h;l++)q[l-1]=arguments[l];c.fn.apply(c.context,q)}else{var t=c.length,u;for(l=0;l<t;l++)switch(c[l].once&&
this.removeListener(a,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,d);break;case 3:c[l].fn.call(c[l].context,d,g);break;default:if(!q)for(u=1,q=Array(h-1);u<h;u++)q[u-1]=arguments[u];c[l].fn.apply(c[l].context,q)}}return!0};e.prototype.on=function(d,m,g){m=new a(m,g||this);d=b?b+d:d;this._events||(this._events=b?{}:Object.create(null));this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],m]:this._events[d].push(m):this._events[d]=m;
return this};e.prototype.once=function(d,m,g){m=new a(m,g||this,!0);d=b?b+d:d;this._events||(this._events=b?{}:Object.create(null));this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],m]:this._events[d].push(m):this._events[d]=m;return this};e.prototype.removeListener=function(a,d,g,k){a=b?b+a:a;if(!this._events||!this._events[a])return this;var n=this._events[a],e=[];if(d)if(n.fn)(n.fn!==d||k&&!n.once||g&&n.context!==g)&&e.push(n);else for(var c=0,h=n.length;c<h;c++)(n[c].fn!==d||
k&&!n[c].once||g&&n[c].context!==g)&&e.push(n[c]);e.length?this._events[a]=1===e.length?e[0]:e:delete this._events[a];return this};e.prototype.removeAllListeners=function(a){if(!this._events)return this;a?delete this._events[b?b+a:a]:this._events=b?{}:Object.create(null);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;e.prototype.setMaxListeners=function(){return this};e.prefixed=b;"undefined"!==typeof h&&(h.exports=e)},{}],33:[function(c,h,l){(function(a){var e=
/iPhone/i,d=/iPod/i,b=/iPad/i,f=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,m=/Android/i,g=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,k=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,n=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,x=/BlackBerry/i,p=/BB10/i,l=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,t=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,u=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,w=function(a){a=a||navigator.userAgent;
var h=a.split("[FBAN");"undefined"!==typeof h[1]&&(a=h[0]);h=a.split("Twitter");"undefined"!==typeof h[1]&&(a=h[0]);this.apple={phone:e.test(a),ipod:d.test(a),tablet:!e.test(a)&&b.test(a),device:e.test(a)||d.test(a)||b.test(a)};this.amazon={phone:g.test(a),tablet:!g.test(a)&&k.test(a),device:g.test(a)||k.test(a)};this.android={phone:g.test(a)||f.test(a),tablet:!g.test(a)&&!f.test(a)&&(k.test(a)||m.test(a)),device:g.test(a)||k.test(a)||f.test(a)||m.test(a)};this.windows={phone:n.test(a),tablet:c.test(a),
device:n.test(a)||c.test(a)};this.other={blackberry:x.test(a),blackberry10:p.test(a),opera:l.test(a),firefox:t.test(a),chrome:y.test(a),device:x.test(a)||p.test(a)||l.test(a)||t.test(a)||y.test(a)};this.seven_inch=u.test(a);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},
r=function(){var b=new w;b.Class=w;return b};"undefined"!==typeof h&&h.exports&&"undefined"===typeof window?h.exports=w:"undefined"!==typeof h&&h.exports&&"undefined"!==typeof window?h.exports=r():a.isMobile=r()})(this)},{}],34:[function(c,h,l){h.exports=function(a,e,d){switch(d.length){case 0:return a.call(e);case 1:return a.call(e,d[0]);case 2:return a.call(e,d[0],d[1]);case 3:return a.call(e,d[0],d[1],d[2])}return a.apply(e,d)}},{}],35:[function(c,h,l){h.exports=function(a,e){for(var d=-1,b=a?
a.length:0;++d<b&&!1!==e(a[d],d,a););return a}},{}],36:[function(c,h,l){var a=c("./_baseTimes"),e=c("./isArguments"),d=c("./isArray"),b=c("./_isIndex"),f=Object.prototype.hasOwnProperty;h.exports=function(m,g){var k=d(m)||e(m)?a(m.length,String):[],n=k.length,c=!!n,x;for(x in m)!g&&!f.call(m,x)||c&&("length"==x||b(x,n))||k.push(x);return k}},{"./_baseTimes":39,"./_isIndex":40,"./isArguments":44,"./isArray":45}],37:[function(c,h,l){var a=c("./_isPrototype"),e=c("./_nativeKeys"),d=Object.prototype.hasOwnProperty;
h.exports=function(b){if(!a(b))return e(b);var f=[],m;for(m in Object(b))d.call(b,m)&&"constructor"!=m&&f.push(m);return f}},{"./_isPrototype":41,"./_nativeKeys":42}],38:[function(c,h,l){var a=c("./_apply"),e=Math.max;h.exports=function(d,b){b=e(void 0===b?d.length-1:b,0);return function(){for(var f=arguments,m=-1,g=e(f.length-b,0),k=Array(g);++m<g;)k[m]=f[b+m];m=-1;for(g=Array(b+1);++m<b;)g[m]=f[m];g[b]=k;return a(d,this,g)}}},{"./_apply":34}],39:[function(c,h,l){h.exports=function(a,e){for(var d=
-1,b=Array(a);++d<a;)b[d]=e(d);return b}},{}],40:[function(c,h,l){var a=/^(?:0|[1-9]\d*)$/;h.exports=function(e,d){d=null==d?9007199254740991:d;return!!d&&("number"==typeof e||a.test(e))&&-1<e&&0==e%1&&e<d}},{}],41:[function(c,h,l){var a=Object.prototype;h.exports=function(e){var d=e&&e.constructor;return e===("function"==typeof d&&d.prototype||a)}},{}],42:[function(c,h,l){c=c("./_overArg")(Object.keys,Object);h.exports=c},{"./_overArg":43}],43:[function(c,h,l){h.exports=function(a,e){return function(d){return a(e(d))}}},
{}],44:[function(c,h,l){var a=c("./isArrayLikeObject");c=Object.prototype;var e=c.hasOwnProperty,d=c.toString,b=c.propertyIsEnumerable;h.exports=function(f){return a(f)&&e.call(f,"callee")&&(!b.call(f,"callee")||"[object Arguments]"==d.call(f))}},{"./isArrayLikeObject":47}],45:[function(c,h,l){h.exports=Array.isArray},{}],46:[function(c,h,l){var a=c("./isFunction"),e=c("./isLength");h.exports=function(d){return null!=d&&e(d.length)&&!a(d)}},{"./isFunction":48,"./isLength":49}],47:[function(c,h,l){var a=
c("./isArrayLike"),e=c("./isObjectLike");h.exports=function(d){return e(d)&&a(d)}},{"./isArrayLike":46,"./isObjectLike":51}],48:[function(c,h,l){var a=c("./isObject"),e=Object.prototype.toString;h.exports=function(d){d=a(d)?e.call(d):"";return"[object Function]"==d||"[object GeneratorFunction]"==d}},{"./isObject":50}],49:[function(c,h,l){h.exports=function(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}},{}],50:[function(c,h,l){h.exports=function(a){var e=typeof a;return!!a&&("object"==
e||"function"==e)}},{}],51:[function(c,h,l){h.exports=function(a){return!!a&&"object"==typeof a}},{}],52:[function(c,h,l){var a=c("./isObjectLike"),e=Object.prototype.toString;h.exports=function(d){return"symbol"==typeof d||a(d)&&"[object Symbol]"==e.call(d)}},{"./isObjectLike":51}],53:[function(c,h,l){var a=c("./_arrayLikeKeys"),e=c("./_baseKeys"),d=c("./isArrayLike");h.exports=function(b){return d(b)?a(b):e(b)}},{"./_arrayLikeKeys":36,"./_baseKeys":37,"./isArrayLike":46}],54:[function(c,h,l){h.exports=
function(){}},{}],55:[function(c,h,l){var a=c("./_baseRest"),e=c("./toInteger");h.exports=function(d,b){if("function"!=typeof d)throw new TypeError("Expected a function");b=void 0===b?b:e(b);return a(d,b)}},{"./_baseRest":38,"./toInteger":57}],56:[function(c,h,l){var a=c("./toNumber"),e=1/0;h.exports=function(d){if(!d)return 0===d?d:0;d=a(d);return d===e||d===-e?1.7976931348623157E308*(0>d?-1:1):d===d?d:0}},{"./toNumber":58}],57:[function(c,h,l){var a=c("./toFinite");h.exports=function(e){e=a(e);
var d=e%1;return e===e?d?e-d:e:0}},{"./toFinite":56}],58:[function(c,h,l){var a=c("./isObject"),e=c("./isSymbol"),d=0/0,b=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,g=/^0o[0-7]+$/i,k=parseInt;h.exports=function(n){if("number"==typeof n)return n;if(e(n))return d;a(n)&&(n="function"==typeof n.valueOf?n.valueOf():n,n=a(n)?n+"":n);if("string"!=typeof n)return 0===n?n:+n;n=n.replace(b,"");var c=m.test(n);return c||g.test(n)?k(n.slice(2),c?2:8):f.test(n)?d:+n}},{"./isObject":50,"./isSymbol":52}],
59:[function(c,h,l){var a=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;h.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var f={};"abcdefghijklmnopqrst".split("").forEach(function(b){f[b]=b});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},
f)).join("")?!1:!0}catch(m){return!1}}()?Object.assign:function(d,b){var f,m;if(null===d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");m=Object(d);for(var g,k=1;k<arguments.length;k++){f=Object(arguments[k]);for(var n in f)a.call(f,n)&&(m[n]=f[n]);if(Object.getOwnPropertySymbols){g=Object.getOwnPropertySymbols(f);for(var c=0;c<g.length;c++)e.call(f,g[c])&&(m[g[c]]=f[g[c]])}}return m}},{}],60:[function(c,h,l){(function(a){function e(b,a){for(var d=0,f=b.length-
1;0<=f;f--){var e=b[f];"."===e?b.splice(f,1):".."===e?(b.splice(f,1),d++):d&&(b.splice(f,1),d--)}if(a)for(;d--;d)b.unshift("..");return b}function d(b,a){if(b.filter)return b.filter(a);for(var d=[],f=0;f<b.length;f++)a(b[f],f,b)&&d.push(b[f]);return d}var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;l.resolve=function(){for(var b="",f=!1,k=arguments.length-1;-1<=k&&!f;k--){var n=0<=k?arguments[k]:a.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");
n&&(b=n+"/"+b,f="/"===n.charAt(0))}b=e(d(b.split("/"),function(b){return!!b}),!f).join("/");return(f?"/":"")+b||"."};l.normalize=function(b){var a=l.isAbsolute(b),k="/"===f(b,-1);(b=e(d(b.split("/"),function(b){return!!b}),!a).join("/"))||a||(b=".");b&&k&&(b+="/");return(a?"/":"")+b};l.isAbsolute=function(b){return"/"===b.charAt(0)};l.join=function(){var b=Array.prototype.slice.call(arguments,0);return l.normalize(d(b,function(b,a){if("string"!==typeof b)throw new TypeError("Arguments to path.join must be strings");
return b}).join("/"))};l.relative=function(b,a){function d(b){for(var a=0;a<b.length&&""===b[a];a++);for(var f=b.length-1;0<=f&&""===b[f];f--);return a>f?[]:b.slice(a,f-a+1)}b=l.resolve(b).substr(1);a=l.resolve(a).substr(1);for(var f=d(b.split("/")),e=d(a.split("/")),c=Math.min(f.length,e.length),h=c,q=0;q<c;q++)if(f[q]!==e[q]){h=q;break}c=[];for(q=h;q<f.length;q++)c.push("..");c=c.concat(e.slice(h));return c.join("/")};l.sep="/";l.delimiter=":";l.dirname=function(a){var d=b.exec(a).slice(1);a=d[0];
d=d[1];if(!a&&!d)return".";d&&(d=d.substr(0,d.length-1));return a+d};l.basename=function(a,d){var f=b.exec(a).slice(1)[2];d&&f.substr(-1*d.length)===d&&(f=f.substr(0,f.length-d.length));return f};l.extname=function(a){return b.exec(a).slice(1)[3]};var f="b"==="ab".substr(-1)?function(b,a,d){return b.substr(a,d)}:function(b,a,d){0>a&&(a=b.length+a);return b.substr(a,d)}}).call(this,c("_process"))},{_process:61}],61:[function(c,h,l){function a(){throw Error("setTimeout has not been defined");}function e(){throw Error("clearTimeout has not been defined");
}function d(b){if(n===setTimeout)return setTimeout(b,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(b,0);try{return n(b,0)}catch(d){try{return n.call(null,b,0)}catch(f){return n.call(this,b,0)}}}function b(b){if(v===clearTimeout)return clearTimeout(b);if((v===e||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(b);try{return v(b)}catch(a){try{return v.call(null,b)}catch(d){return v.call(this,b)}}}function f(){p&&q&&(p=!1,q.length?x=q.concat(x):y=-1,x.length&&m())}function m(){if(!p){var a=
d(f);p=!0;for(var k=x.length;k;){q=x;for(x=[];++y<k;)q&&q[y].run();y=-1;k=x.length}q=null;p=!1;b(a)}}function g(b,a){this.fun=b;this.array=a}function k(){}c=h.exports={};var n,v;try{n="function"===typeof setTimeout?setTimeout:a}catch(t){n=a}try{v="function"===typeof clearTimeout?clearTimeout:e}catch(t){v=e}var x=[],p=!1,q,y=-1;c.nextTick=function(b){var a=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)a[f-1]=arguments[f];x.push(new g(b,a));1!==x.length||p||d(m)};
g.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=k;c.addListener=k;c.once=k;c.off=k;c.removeListener=k;c.removeAllListeners=k;c.emit=k;c.binding=function(b){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(b){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},{}],62:[function(c,h,l){(function(a){(function(e){function d(b){throw new RangeError(r[b]);
}function b(b,a){for(var d=b.length,f=[];d--;)f[d]=a(b[d]);return f}function f(a,d){var f=a.split("@"),k="";1<f.length&&(k=f[0]+"@",a=f[1]);a=a.replace(w,".");f=a.split(".");f=b(f,d).join(".");return k+f}function m(b){for(var a=[],d=0,f=b.length,k,g;d<f;)k=b.charCodeAt(d++),55296<=k&&56319>=k&&d<f?(g=b.charCodeAt(d++),56320==(g&64512)?a.push(((k&1023)<<10)+(g&1023)+65536):(a.push(k),d--)):a.push(k);return a}function g(a){return b(a,function(b){var a="";65535<b&&(b-=65536,a+=H(b>>>10&1023|55296),b=
56320|b&1023);return a+=H(b)}).join("")}function k(b,a){return b+22+75*(26>b)-((0!=a)<<5)}function n(b,a,d){var f=0;b=d?C(b/700):b>>1;for(b+=C(b/a);455<b;f+=36)b=C(b/35);return C(f+36*b/(b+38))}function c(b){var a=[],f=b.length,k,m=0,e=128,v=72,x,h,r,p,w;x=b.lastIndexOf("-");0>x&&(x=0);for(h=0;h<x;++h)128<=b.charCodeAt(h)&&d("not-basic"),a.push(b.charCodeAt(h));for(x=0<x?x+1:0;x<f;){h=m;k=1;for(r=36;;r+=36){x>=f&&d("invalid-input");p=b.charCodeAt(x++);p=10>p-48?p-22:26>p-65?p-65:26>p-97?p-97:36;(36<=
p||p>C((2147483647-m)/k))&&d("overflow");m+=p*k;w=r<=v?1:r>=v+26?26:r-v;if(p<w)break;p=36-w;k>C(2147483647/p)&&d("overflow");k*=p}k=a.length+1;v=n(m-h,k,0==h);C(m/k)>2147483647-e&&d("overflow");e+=C(m/k);m%=k;a.splice(m++,0,e)}return g(a)}function x(b){var a,f,g,e,c,v,x,h,p,r=[],w,l,q;b=m(b);w=b.length;a=128;f=0;c=72;for(v=0;v<w;++v)p=b[v],128>p&&r.push(H(p));for((g=e=r.length)&&r.push("-");g<w;){x=2147483647;for(v=0;v<w;++v)p=b[v],p>=a&&p<x&&(x=p);l=g+1;x-a>C((2147483647-f)/l)&&d("overflow");f+=
(x-a)*l;a=x;for(v=0;v<w;++v)if(p=b[v],p<a&&2147483647<++f&&d("overflow"),p==a){h=f;for(x=36;;x+=36){p=x<=c?1:x>=c+26?26:x-c;if(h<p)break;q=h-p;h=36-p;r.push(H(k(p+q%h,0)));h=C(q/h)}r.push(H(k(h,0)));c=n(f,l,g==e);f=0;++g}++f;++a}return r.join("")}var p="object"==typeof l&&l&&!l.nodeType&&l,q="object"==typeof h&&h&&!h.nodeType&&h,y="object"==typeof a&&a;if(y.global===y||y.window===y||y.self===y)e=y;var t=/^xn--/,u=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,r={overflow:"Overflow: input needs wider integers to process",
"not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=Math.floor,H=String.fromCharCode,E,y={version:"1.4.1",ucs2:{decode:m,encode:g},decode:c,encode:x,toASCII:function(b){return f(b,function(b){return u.test(b)?"xn--"+x(b):b})},toUnicode:function(b){return f(b,function(b){return t.test(b)?c(b.slice(4).toLowerCase()):b})}};if(p&&q)if(h.exports==p)q.exports=y;else for(E in y)y.hasOwnProperty(E)&&(p[E]=y[E]);else e.punycode=y})(this)}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],63:[function(c,h,l){h.exports=function(e,d,b,f){b=b||"=";var m={};if("string"!==typeof e||0===e.length)return m;var g=/\+/g;e=e.split(d||"&");d=1E3;f&&"number"===typeof f.maxKeys&&(d=f.maxKeys);f=e.length;0<d&&f>d&&(f=d);for(d=0;d<f;++d){var k=e[d].replace(g,"%20"),n=k.indexOf(b),c;0<=n?(c=k.substr(0,n),k=k.substr(n+1)):(c=k,k="");c=decodeURIComponent(c);k=decodeURIComponent(k);Object.prototype.hasOwnProperty.call(m,
c)?a(m[c])?m[c].push(k):m[c]=[m[c],k]:m[c]=k}return m};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],64:[function(c,h,l){function a(b,a){if(b.map)return b.map(a);for(var d=[],k=0;k<b.length;k++)d.push(a(b[k],k));return d}var e=function(b){switch(typeof b){case "string":return b;case "boolean":return b?"true":"false";case "number":return isFinite(b)?b:"";default:return""}};h.exports=function(f,m,g,k){m=m||"&";g=g||"=";null===f&&(f=void 0);return"object"===
typeof f?a(b(f),function(b){var k=encodeURIComponent(e(b))+g;return d(f[b])?a(f[b],function(b){return k+encodeURIComponent(e(b))}).join(m):k+encodeURIComponent(e(f[b]))}).join(m):k?encodeURIComponent(e(k))+g+encodeURIComponent(e(f)):""};var d=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},b=Object.keys||function(b){var a=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&a.push(d);return a}},{}],65:[function(c,h,l){l.decode=l.parse=c("./decode");l.encode=
l.stringify=c("./encode")},{"./decode":63,"./encode":64}],66:[function(c,h,l){function a(b,a){m.call(this);a=a||10;this.baseUrl=b||"";this.progress=0;this.loading=!1;this._progressChunk=0;this._beforeMiddleware=[];this._afterMiddleware=[];this._boundLoadResource=this._loadResource.bind(this);this._buffer=[];this._numToLoad=0;this._queue=e(this._boundLoadResource,a);this.resources={}}var e=c("async/queue"),d=c("async/eachSeries"),b=c("url"),f=c("./Resource"),m=c("eventemitter3");a.prototype=Object.create(m.prototype);
a.prototype.constructor=a;h.exports=a;a.prototype.add=a.prototype.enqueue=function(b,a,d,m){if(Array.isArray(b)){for(a=0;a<b.length;++a)this.add(b[a]);return this}"object"===typeof b&&(m=a||b.callback||b.onComplete,d=b,a=b.url,b=b.name||b.key||b.url);"string"!==typeof a&&(m=d,d=a,a=b);if("string"!==typeof a)throw Error("No url passed to add resource to loader.");"function"===typeof d&&(m=d,d=null);if(this.resources[b])throw Error('Resource with name "'+b+'" already exists.');a=this._prepareUrl(a);
this.resources[b]=new f(b,a,d);if("function"===typeof m)this.resources[b].once("afterMiddleware",m);this._numToLoad++;this._queue.started?(this._queue.push(this.resources[b]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[b]),this._progressChunk=100/this._buffer.length);return this};a.prototype.before=a.prototype.pre=function(b){this._beforeMiddleware.push(b);return this};a.prototype.after=a.prototype.use=function(b){this._afterMiddleware.push(b);
return this};a.prototype.reset=function(){this.progress=0;this.loading=!1;this._progressChunk=0;this._numToLoad=this._buffer.length=0;this._queue.kill();this._queue.started=!1;for(var b in this.resources){var a=this.resources[b];a.off("complete",this._onLoad,this);a.isLoading&&a.abort()}this.resources={};return this};a.prototype.load=function(b){if("function"===typeof b)this.once("complete",b);if(this._queue.started)return this;this.emit("start",this);this.loading=!0;for(b=0;b<this._buffer.length;++b)this._queue.push(this._buffer[b]);
this._buffer.length=0;return this};a.prototype._prepareUrl=function(a){var d=b.parse(a);return d.protocol||!d.pathname||0===d.pathname.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a};a.prototype._loadResource=function(b,a){var f=this;b._dequeue=a;d(this._beforeMiddleware,function(a,d){a.call(f,b,function(){d(b.isComplete?{}:null)})},function(){b.isComplete?f._onLoad(b):(b.once("complete",f._onLoad,f),
b.load())})};a.prototype._onComplete=function(){this.loading=!1;this.emit("complete",this,this.resources)};a.prototype._onLoad=function(b){var a=this;d(this._afterMiddleware,function(d,f){d.call(a,b,f)},function(){b.emit("afterMiddleware",b);a._numToLoad--;a.progress+=a._progressChunk;a.emit("progress",a,b);b.error?a.emit("error",b.error,a,b):a.emit("load",a,b);0===a._numToLoad&&(a.progress=100,a._onComplete())});b._dequeue()};a.LOAD_TYPE=f.LOAD_TYPE;a.XHR_RESPONSE_TYPE=f.XHR_RESPONSE_TYPE},{"./Resource":67,
"async/eachSeries":18,"async/queue":29,eventemitter3:32,url:72}],67:[function(c,h,l){function a(a,d,f){b.call(this);f=f||{};if("string"!==typeof a||"string"!==typeof d)throw Error("Both name and url are required for constructing a resource.");this.name=a;this.url=d;this.isDataUrl=0===this.url.indexOf("data:");this.data=null;this.crossOrigin=!0===f.crossOrigin?"anonymous":f.crossOrigin;this.loadType=f.loadType||this._determineLoadType();this.xhrType=f.xhrType;this.metadata=f.metadata||{};this.xhr=
this.error=null;this.isLoading=this.isComplete=this.isVideo=this.isAudio=this.isImage=this.isXml=this.isJson=!1;this._dequeue=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function e(b){return b.toString().replace("object ",
"")}function d(b,a,d){a&&0===a.indexOf(".")&&(a=a.substring(1));a&&(b[a]=d)}var b=c("eventemitter3"),f=c("url"),m=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),g=null;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",
this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");
this.isComplete=!0;this.isLoading=!1;this.emit("complete",this)};a.prototype.abort=function(b){if(!this.error){this.error=Error(b);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if("undefined"!==typeof this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};a.prototype.load=function(b){if(!this.isLoading)if(this.isComplete){if(b){var d=this;setTimeout(function(){b(d)},1)}}else{if(b)this.once("complete",
b);this.isLoading=!0;this.emit("start",this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case a.LOAD_TYPE.IMAGE:this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;default:m&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};a.prototype._loadElement=function(b){this.data=this.metadata.loadElement?this.metadata.loadElement:
"image"===b&&"undefined"!==typeof window.Image?new Image:document.createElement(b);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);b="is"+b[0].toUpperCase()+b.substring(1);!1===this[b]&&(this[b]=!0);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};a.prototype._loadSourceElement=function(b){this.data=this.metadata.loadElement?
this.metadata.loadElement:"audio"===b&&"undefined"!==typeof window.Audio?new Audio:document.createElement(b);if(null===this.data)this.abort("Unsupported element "+b);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var a=0;a<this.url.length;++a)this.data.appendChild(this._createSource(b,this.url[a]));else this.data.appendChild(this._createSource(b,this.url));this["is"+b[0].toUpperCase()+b.substring(1)]=
!0;this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};a.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0);b.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===
a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType;b.addEventListener("error",this._boundXhrOnError,!1);b.addEventListener("abort",this._boundXhrOnAbort,!1);b.addEventListener("progress",this._boundOnProgress,!1);b.addEventListener("load",this._boundXhrOnLoad,!1);b.send()};a.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XDomainRequest;b.timeout=5E3;b.onerror=this._boundXhrOnError;b.ontimeout=this._boundXdrOnTimeout;
b.onprogress=this._boundOnProgress;b.onload=this._boundXhrOnLoad;b.open("GET",this.url,!0);setTimeout(function(){b.send()},0)};a.prototype._createSource=function(b,a,d){d||(d=b+"/"+a.substr(a.lastIndexOf(".")+1));b=document.createElement("source");b.src=a;b.type=d;return b};a.prototype._onError=function(b){this.abort("Failed to load element using "+b.target.nodeName)};a.prototype._onProgress=function(b){b&&b.lengthComputable&&this.emit("progress",this,b.loaded/b.total)};a.prototype._xhrOnError=function(){var b=
this.xhr;this.abort(e(b)+" Request failed. Status: "+b.status+', text: "'+b.statusText+'"')};a.prototype._xhrOnAbort=function(){this.abort(e(this.xhr)+" Request was aborted by the user.")};a.prototype._xdrOnTimeout=function(){this.abort(e(this.xhr)+" Request timed out.")};a.prototype._xhrOnLoad=function(){var b=this.xhr,d="undefined"===typeof b.status?b.status:200;if(200===d||204===d||0===d&&0<b.responseText.length){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=b.responseText;else if(this.xhrType===
a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b.responseText),this.isJson=!0}catch(f){this.abort("Error trying to parse loaded json:",f);return}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b.responseText,"text/xml");else{var g=document.createElement("div");g.innerHTML=b.responseText;this.data=g}this.isXml=!0}catch(f){this.abort("Error trying to parse loaded xml:",f);return}else this.data=b.response||b.responseText;this.complete()}else this.abort("["+
b.status+"]"+b.statusText+":"+b.responseURL)};a.prototype._determineCrossOrigin=function(b,a){if(0===b.indexOf("data:"))return"";a=a||window.location;g||(g=document.createElement("a"));g.href=b;b=f.parse(g.href);var d=!b.port&&""===a.port||b.port===a.port;return b.hostname===a.hostname&&d&&b.protocol===a.protocol?"":"anonymous"};a.prototype._determineXhrType=function(){return a._xhrTypeMap[this._getExtension()]||a.XHR_RESPONSE_TYPE.TEXT};a.prototype._determineLoadType=function(){return a._loadTypeMap[this._getExtension()]||
a.LOAD_TYPE.XHR};a.prototype._getExtension=function(){var b=this.url;if(this.isDataUrl)var a=b.indexOf("/"),b=b.substring(a+1,b.indexOf(";",a));else a=b.indexOf("?"),-1!==a&&(b=b.substring(0,a)),b=b.substring(b.lastIndexOf(".")+1);return b.toLowerCase()};a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";
default:return"text/plain"}};a.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};a.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a._loadTypeMap={gif:a.LOAD_TYPE.IMAGE,png:a.LOAD_TYPE.IMAGE,bmp:a.LOAD_TYPE.IMAGE,jpg:a.LOAD_TYPE.IMAGE,jpeg:a.LOAD_TYPE.IMAGE,tif:a.LOAD_TYPE.IMAGE,tiff:a.LOAD_TYPE.IMAGE,webp:a.LOAD_TYPE.IMAGE,tga:a.LOAD_TYPE.IMAGE,"svg+xml":a.LOAD_TYPE.IMAGE};a._xhrTypeMap={xhtml:a.XHR_RESPONSE_TYPE.DOCUMENT,html:a.XHR_RESPONSE_TYPE.DOCUMENT,
htm:a.XHR_RESPONSE_TYPE.DOCUMENT,xml:a.XHR_RESPONSE_TYPE.DOCUMENT,tmx:a.XHR_RESPONSE_TYPE.DOCUMENT,tsx:a.XHR_RESPONSE_TYPE.DOCUMENT,svg:a.XHR_RESPONSE_TYPE.DOCUMENT,gif:a.XHR_RESPONSE_TYPE.BLOB,png:a.XHR_RESPONSE_TYPE.BLOB,bmp:a.XHR_RESPONSE_TYPE.BLOB,jpg:a.XHR_RESPONSE_TYPE.BLOB,jpeg:a.XHR_RESPONSE_TYPE.BLOB,tif:a.XHR_RESPONSE_TYPE.BLOB,tiff:a.XHR_RESPONSE_TYPE.BLOB,webp:a.XHR_RESPONSE_TYPE.BLOB,tga:a.XHR_RESPONSE_TYPE.BLOB,json:a.XHR_RESPONSE_TYPE.JSON,text:a.XHR_RESPONSE_TYPE.TEXT,txt:a.XHR_RESPONSE_TYPE.TEXT};
a.setExtensionLoadType=function(b,f){d(a._loadTypeMap,b,f)};a.setExtensionXhrType=function(b,f){d(a._xhrTypeMap,b,f)}},{eventemitter3:32,url:72}],68:[function(c,h,l){h.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(a){for(var c="",d,b=Array(4),f=0,m;f<a.length;){d=Array(3);for(m=0;m<d.length;m++)d[m]=f<a.length?a.charCodeAt(f++)&255:0;b[0]=d[0]>>2;b[1]=(d[0]&3)<<4|d[1]>>4;b[2]=(d[1]&15)<<2|d[2]>>6;b[3]=d[2]&63;d=f-(a.length-1);switch(d){case 2:b[3]=
64;b[2]=64;break;case 1:b[3]=64}for(m=0;m<b.length;m++)c+=this._keyStr.charAt(b[m])}return c}}},{}],69:[function(c,h,l){h.exports=c("./Loader");h.exports.Resource=c("./Resource");h.exports.middleware={caching:{memory:c("./middlewares/caching/memory")},parsing:{blob:c("./middlewares/parsing/blob")}}},{"./Loader":66,"./Resource":67,"./middlewares/caching/memory":70,"./middlewares/parsing/blob":71}],70:[function(c,h,l){var a={};h.exports=function(){return function(c,d){if(a[c.url])c.data=a[c.url],c.complete();
else c.once("complete",function(){a[this.url]=this.data});d()}}},{}],71:[function(c,h,l){var a=c("../../Resource"),e=c("../../b64"),d=window.URL||window.webkitURL;h.exports=function(){return function(b,f){if(b.data&&b.xhr&&b.xhrType===a.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof b.data){var m=b.xhr.getResponseHeader("content-type");if(m&&0===m.indexOf("image")){b.data=new Image;b.data.src="data:"+m+";base64,"+e.encodeBinary(b.xhr.responseText);b.isImage=!0;b.data.onload=function(){b.data.onload=
null;f()};return}}else if(0===b.data.type.indexOf("image")){var g=d.createObjectURL(b.data);b.blob=b.data;b.data=new Image;b.data.src=g;b.isImage=!0;b.data.onload=function(){d.revokeObjectURL(g);b.data.onload=null;f()};return}f()}}},{"../../Resource":67,"../../b64":68}],72:[function(c,h,l){function a(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function e(d,f,g){if(d&&b.isObject(d)&&d instanceof a)return d;
var k=new a;k.parse(d,f,g);return k}var d=c("punycode"),b=c("./util");l.parse=e;l.resolve=function(b,a){return e(b,!1,!0).resolve(a)};l.resolveObject=function(b,a){return b?e(b,!1,!0).resolveObject(a):a};l.format=function(d){b.isString(d)&&(d=e(d));return d instanceof a?d.format():a.prototype.format.call(d)};l.Url=a;var f=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,g=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;h="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var k=["'"].concat(h),n=["%","/","?",";","#"].concat(k),
v=["/","?","#"],x=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},t={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u=c("querystring");a.prototype.parse=function(a,m,c){if(!b.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var e=a.indexOf("?"),e=-1!==e&&e<a.indexOf("#")?"?":"#";a=a.split(e);a[0]=a[0].replace(/\\/g,"/");a=a.join(e);
e=a.trim();if(!c&&1===a.split("#").length&&(a=g.exec(e)))return this.href=this.path=e,this.pathname=a[1],a[2]?(this.search=a[2],this.query=m?u.parse(this.search.substr(1)):this.search.substr(1)):m&&(this.search="",this.query={}),this;if(a=f.exec(e)){a=a[0];var h=a.toLowerCase();this.protocol=h;e=e.substr(a.length)}if(c||a||e.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===e.substr(0,2);!l||a&&y[a]||(e=e.substr(2),this.slashes=!0)}if(!y[a]&&(l||a&&!t[a])){l=-1;for(c=0;c<v.length;c++)a=e.indexOf(v[c]),
-1!==a&&(-1===l||a<l)&&(l=a);l=-1===l?e.lastIndexOf("@"):e.lastIndexOf("@",l);-1!==l&&(c=e.slice(0,l),e=e.slice(l+1),this.auth=decodeURIComponent(c));l=-1;for(c=0;c<n.length;c++)a=e.indexOf(n[c]),-1!==a&&(-1===l||a<l)&&(l=a);-1===l&&(l=e.length);this.host=e.slice(0,l);e=e.slice(l);this.parseHost();this.hostname=this.hostname||"";l="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!l){var I=this.hostname.split(/\./);c=0;for(a=I.length;c<a;c++){var J=I[c];if(J&&!J.match(x)){for(var B=
"",D=0,M=J.length;D<M;D++)B=127<J.charCodeAt(D)?B+"x":B+J[D];if(!B.match(x)){a=I.slice(0,c);c=I.slice(c+1);if(J=J.match(p))a.push(J[1]),c.unshift(J[2]);c.length&&(e="/"+c.join(".")+e);this.hostname=a.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();l||(this.hostname=d.toASCII(this.hostname));c=this.port?":"+this.port:"";this.host=(this.hostname||"")+c;this.href+=this.host;l&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==e[0]&&(e="/"+e))}if(!q[h])for(c=
0,a=k.length;c<a;c++)l=k[c],-1!==e.indexOf(l)&&(J=encodeURIComponent(l),J===l&&(J=escape(l)),e=e.split(l).join(J));c=e.indexOf("#");-1!==c&&(this.hash=e.substr(c),e=e.slice(0,c));c=e.indexOf("?");-1!==c?(this.search=e.substr(c),this.query=e.substr(c+1),m&&(this.query=u.parse(this.query)),e=e.slice(0,c)):m&&(this.search="",this.query={});e&&(this.pathname=e);t[h]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)c=this.pathname||"",this.path=c+(this.search||"");this.href=
this.format();return this};a.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var d=this.protocol||"",f=this.pathname||"",g=this.hash||"",k=!1,m="";this.host?k=a+this.host:this.hostname&&(k=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port));this.query&&b.isObject(this.query)&&Object.keys(this.query).length&&(m=u.stringify(this.query));a=this.search||m&&"?"+m||"";d&&":"!==d.substr(-1)&&(d+=
":");this.slashes||(!d||t[d])&&!1!==k?(k="//"+(k||""),f&&"/"!==f.charAt(0)&&(f="/"+f)):k||(k="");g&&"#"!==g.charAt(0)&&(g="#"+g);a&&"?"!==a.charAt(0)&&(a="?"+a);f=f.replace(/[?#]/g,function(b){return encodeURIComponent(b)});a=a.replace("#","%23");return d+k+f+a+g};a.prototype.resolve=function(b){return this.resolveObject(e(b,!1,!0)).format()};a.prototype.resolveObject=function(d){if(b.isString(d)){var f=new a;f.parse(d,!1,!0);d=f}for(var f=new a,g=Object.keys(this),k=0;k<g.length;k++){var m=g[k];
f[m]=this[m]}f.hash=d.hash;if(""===d.href)return f.href=f.format(),f;if(d.slashes&&!d.protocol){g=Object.keys(d);for(k=0;k<g.length;k++)m=g[k],"protocol"!==m&&(f[m]=d[m]);t[f.protocol]&&f.hostname&&!f.pathname&&(f.path=f.pathname="/");f.href=f.format();return f}if(d.protocol&&d.protocol!==f.protocol){if(!t[d.protocol]){g=Object.keys(d);for(k=0;k<g.length;k++)m=g[k],f[m]=d[m];f.href=f.format();return f}f.protocol=d.protocol;if(d.host||y[d.protocol])f.pathname=d.pathname;else{for(var c=(d.pathname||
"").split("/");c.length&&!(d.host=c.shift()););d.host||(d.host="");d.hostname||(d.hostname="");""!==c[0]&&c.unshift("");2>c.length&&c.unshift("");f.pathname=c.join("/")}f.search=d.search;f.query=d.query;f.host=d.host||"";f.auth=d.auth;f.hostname=d.hostname||d.host;f.port=d.port;if(f.pathname||f.search)f.path=(f.pathname||"")+(f.search||"");f.slashes=f.slashes||d.slashes;f.href=f.format();return f}var g=f.pathname&&"/"===f.pathname.charAt(0),n=d.host||d.pathname&&"/"===d.pathname.charAt(0),e=g=n||
g||f.host&&d.pathname,k=f.pathname&&f.pathname.split("/")||[],c=d.pathname&&d.pathname.split("/")||[];if(m=f.protocol&&!t[f.protocol])f.hostname="",f.port=null,f.host&&(""===k[0]?k[0]=f.host:k.unshift(f.host)),f.host="",d.protocol&&(d.hostname=null,d.port=null,d.host&&(""===c[0]?c[0]=d.host:c.unshift(d.host)),d.host=null),g=g&&(""===c[0]||""===k[0]);if(n)f.host=d.host||""===d.host?d.host:f.host,f.hostname=d.hostname||""===d.hostname?d.hostname:f.hostname,f.search=d.search,f.query=d.query,k=c;else if(c.length)k||
(k=[]),k.pop(),k=k.concat(c),f.search=d.search,f.query=d.query;else if(!b.isNullOrUndefined(d.search))return m&&(f.hostname=f.host=k.shift(),m=f.host&&0<f.host.indexOf("@")?f.host.split("@"):!1)&&(f.auth=m.shift(),f.host=f.hostname=m.shift()),f.search=d.search,f.query=d.query,b.isNull(f.pathname)&&b.isNull(f.search)||(f.path=(f.pathname?f.pathname:"")+(f.search?f.search:"")),f.href=f.format(),f;if(!k.length)return f.pathname=null,f.path=f.search?"/"+f.search:null,f.href=f.format(),f;for(var n=k.slice(-1)[0],
c=(f.host||d.host||1<k.length)&&("."===n||".."===n)||""===n,v=0,x=k.length;0<=x;x--)n=k[x],"."===n?k.splice(x,1):".."===n?(k.splice(x,1),v++):v&&(k.splice(x,1),v--);if(!g&&!e)for(;v--;v)k.unshift("..");!g||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift("");c&&"/"!==k.join("/").substr(-1)&&k.push("");e=""===k[0]||k[0]&&"/"===k[0].charAt(0);m&&(f.hostname=f.host=e?"":k.length?k.shift():"",m=f.host&&0<f.host.indexOf("@")?f.host.split("@"):!1)&&(f.auth=m.shift(),f.host=f.hostname=m.shift());(g=g||f.host&&
k.length)&&!e&&k.unshift("");k.length?f.pathname=k.join("/"):(f.pathname=null,f.path=null);b.isNull(f.pathname)&&b.isNull(f.search)||(f.path=(f.pathname?f.pathname:"")+(f.search?f.search:""));f.auth=d.auth||f.auth;f.slashes=f.slashes||d.slashes;f.href=f.format();return f};a.prototype.parseHost=function(){var b=this.host,a=m.exec(b);a&&(a=a[0],":"!==a&&(this.port=a.substr(1)),b=b.substr(0,b.length-a.length));b&&(this.hostname=b)}},{"./util":73,punycode:62,querystring:65}],73:[function(c,h,l){h.exports=
{isString:function(a){return"string"===typeof a},isObject:function(a){return"object"===typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],74:[function(c,h,l){function a(b){!d.tablet&&!d.phone||navigator.isCocoonJS||this.createTouchHook();var a=document.createElement("div");a.style.width="100px";a.style.height="100px";a.style.position="absolute";a.style.top=0;a.style.left=0;a.style.zIndex=2;this.div=a;this.pool=[];this.renderId=0;this.debug=
!1;this.renderer=b;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}var e=c("../core"),d=c("ismobilejs");Object.assign(e.DisplayObject.prototype,c("./accessibleTarget"));a.prototype.constructor=a;h.exports=a;a.prototype.createTouchHook=function(){var b=document.createElement("button");b.style.width="1px";b.style.height="1px";b.style.position=
"absolute";b.style.top="-1000px";b.style.left="-1000px";b.style.zIndex=2;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){this.isMobileAccessabillity=!0;this.activate();document.body.removeChild(b)}.bind(this));document.body.appendChild(b)};a.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",
this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};a.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};a.prototype.updateAccessibleObjects=function(b){if(b.visible){b.accessible&&
b.interactive&&(b._accessibleActive||this.addChild(b),b.renderId=this.renderId);b=b.children;for(var a=b.length-1;0<=a;a--)this.updateAccessibleObjects(b[a])}};a.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var b=this.renderer.view.getBoundingClientRect(),a=b.width/this.renderer.width,d=b.height/this.renderer.height,g=this.div;g.style.left=b.left+"px";g.style.top=b.top+"px";g.style.width=this.renderer.width+"px";g.style.height=
this.renderer.height+"px";for(b=0;b<this.children.length;b++){var k=this.children[b];if(k.renderId!==this.renderId)k._accessibleActive=!1,e.utils.removeItems(this.children,b,1),this.div.removeChild(k._accessibleDiv),this.pool.push(k._accessibleDiv),k._accessibleDiv=null,b--,0===this.children.length&&this.deactivate();else{var g=k._accessibleDiv,c=k.hitArea,v=k.worldTransform;k.hitArea?(g.style.left=(v.tx+c.x*v.a)*a+"px",g.style.top=(v.ty+c.y*v.d)*d+"px",g.style.width=c.width*v.a*a+"px",g.style.height=
c.height*v.d*d+"px"):(c=k.getBounds(),this.capHitArea(c),g.style.left=c.x*a+"px",g.style.top=c.y*d+"px",g.style.width=c.width*a+"px",g.style.height=c.height*d+"px")}}this.renderId++}};a.prototype.capHitArea=function(b){0>b.x&&(b.width+=b.x,b.x=0);0>b.y&&(b.height+=b.y,b.y=0);b.x+b.width>this.renderer.width&&(b.width=this.renderer.width-b.x);b.y+b.height>this.renderer.height&&(b.height=this.renderer.height-b.y)};a.prototype.addChild=function(b){var a=this.pool.pop();a||(a=document.createElement("button"),
a.style.width="100px",a.style.height="100px",a.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",a.style.position="absolute",a.style.zIndex=2,a.style.borderStyle="none",a.addEventListener("click",this._onClick.bind(this)),a.addEventListener("focus",this._onFocus.bind(this)),a.addEventListener("focusout",this._onFocusOut.bind(this)));b.accessibleTitle?a.title=b.accessibleTitle:b.accessibleTitle||b.accessibleHint||(a.title="displayObject "+this.tabIndex);b.accessibleHint&&a.setAttribute("aria-label",
b.accessibleHint);b._accessibleActive=!0;b._accessibleDiv=a;a.displayObject=b;this.children.push(b);this.div.appendChild(b._accessibleDiv);b._accessibleDiv.tabIndex=b.tabIndex};a.prototype._onClick=function(b){var a=this.renderer.plugins.interaction;a.dispatchEvent(b.target.displayObject,"click",a.eventData)};a.prototype._onFocus=function(b){var a=this.renderer.plugins.interaction;a.dispatchEvent(b.target.displayObject,"mouseover",a.eventData)};a.prototype._onFocusOut=function(b){var a=this.renderer.plugins.interaction;
a.dispatchEvent(b.target.displayObject,"mouseout",a.eventData)};a.prototype._onKeyDown=function(b){9===b.keyCode&&this.activate()};a.prototype._onMouseMove=function(){this.deactivate()};a.prototype.destroy=function(){this.div=null;for(var b=0;b<this.children.length;b++)this.children[b].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};e.WebGLRenderer.registerPlugin("accessibility",
a);e.CanvasRenderer.registerPlugin("accessibility",a)},{"../core":97,"./accessibleTarget":75,ismobilejs:33}],75:[function(c,h,l){h.exports={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],76:[function(c,h,l){h.exports={accessibleTarget:c("./accessibleTarget"),AccessibilityManager:c("./AccessibilityManager")}},{"./AccessibilityManager":74,"./accessibleTarget":75}],77:[function(c,h,l){function a(b){if(b instanceof Array)"precision"!==b[0].substring(0,
9)&&(b=b.slice(0),b.unshift("precision "+d.PRECISION.DEFAULT+" float;"));else if("precision"!==b.substring(0,9))return"precision "+d.PRECISION.DEFAULT+" float;\n"+b;return b}var e=c("pixi-gl-core").GLShader,d=c("./const");c=function(b,d,m,g){e.call(this,b,a(d),a(m),g)};c.prototype=Object.create(e.prototype);c.prototype.constructor=c;h.exports=c},{"./const":78,"pixi-gl-core":7}],78:[function(c,h,l){c={VERSION:"4.0.2",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,
WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},WRAP_MODES:{DEFAULT:0,CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},GC_MODES:{DEFAULT:0,AUTO:0,MANUAL:1},MIPMAP_TEXTURES:!0,RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,
FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},PRECISION:{DEFAULT:"mediump",LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},TRANSFORM_MODE:{DEFAULT:0,STATIC:0,DYNAMIC:1},TEXT_GRADIENT:{LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},SPRITE_BATCH_SIZE:4096,SPRITE_MAX_TEXTURES:c("./utils/maxRecommendedTextures")(32)};
h.exports=c},{"./utils/maxRecommendedTextures":152}],79:[function(c,h,l){function a(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null}var e=c("../math").Rectangle;a.prototype.constructor=a;h.exports=a;a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};a.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};a.prototype.getRectangle=function(a){if(this.minX>this.maxX||this.minY>this.maxY)return e.EMPTY;
a=a||new e(0,0,1,1);a.x=this.minX;a.y=this.minY;a.width=this.maxX-this.minX;a.height=this.maxY-this.minY;return a};a.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x);this.maxX=Math.max(this.maxX,a.x);this.minY=Math.min(this.minY,a.y);this.maxY=Math.max(this.maxY,a.y)};a.prototype.addQuad=function(a){var b=this.minX,f=this.minY,m=this.maxX,g=this.maxY,k=a[0],c=a[1],b=k<b?k:b,f=c<f?c:f,m=k>m?k:m,g=c>g?c:g,k=a[2],c=a[3],b=k<b?k:b,f=c<f?c:f,m=k>m?k:m,g=c>g?c:g,k=a[4],c=a[5],b=k<b?k:b,
f=c<f?c:f,m=k>m?k:m,g=c>g?c:g,k=a[6],c=a[7];this.minX=k<b?k:b;this.minY=c<f?c:f;this.maxX=k>m?k:m;this.maxY=c>g?c:g};a.prototype.addFrame=function(a,b,f,m,g){var k=a.worldTransform;a=k.a;var c=k.b,e=k.c,x=k.d,h=k.tx,k=k.ty,l=this.minX,y=this.minY,t=this.maxX,u=this.maxY,w=a*b+e*f+h,r=c*b+x*f+k,l=w<l?w:l,y=r<y?r:y,t=w>t?w:t,u=r>u?r:u,w=a*m+e*f+h,r=c*m+x*f+k,l=w<l?w:l,y=r<y?r:y,t=w>t?w:t,u=r>u?r:u,w=a*b+e*g+h,r=c*b+x*g+k,l=w<l?w:l,y=r<y?r:y,t=w>t?w:t,u=r>u?r:u,w=a*m+e*g+h,r=c*m+x*g+k;this.minX=w<l?
w:l;this.minY=r<y?r:y;this.maxX=w>t?w:t;this.maxY=r>u?r:u};a.prototype.addVertices=function(a,b,f,m){var g=a.worldTransform;a=g.a;for(var k=g.b,c=g.c,e=g.d,x=g.tx,g=g.ty,h=this.minX,l=this.minY,y=this.maxX,t=this.maxY;f<m;f+=2)var u=b[f],w=b[f+1],r=a*u+c*w+x,u=e*w+k*u+g,h=r<h?r:h,l=u<l?u:l,y=r>y?r:y,t=u>t?u:t;this.minX=h;this.minY=l;this.maxX=y;this.maxY=t};a.prototype.addBounds=function(a){var b=this.minX,f=this.minY,m=this.maxX,g=this.maxY;this.minX=a.minX<b?a.minX:b;this.minY=a.minY<f?a.minY:f;
this.maxX=a.maxX>m?a.maxX:m;this.maxY=a.maxY>g?a.maxY:g}},{"../math":102}],80:[function(c,h,l){function a(){d.call(this);this.children=[]}var e=c("../utils"),d=c("./DisplayObject");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(b){var a=this.getLocalBounds().width;this.scale.x=0!==a?b/a:1;this._width=b}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},
set:function(b){var a=this.getLocalBounds().height;this.scale.y=0!==a?b/a:1;this._height=b}}});a.prototype.onChildrenChange=function(){};a.prototype.addChild=function(b){var a=arguments.length;if(1<a)for(var d=0;d<a;d++)this.addChild(arguments[d]);else b.parent&&b.parent.removeChild(b),b.parent=this,this.transform._parentID=-1,this.children.push(b),this.onChildrenChange(this.children.length-1),b.emit("added",this);return b};a.prototype.addChildAt=function(b,a){if(0<=a&&a<=this.children.length)return b.parent&&
b.parent.removeChild(b),b.parent=this,this.children.splice(a,0,b),this.onChildrenChange(a),b.emit("added",this),b;throw Error(b+"addChildAt: The index "+a+" supplied is out of bounds "+this.children.length);};a.prototype.swapChildren=function(b,a){if(b!==a){var d=this.getChildIndex(b),g=this.getChildIndex(a);if(0>d||0>g)throw Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[d]=a;this.children[g]=b;this.onChildrenChange(d<g?d:g)}};a.prototype.getChildIndex=
function(b){b=this.children.indexOf(b);if(-1===b)throw Error("The supplied DisplayObject must be a child of the caller");return b};a.prototype.setChildIndex=function(b,a){if(0>a||a>=this.children.length)throw Error("The supplied index is out of bounds");var d=this.getChildIndex(b);e.removeItems(this.children,d,1);this.children.splice(a,0,b);this.onChildrenChange(a)};a.prototype.getChildAt=function(b){if(0>b||b>=this.children.length)throw Error("getChildAt: Supplied index "+b+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");
return this.children[b]};a.prototype.removeChild=function(b){var a=arguments.length;if(1<a)for(var d=0;d<a;d++)this.removeChild(arguments[d]);else{a=this.children.indexOf(b);if(-1===a)return;b.parent=null;e.removeItems(this.children,a,1);this.onChildrenChange(a);b.emit("removed",this)}return b};a.prototype.removeChildAt=function(b){var a=this.getChildAt(b);a.parent=null;e.removeItems(this.children,b,1);this.onChildrenChange(b);a.emit("removed",this);return a};a.prototype.removeChildren=function(b,
a){var d=b||0,g="number"===typeof a?a:this.children.length,k=g-d;if(0<k&&k<=g){d=this.children.splice(d,k);for(g=0;g<d.length;++g)d[g].parent=null;this.onChildrenChange(b);for(g=0;g<d.length;++g)d[g].emit("removed",this);return d}if(0===k&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};a.prototype.updateTransform=function(){this._boundsID++;if(this.visible){this.transform.updateTransform(this.parent.transform);this.worldAlpha=
this.alpha*this.parent.worldAlpha;for(var b=0,a=this.children.length;b<a;++b)this.children[b].updateTransform()}};a.prototype.containerUpdateTransform=a.prototype.updateTransform;a.prototype.calculateBounds=function(){this._bounds.clear();if(this.visible){this._calculateBounds();for(var b=0;b<this.children.length;b++){var a=this.children[b];a.calculateBounds();this._bounds.addBounds(a._bounds)}this._boundsID=this._lastBoundsID}};a.prototype._calculateBounds=function(){};a.prototype.renderWebGL=function(b){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(b);else{this._renderWebGL(b);for(var a=0,d=this.children.length;a<d;++a)this.children[a].renderWebGL(b)}};a.prototype.renderAdvancedWebGL=function(b){b.currentRenderer.flush();var a=this._filters,d=this._mask,g,k;if(a){this._enabledFilters||(this._enabledFilters=[]);for(g=this._enabledFilters.length=0;g<a.length;g++)a[g].enabled&&this._enabledFilters.push(a[g]);this._enabledFilters.length&&b.filterManager.pushFilter(this,
this._enabledFilters)}d&&b.maskManager.pushMask(this,this._mask);b.currentRenderer.start();this._renderWebGL(b);g=0;for(k=this.children.length;g<k;g++)this.children[g].renderWebGL(b);b.currentRenderer.flush();d&&b.maskManager.popMask(this,this._mask);a&&this._enabledFilters&&this._enabledFilters.length&&b.filterManager.popFilter();b.currentRenderer.start()};a.prototype._renderWebGL=function(b){};a.prototype._renderCanvas=function(b){};a.prototype.renderCanvas=function(b){if(this.visible&&!(0>=this.alpha)&&
this.renderable){this._mask&&b.maskManager.pushMask(this._mask);this._renderCanvas(b);for(var a=0,d=this.children.length;a<d;++a)this.children[a].renderCanvas(b);this._mask&&b.maskManager.popMask(b)}};a.prototype.destroy=function(a){d.prototype.destroy.call(this);var f="boolean"===typeof a?a:a&&a.children,m=this.children;this.children=null;if(f)for(f=m.length-1;0<=f;f--){var g=m[f];g.parent=null;g.destroy(a)}}},{"../utils":151,"./DisplayObject":81}],81:[function(c,h,l){function a(){e.call(this);this.transform=
new (d.TRANSFORM_MODE.DEFAULT===d.TRANSFORM_MODE.STATIC?b:f);this.alpha=1;this.renderable=this.visible=!0;this.parent=null;this.worldAlpha=1;this._enabledFilters=this._filters=this.filterArea=null;this._bounds=new m;this._boundsID=0;this._lastBoundsID=-1;this._mask=this._localBoundsRect=this._boundsRect=null}var e=c("eventemitter3"),d=c("../const"),b=c("./TransformStatic"),f=c("./Transform"),m=c("./Bounds"),g=c("../math"),k=new a;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=
a;Object.defineProperties(a.prototype,{x:{get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},worldTransform:{get:function(){return this.transform.worldTransform}},localTransform:{get:function(){return this.transform.localTransform}},position:{get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},scale:{get:function(){return this.transform.scale},
set:function(a){this.transform.scale.copy(a)}},pivot:{get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},skew:{get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},rotation:{get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},worldVisible:{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},mask:{get:function(){return this._mask},set:function(a){this._mask&&
(this._mask.renderable=!0);if(this._mask=a)this._mask.renderable=!1}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}});a.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};a.prototype.displayObjectUpdateTransform=a.prototype.updateTransform;a.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),
this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(k.transform)};a.prototype.getBounds=function(a,b){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=k,this.parent.transform._worldID++,this.updateTransform(),this.parent=null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new g.Rectangle),b=this._boundsRect);return this._bounds.getRectangle(b)};a.prototype.getLocalBounds=
function(a){var b=this.transform,d=this.parent;this.parent=null;this.transform=k.transform;a||(this._localBoundsRect||(this._localBoundsRect=new g.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=d;this.transform=b;return a};a.prototype.toGlobal=function(a,b,d){d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=k,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,b)};a.prototype.toLocal=
function(a,b,d,f){b&&(a=b.toGlobal(a,d,f));f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=k,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.applyInverse(a,d)};a.prototype.renderWebGL=function(a){};a.prototype.renderCanvas=function(a){};a.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};a.prototype.setTransform=function(a,b,d,f,
k,g,m,c,e){this.position.x=a||0;this.position.y=b||0;this.scale.x=d?d:1;this.scale.y=f?f:1;this.rotation=k||0;this.skew.x=g||0;this.skew.y=m||0;this.pivot.x=c||0;this.pivot.y=e||0;return this};a.prototype.destroy=function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1}},{"../const":78,"../math":102,"./Bounds":79,"./Transform":82,"./TransformStatic":84,
eventemitter3:32}],82:[function(c,h,l){function a(){d.call(this);this.position=new e.Point(0,0);this.scale=new e.Point(1,1);this.skew=new e.ObservablePoint(this.updateSkew,this,0,0);this.pivot=new e.Point(0,0);this._rotation=0;this._sr=Math.sin(0);this._cr=Math.cos(0);this._cy=Math.cos(0);this._sy=Math.sin(0);this._nsx=Math.sin(0);this._cx=Math.cos(0)}var e=c("../math"),d=c("./TransformBase");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.updateSkew=function(){this._cy=
Math.cos(this.skew.y);this._sy=Math.sin(this.skew.y);this._nsx=Math.sin(this.skew.x);this._cx=Math.cos(this.skew.x)};a.prototype.updateLocalTransform=function(){var a=this.localTransform,d,m,g,k;d=this._cr*this.scale.x;m=this._sr*this.scale.x;g=-this._sr*this.scale.y;k=this._cr*this.scale.y;a.a=this._cy*d+this._sy*g;a.b=this._cy*m+this._sy*k;a.c=this._nsx*d+this._cx*g;a.d=this._nsx*m+this._cx*k};a.prototype.updateTransform=function(a){a=a.worldTransform;var d=this.worldTransform,m=this.localTransform,
g,k,c,e;g=this._cr*this.scale.x;k=this._sr*this.scale.x;c=-this._sr*this.scale.y;e=this._cr*this.scale.y;m.a=this._cy*g+this._sy*c;m.b=this._cy*k+this._sy*e;m.c=this._nsx*g+this._cx*c;m.d=this._nsx*k+this._cx*e;m.tx=this.position.x-(this.pivot.x*m.a+this.pivot.y*m.c);m.ty=this.position.y-(this.pivot.x*m.b+this.pivot.y*m.d);d.a=m.a*a.a+m.b*a.c;d.b=m.a*a.b+m.b*a.d;d.c=m.c*a.a+m.d*a.c;d.d=m.c*a.b+m.d*a.d;d.tx=m.tx*a.a+m.ty*a.c+a.tx;d.ty=m.tx*a.b+m.ty*a.d+a.ty;this._worldID++};a.prototype.setFromMatrix=
function(a){a.decompose(this)};Object.defineProperties(a.prototype,{rotation:{get:function(){return this._rotation},set:function(a){this._rotation=a;this._sr=Math.sin(a);this._cr=Math.cos(a)}}});h.exports=a},{"../math":102,"./TransformBase":83}],83:[function(c,h,l){function a(){this.worldTransform=new e.Matrix;this.localTransform=new e.Matrix;this._worldID=0}var e=c("../math");a.prototype.constructor=a;a.prototype.updateLocalTransform=function(){};a.prototype.updateTransform=function(a){a=a.worldTransform;
var b=this.worldTransform,f=this.localTransform;b.a=f.a*a.a+f.b*a.c;b.b=f.a*a.b+f.b*a.d;b.c=f.c*a.a+f.d*a.c;b.d=f.c*a.b+f.d*a.d;b.tx=f.tx*a.a+f.ty*a.c+a.tx;b.ty=f.tx*a.b+f.ty*a.d+a.ty;this._worldID++};a.prototype.updateWorldTransform=a.prototype.updateTransform;a.IDENTITY=new a;h.exports=a},{"../math":102}],84:[function(c,h,l){function a(){d.call(this);this.position=new e.ObservablePoint(this.onChange,this,0,0);this.scale=new e.ObservablePoint(this.onChange,this,1,1);this.pivot=new e.ObservablePoint(this.onChange,
this,0,0);this.skew=new e.ObservablePoint(this.updateSkew,this,0,0);this._rotation=0;this._sr=Math.sin(0);this._cr=Math.cos(0);this._cy=Math.cos(0);this._sy=Math.sin(0);this._nsx=Math.sin(0);this._cx=Math.cos(0);this._currentLocalID=this._localID=0}var e=c("../math"),d=c("./TransformBase");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.onChange=function(){this._localID++};a.prototype.updateSkew=function(){this._cy=Math.cos(this.skew._y);this._sy=Math.sin(this.skew._y);
this._nsx=Math.sin(this.skew._x);this._cx=Math.cos(this.skew._x);this._localID++};a.prototype.updateLocalTransform=function(){var a=this.localTransform;if(this._localID!==this._currentLocalID){var d,m,g,k;d=this._cr*this.scale._x;m=this._sr*this.scale._x;g=-this._sr*this.scale._y;k=this._cr*this.scale._y;a.a=this._cy*d+this._sy*g;a.b=this._cy*m+this._sy*k;a.c=this._nsx*d+this._cx*g;a.d=this._nsx*m+this._cx*k;a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c);a.ty=this.position._y-(this.pivot._x*
a.b+this.pivot._y*a.d);this._currentLocalID=this._localID;this._parentID=-1}};a.prototype.updateTransform=function(a){var d=a.worldTransform,m=this.worldTransform,g=this.localTransform;if(this._localID!==this._currentLocalID){var k,c,e,h;k=this._cr*this.scale._x;c=this._sr*this.scale._x;e=-this._sr*this.scale._y;h=this._cr*this.scale._y;g.a=this._cy*k+this._sy*e;g.b=this._cy*c+this._sy*h;g.c=this._nsx*k+this._cx*e;g.d=this._nsx*c+this._cx*h;g.tx=this.position._x-(this.pivot._x*g.a+this.pivot._y*g.c);
g.ty=this.position._y-(this.pivot._x*g.b+this.pivot._y*g.d);this._currentLocalID=this._localID;this._parentID=-1}this._parentID!==a._worldID&&(m.a=g.a*d.a+g.b*d.c,m.b=g.a*d.b+g.b*d.d,m.c=g.c*d.a+g.d*d.c,m.d=g.c*d.b+g.d*d.d,m.tx=g.tx*d.a+g.ty*d.c+d.tx,m.ty=g.tx*d.b+g.ty*d.d+d.ty,this._parentID=a._worldID,this._worldID++)};a.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};Object.defineProperties(a.prototype,{rotation:{get:function(){return this._rotation},set:function(a){this._rotation=
a;this._sr=Math.sin(a);this._cr=Math.cos(a);this._localID++}}});h.exports=a},{"../math":102,"./TransformBase":83}],85:[function(c,h,l){function a(){e.call(this);this.fillAlpha=1;this.lineColor=this.lineWidth=0;this.graphicsData=[];this._prevTint=this.tint=16777215;this.blendMode=k.BLEND_MODES.NORMAL;this.currentPath=null;this._webGL={};this.isMask=!1;this.boundsPadding=0;this._localBounds=new v;this.dirty=0;this.fastRectDirty=-1;this.clearDirty=0;this.boundsDirty=-1;this.cachedSpriteDirty=!1;this._spriteRect=
null;this._fastRect=!1}var e=c("../display/Container"),d=c("../textures/RenderTexture"),b=c("../textures/Texture"),f=c("./GraphicsData"),m=c("../sprites/Sprite"),g=c("../math"),k=c("../const"),n=c("../utils"),v=c("../display/Bounds"),x=c("./utils/bezierCurveTo"),p=c("../renderers/canvas/CanvasRenderer"),q,y=new g.Matrix,t=new g.Point,u=new Float32Array(4),w=new Float32Array(4);a._SPRITE_TEXTURE=null;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){var b=
new a;b.renderable=this.renderable;b.fillAlpha=this.fillAlpha;b.lineWidth=this.lineWidth;b.lineColor=this.lineColor;b.tint=this.tint;b.blendMode=this.blendMode;b.isMask=this.isMask;b.boundsPadding=this.boundsPadding;b.dirty=0;b.cachedSpriteDirty=this.cachedSpriteDirty;for(var d=0;d<this.graphicsData.length;++d)b.graphicsData.push(this.graphicsData[d].clone());b.currentPath=b.graphicsData[b.graphicsData.length-1];b.updateLocalBounds();return b};a.prototype.lineStyle=function(a,b,d){this.lineWidth=
a||0;this.lineColor=b||0;this.lineAlpha=void 0===d?1:d;this.currentPath&&(this.currentPath.shape.points.length?(a=new g.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha));return this};a.prototype.moveTo=function(a,b){var d=new g.Polygon([a,b]);d.closed=!1;this.drawShape(d);return this};a.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,
b);this.dirty++;return this};a.prototype.quadraticCurveTo=function(a,b,d,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var k,g,m=this.currentPath.shape.points;0===m.length&&this.moveTo(0,0);for(var c=m[m.length-2],e=m[m.length-1],n,v=1;20>=v;++v)n=v/20,k=c+(a-c)*n,g=e+(b-e)*n,m.push(k+(a+(d-a)*n-k)*n,g+(b+(f-b)*n-g)*n);this.dirty++;return this};a.prototype.bezierCurveTo=function(a,b,d,f,k,g){this.currentPath?0===this.currentPath.shape.points.length&&
(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var m=this.currentPath.shape.points,c=m[m.length-2],e=m[m.length-1];m.length-=2;x(c,e,a,b,d,f,k,g,m);this.dirty++;return this};a.prototype.arcTo=function(a,b,d,f,k){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var g=this.currentPath.shape.points,m=g[g.length-1]-b,c=g[g.length-2]-a;f-=b;d-=a;var e=Math.abs(m*d-c*f);if(1E-8>e||0===k)g[g.length-2]===a&&g[g.length-1]===b||g.push(a,
b);else{var n=m*m+c*c,v=f*f+d*d,h=m*f+c*d,g=k*Math.sqrt(n)/e,e=k*Math.sqrt(v)/e,n=g*h/n,v=e*h/v,h=g*d+e*c,x=g*f+e*m;this.arc(h+a,x+b,k,Math.atan2(m*(e+n)-x,c*(e+n)-h),Math.atan2(f*(g+v)-x,d*(g+v)-h),c*f>d*m)}this.dirty++;return this};a.prototype.arc=function(a,b,d,f,k,g){g=g||!1;if(f===k)return this;!g&&k<=f?k+=2*Math.PI:g&&f<=k&&(f+=2*Math.PI);g=g?-1*(f-k):k-f;var m=40*Math.ceil(Math.abs(g)/(2*Math.PI));if(0===g)return this;k=a+Math.cos(f)*d;var c=b+Math.sin(f)*d;this.currentPath?this.currentPath.shape.points.push(k,
c):this.moveTo(k,c);k=this.currentPath.shape.points;g/=2*m;for(var c=2*g,e=Math.cos(g),n=Math.sin(g),m=m-1,v=m%1/m,h=0;h<=m;h++){var x=g+f+c*(h+v*h),p=Math.cos(x),x=-Math.sin(x);k.push((e*p+n*x)*d+a,(e*-x+n*p)*d+b)}this.dirty++;return this};a.prototype.beginFill=function(a,b){this.filling=!0;this.fillColor=a||0;this.fillAlpha=void 0===b?1:b;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=
this.fillAlpha);return this};a.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};a.prototype.drawRect=function(a,b,d,f){this.drawShape(new g.Rectangle(a,b,d,f));return this};a.prototype.drawRoundedRect=function(a,b,d,f,k){this.drawShape(new g.RoundedRectangle(a,b,d,f,k));return this};a.prototype.drawCircle=function(a,b,d){this.drawShape(new g.Circle(a,b,d));return this};a.prototype.drawEllipse=function(a,b,d,f){this.drawShape(new g.Ellipse(a,b,d,f));return this};
a.prototype.drawPolygon=function(a){var b=a,d=!0;b instanceof g.Polygon&&(d=b.closed,b=b.points);if(!Array.isArray(b))for(var b=Array(arguments.length),f=0;f<b.length;++f)b[f]=arguments[f];b=new g.Polygon(b);b.closed=d;this.drawShape(b);return this};a.prototype.clear=function(){this.lineWidth=0;this.filling=!1;this.dirty++;this.clearDirty++;this.graphicsData=[];return this};a.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===k.SHAPES.RECT&&!this.graphicsData[0].lineWidth};
a.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};a.prototype._renderSpriteRect=function(d){var f=this.graphicsData[0].shape;if(!this._spriteRect){if(!a._SPRITE_TEXTURE){var k=document.createElement("canvas");k.width=10;k.height=10;var g=k.getContext("2d");g.fillStyle="white";g.fillRect(0,0,10,10);a._SPRITE_TEXTURE=
b.fromCanvas(k)}this._spriteRect=new m(a._SPRITE_TEXTURE)}16777215===this.tint?this._spriteRect.tint=this.graphicsData[0].fillColor:(n.hex2rgb(this.graphicsData[0].fillColor,u),n.hex2rgb(this.tint,w),u[0]*=w[0],u[1]*=w[1],u[2]*=w[2],this._spriteRect.tint=n.rgb2hex(u));this._spriteRect.alpha=this.graphicsData[0].fillAlpha;this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha;a._SPRITE_TEXTURE._frame.width=f.width;a._SPRITE_TEXTURE._frame.height=f.height;this._spriteRect.transform.worldTransform=
this.transform.worldTransform;this._spriteRect.anchor.set(-f.x/f.width,-f.y/f.height);this._spriteRect.onAnchorUpdate();this._spriteRect._renderWebGL(d)};a.prototype._renderCanvas=function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};a.prototype._calculateBounds=function(){if(this.renderable){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.dirty++,this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,
a.maxX,a.maxY)}};a.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,t);a=this.graphicsData;for(var b=0;b<a.length;b++){var d=a[b];if(d.fill&&d.shape&&d.shape.contains(t.x,t.y))return!0}return!1};a.prototype.updateLocalBounds=function(){var a=Infinity,b=-Infinity,d=Infinity,f=-Infinity;if(this.graphicsData.length)for(var g,m,c,e,n,v=0;v<this.graphicsData.length;v++)if(c=this.graphicsData[v],m=c.type,n=c.lineWidth,g=c.shape,m===k.SHAPES.RECT||m===k.SHAPES.RREC)m=g.x-n/2,c=g.y-
n/2,e=g.width+n,n=g.height+n,a=m<a?m:a,b=m+e>b?m+e:b,d=c<d?c:d,f=c+n>f?c+n:f;else if(m===k.SHAPES.CIRC)m=g.x,c=g.y,e=g.radius+n/2,n=g.radius+n/2,a=m-e<a?m-e:a,b=m+e>b?m+e:b,d=c-n<d?c-n:d,f=c+n>f?c+n:f;else if(m===k.SHAPES.ELIP)m=g.x,c=g.y,e=g.width+n/2,n=g.height+n/2,a=m-e<a?m-e:a,b=m+e>b?m+e:b,d=c-n<d?c-n:d,f=c+n>f?c+n:f;else for(g=g.points,e=0;e<g.length;e+=2)m=g[e],c=g[e+1],a=m-n<a?m-n:a,b=m+n>b?m+n:b,d=c-n<d?c-n:d,f=c+n>f?c+n:f;else f=d=b=a=0;v=this.boundsPadding;this._localBounds.minX=a-v;this._localBounds.maxX=
b+2*v;this._localBounds.minY=d-v;this._localBounds.maxY=f+2*v};a.prototype.drawShape=function(a){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;a=new f(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,a);this.graphicsData.push(a);a.type===k.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};a.prototype.generateCanvasTexture=function(a,f){f=f||1;var g=this.getLocalBounds(),
k=new d.create(g.width*f,g.height*f);q||(q=new p);y.tx=-g.x;y.ty=-g.y;q.render(this,k,!1,y);g=b.fromCanvas(k.baseTexture._canvasRenderTarget.canvas,a);g.baseTexture.resolution=f;return g};a.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();return this};a.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};a.prototype.destroy=function(){e.prototype.destroy.apply(this,
arguments);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var b in this._webgl)for(a=0;a<this._webgl[b].data.length;++a)this._webgl[b].data[a].destroy();this._spriteRect&&this._spriteRect.destroy();this._localBounds=this._webgl=this.currentPath=this.graphicsData=null}},{"../const":78,"../display/Bounds":79,"../display/Container":80,"../math":102,"../renderers/canvas/CanvasRenderer":109,"../sprites/Sprite":133,"../textures/RenderTexture":143,"../textures/Texture":144,
"../utils":151,"./GraphicsData":86,"./utils/bezierCurveTo":88}],86:[function(c,h,l){function a(a,d,b,f,m,g,k){this.lineWidth=a;this.lineColor=d;this.lineAlpha=b;this._lineTint=d;this.fillColor=f;this.fillAlpha=m;this._fillTint=f;this.fill=g;this.holes=[];this.shape=k;this.type=k.type}a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){return new a(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)};a.prototype.addHole=function(a){this.holes.push(a)};
a.prototype.destroy=function(){this.holes=this.shape=null}},{}],87:[function(c,h,l){function a(a){this.renderer=a}l=c("../../renderers/canvas/CanvasRenderer");var e=c("../../const");a.prototype.constructor=a;h.exports=a;l.registerPlugin("graphics",a);a.prototype.render=function(a){var b=this.renderer,f=b.context,m=a.worldAlpha,g=a.transform.worldTransform,k=b.resolution;this._prevTint!==this.tint&&(this.dirty=!0);f.setTransform(g.a*k,g.b*k,g.c*k,g.d*k,g.tx*k,g.ty*k);a.dirty&&(this.updateGraphicsTint(a),
a.dirty=!1);b.setBlendMode(a.blendMode);for(b=0;b<a.graphicsData.length;b++){var g=a.graphicsData[b],c=g.shape,k=g._fillTint,v=g._lineTint;f.lineWidth=g.lineWidth;if(g.type===e.SHAPES.POLY){f.beginPath();this.renderPolygon(c.points,c.closed,f);for(var h=0;h<g.holes.length;h++)this.renderPolygon(g.holes[h].points,!0,f);g.fill&&(f.globalAlpha=g.fillAlpha*m,f.fillStyle="#"+("00000"+(k|0).toString(16)).substr(-6),f.fill());g.lineWidth&&(f.globalAlpha=g.lineAlpha*m,f.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),
f.stroke())}else if(g.type===e.SHAPES.RECT){if(g.fillColor||0===g.fillColor)f.globalAlpha=g.fillAlpha*m,f.fillStyle="#"+("00000"+(k|0).toString(16)).substr(-6),f.fillRect(c.x,c.y,c.width,c.height);g.lineWidth&&(f.globalAlpha=g.lineAlpha*m,f.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),f.strokeRect(c.x,c.y,c.width,c.height))}else if(g.type===e.SHAPES.CIRC)f.beginPath(),f.arc(c.x,c.y,c.radius,0,2*Math.PI),f.closePath(),g.fill&&(f.globalAlpha=g.fillAlpha*m,f.fillStyle="#"+("00000"+(k|0).toString(16)).substr(-6),
f.fill()),g.lineWidth&&(f.globalAlpha=g.lineAlpha*m,f.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),f.stroke());else if(g.type===e.SHAPES.ELIP){var p=2*c.width,l=2*c.height,h=c.x-p/2,c=c.y-l/2;f.beginPath();var y=p/2*.5522848,t=l/2*.5522848,u=h+p,w=c+l,p=h+p/2,l=c+l/2;f.moveTo(h,l);f.bezierCurveTo(h,l-t,p-y,c,p,c);f.bezierCurveTo(p+y,c,u,l-t,u,l);f.bezierCurveTo(u,l+t,p+y,w,p,w);f.bezierCurveTo(p-y,w,h,l+t,h,l);f.closePath();g.fill&&(f.globalAlpha=g.fillAlpha*m,f.fillStyle="#"+("00000"+
(k|0).toString(16)).substr(-6),f.fill());g.lineWidth&&(f.globalAlpha=g.lineAlpha*m,f.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),f.stroke())}else if(g.type===e.SHAPES.RREC){h=c.x;l=c.y;y=c.width;t=c.height;c=c.radius;u=Math.min(y,t)/2|0;c=c>u?u:c;f.beginPath();f.moveTo(h,l+c);f.lineTo(h,l+t-c);f.quadraticCurveTo(h,l+t,h+c,l+t);f.lineTo(h+y-c,l+t);f.quadraticCurveTo(h+y,l+t,h+y,l+t-c);f.lineTo(h+y,l+c);f.quadraticCurveTo(h+y,l,h+y-c,l);f.lineTo(h+c,l);f.quadraticCurveTo(h,l,h,l+c);f.closePath();
if(g.fillColor||0===g.fillColor)f.globalAlpha=g.fillAlpha*m,f.fillStyle="#"+("00000"+(k|0).toString(16)).substr(-6),f.fill();g.lineWidth&&(f.globalAlpha=g.lineAlpha*m,f.strokeStyle="#"+("00000"+(v|0).toString(16)).substr(-6),f.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;for(var b=(a.tint>>16&255)/255,f=(a.tint>>8&255)/255,m=(a.tint&255)/255,g=0;g<a.graphicsData.length;g++){var k=a.graphicsData[g],c=k.fillColor|0,e=k.lineColor|0;k._fillTint=((c>>16&255)/255*b*255<<16)+
((c>>8&255)/255*f*255<<8)+(c&255)/255*m*255;k._lineTint=((e>>16&255)/255*b*255<<16)+((e>>8&255)/255*f*255<<8)+(e&255)/255*m*255}};a.prototype.renderPolygon=function(a,b,f){f.moveTo(a[0],a[1]);for(var m=1;m<a.length/2;m++)f.lineTo(a[2*m],a[2*m+1]);b&&f.closePath()};a.prototype.destroy=function(){this.renderer=null}},{"../../const":78,"../../renderers/canvas/CanvasRenderer":109}],88:[function(c,h,l){h.exports=function(a,c,d,b,f,m,g,k,n){n=n||[];var v,h,p,l,y;n.push(a,c);for(var t,u=1;20>=u;++u)t=u/
20,v=1-t,h=v*v,p=h*v,l=t*t,y=l*t,n.push(p*a+3*h*t*d+3*v*l*f+y*g,p*c+3*h*t*b+3*v*l*m+y*k);return n}},{}],89:[function(c,h,l){function a(a){b.call(this,a);this.graphicsDataPool=[];this.primitiveShader=null;this.gl=a.gl;this.CONTEXT_UID=0}var e=c("../../utils"),d=c("../../const"),b=c("../../renderers/webgl/utils/ObjectRenderer");l=c("../../renderers/webgl/WebGLRenderer");var f=c("./WebGLGraphicsData"),m=c("./shaders/PrimitiveShader"),g=c("./utils/buildPoly"),k=c("./utils/buildRectangle"),n=c("./utils/buildRoundedRectangle"),
v=c("./utils/buildCircle");a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.exports=a;l.registerPlugin("graphics",a);a.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new m(this.gl)};a.prototype.destroy=function(){b.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};a.prototype.render=function(a){var b=this.renderer,
d=b.gl,f,g=a._webGL[this.CONTEXT_UID];g&&a.dirty===g.dirty||(this.updateGraphics(a),g=a._webGL[this.CONTEXT_UID]);b.bindShader(this.primitiveShader);b.state.setBlendMode(a.blendMode);for(var k=0,m=g.data.length;k<m;k++){f=g.data[k];var c=f.shader;b.bindShader(c);c.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);c.uniforms.tint=e.hex2rgb(a.tint);c.uniforms.alpha=a.worldAlpha;f.vao.bind().draw(d.TRIANGLE_STRIP,f.indices.length).unbind()}};a.prototype.updateGraphics=function(a){var b=
this.renderer.gl,f=a._webGL[this.CONTEXT_UID];f||(f=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:b,clearDirty:-1,dirty:-1});f.dirty=a.dirty;if(a.clearDirty!==f.clearDirty){f.clearDirty=a.clearDirty;for(b=0;b<f.data.length;b++)this.graphicsDataPool.push(f.data[b]);f.data=[];f.lastIndex=0}for(var c,b=f.lastIndex;b<a.graphicsData.length;b++){var m=a.graphicsData[b];c=this.getWebGLData(f,0);m.type===d.SHAPES.POLY&&g(m,c);m.type===d.SHAPES.RECT?k(m,c):m.type===d.SHAPES.CIRC||m.type===d.SHAPES.ELIP?
v(m,c):m.type===d.SHAPES.RREC&&n(m,c);f.lastIndex++}for(b=0;b<f.data.length;b++)c=f.data[b],c.dirty&&c.upload()};a.prototype.getWebGLData=function(a,b){var d=a.data[a.data.length-1];if(!d||32E4<d.points.length)d=this.graphicsDataPool.pop()||new f(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.reset(b),a.data.push(d);d.dirty=!0;return d}},{"../../const":78,"../../renderers/webgl/WebGLRenderer":116,"../../renderers/webgl/utils/ObjectRenderer":126,"../../utils":151,"./WebGLGraphicsData":90,
"./shaders/PrimitiveShader":91,"./utils/buildCircle":92,"./utils/buildPoly":94,"./utils/buildRectangle":95,"./utils/buildRoundedRectangle":96}],90:[function(c,h,l){function a(a,b,f){this.gl=a;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=e.GLBuffer.createVertexBuffer(a);this.indexBuffer=e.GLBuffer.createIndexBuffer(a);this.dirty=!0;this.glIndices=this.glPoints=null;this.shader=b;this.vao=(new e.VertexArrayObject(a,f)).addIndex(this.indexBuffer).addAttribute(this.buffer,b.attributes.aVertexPosition,
a.FLOAT,!1,24,0).addAttribute(this.buffer,b.attributes.aColor,a.FLOAT,!1,24,8)}var e=c("pixi-gl-core");a.prototype.constructor=a;h.exports=a;a.prototype.reset=function(){this.points.length=0;this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=!1};a.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();
this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null}},{"pixi-gl-core":7}],91:[function(c,h,l){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}")}var e=c("../../../Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a},{"../../../Shader":77}],92:[function(c,h,l){var a=c("./buildLine"),e=c("../../../const"),d=c("../../../utils");h.exports=function(b,f){var c=b.shape,g=c.x,k=c.y,n,v;b.type===e.SHAPES.CIRC?v=n=c.radius:(n=c.width,v=c.height);var c=Math.floor(30*Math.sqrt(c.radius))||Math.floor(15*Math.sqrt(c.width+c.height)),h=2*Math.PI/c,l;
if(b.fill){l=d.hex2rgb(b.fillColor);var q=b.fillAlpha,y=l[0]*q,t=l[1]*q,u=l[2]*q,w=f.points,r=f.indices,C=w.length/6;r.push(C);for(l=0;l<c+1;l++)w.push(g,k,y,t,u,q),w.push(g+Math.sin(h*l)*n,k+Math.cos(h*l)*v,y,t,u,q),r.push(C++,C++);r.push(C-1)}if(b.lineWidth){q=b.points;b.points=[];for(l=0;l<c+1;l++)b.points.push(g+Math.sin(h*l)*n,k+Math.cos(h*l)*v);a(b,f);b.points=q}}},{"../../../const":78,"../../../utils":151,"./buildLine":93}],93:[function(c,h,l){var a=c("../../../math"),e=c("../../../utils");
h.exports=function(d,b){var f,c=d.points;if(0!==c.length){var g=new a.Point(c[0],c[1]),k=new a.Point(c[c.length-2],c[c.length-1]);if(g.x===k.x&&g.y===k.y){c=c.slice();c.pop();c.pop();var k=new a.Point(c[c.length-2],c[c.length-1]),n=k.x+.5*(g.x-k.x),g=k.y+.5*(g.y-k.y);c.unshift(n,g);c.push(n,g)}var n=b.points,g=b.indices,k=c.length/2,v=c.length,h=n.length/6,l=d.lineWidth/2;f=e.hex2rgb(d.lineColor);var q=d.lineAlpha,y=f[0]*q,t=f[1]*q,u=f[2]*q,w,r,C,H,E,F,I,J,B,D,M,G,P;C=c[0];H=c[1];E=c[2];F=c[3];B=
-(H-F);D=C-E;r=Math.sqrt(B*B+D*D);B=B/r*l;D=D/r*l;n.push(C-B,H-D,y,t,u,q);n.push(C+B,H+D,y,t,u,q);for(f=1;f<k-1;f++)C=c[2*(f-1)],H=c[2*(f-1)+1],E=c[2*f],F=c[2*f+1],I=c[2*(f+1)],J=c[2*(f+1)+1],B=-(H-F),D=C-E,r=Math.sqrt(B*B+D*D),B/=r,D/=r,B*=l,D*=l,M=-(F-J),G=E-I,r=Math.sqrt(M*M+G*G),M/=r,G/=r,M*=l,G*=l,r=-D+H-(-D+F),w=-B+E-(-B+C),C=(-B+C)*(-D+F)-(-B+E)*(-D+H),H=-G+J-(-G+F),P=-M+E-(-M+I),I=(-M+I)*(-G+F)-(-M+E)*(-G+J),J=r*P-H*w,.1>Math.abs(J)?(n.push(E-B,F-D,y,t,u,q),n.push(E+B,F+D,y,t,u,q)):(w=(w*
I-P*C)/J,r=(H*C-r*I)/J,I=(w-E)*(w-E)+(r-F)*(r-F),19600<I?(B-=M,D-=G,r=Math.sqrt(B*B+D*D),B/=r,D/=r,B*=l,D*=l,n.push(E-B,F-D),n.push(y,t,u,q),n.push(E+B,F+D),n.push(y,t,u,q),n.push(E-B,F-D),n.push(y,t,u,q),v++):(n.push(w,r),n.push(y,t,u,q),n.push(E-(w-E),F-(r-F)),n.push(y,t,u,q)));C=c[2*(k-2)];H=c[2*(k-2)+1];E=c[2*(k-1)];F=c[2*(k-1)+1];B=-(H-F);D=C-E;r=Math.sqrt(B*B+D*D);B=B/r*l;D=D/r*l;n.push(E-B,F-D);n.push(y,t,u,q);n.push(E+B,F+D);n.push(y,t,u,q);g.push(h);for(f=0;f<v;f++)g.push(h++);g.push(h-1)}}},
{"../../../math":102,"../../../utils":151}],94:[function(c,h,l){var a=c("./buildLine"),e=c("../../../utils"),d=c("earcut");h.exports=function(b,f){b.points=b.shape.points.slice();var c=b.points;if(b.fill&&6<=c.length){for(var g=[],k=b.holes,n=0;n<k.length;n++){var v=k[n];g.push(c.length/2);c=c.concat(v.points)}var k=f.points,v=f.indices,h=c.length/2,n=e.hex2rgb(b.fillColor),l=b.fillAlpha,q=n[0]*l,y=n[1]*l,t=n[2]*l,g=d(c,g,2);if(!g)return;for(var u=k.length/6,n=0;n<g.length;n+=3)v.push(g[n]+u),v.push(g[n]+
u),v.push(g[n+1]+u),v.push(g[n+2]+u),v.push(g[n+2]+u);for(n=0;n<h;n++)k.push(c[2*n],c[2*n+1],q,y,t,l)}0<b.lineWidth&&a(b,f)}},{"../../../utils":151,"./buildLine":93,earcut:31}],95:[function(c,h,l){var a=c("./buildLine"),e=c("../../../utils");h.exports=function(d,b){var f=d.shape,c=f.x,g=f.y,k=f.width,f=f.height;if(d.fill){var n=e.hex2rgb(d.fillColor),v=d.fillAlpha,h=n[0]*v,l=n[1]*v,n=n[2]*v,q=b.points,y=b.indices,t=q.length/6;q.push(c,g);q.push(h,l,n,v);q.push(c+k,g);q.push(h,l,n,v);q.push(c,g+f);
q.push(h,l,n,v);q.push(c+k,g+f);q.push(h,l,n,v);y.push(t,t,t+1,t+2,t+3,t+3)}d.lineWidth&&(v=d.points,d.points=[c,g,c+k,g,c+k,g+f,c,g+f,c,g],a(d,b),d.points=v)}},{"../../../utils":151,"./buildLine":93}],96:[function(c,h,l){var a=c("earcut"),e=c("./buildLine"),d=c("../../../utils"),b=function(a,b,d,c,e,v,h){var l,q,y,t;h=h||[];for(var u,w=0;20>=w;w++)u=w/20,l=a+(d-a)*u,q=b+(c-b)*u,y=d+(e-d)*u,t=c+(v-c)*u,l+=(y-l)*u,q+=(t-q)*u,h.push(l,q);return h};h.exports=function(f,c){var g=f.shape,k=g.x,n=g.y,v=
g.width,h=g.height,l=g.radius,g=[];g.push(k,n+l);b(k,n+h-l,k,n+h,k+l,n+h,g);b(k+v-l,n+h,k+v,n+h,k+v,n+h-l,g);b(k+v,n+l,k+v,n,k+v-l,n,g);b(k+l,n,k,n,k,n+l+1E-10,g);if(f.fill){var h=d.hex2rgb(f.fillColor),k=f.fillAlpha,n=h[0]*k,v=h[1]*k,h=h[2]*k,l=c.points,q=c.indices,y=l.length/6,t=a(g,null,2),u;for(u=0;u<t.length;u+=3)q.push(t[u]+y),q.push(t[u]+y),q.push(t[u+1]+y),q.push(t[u+2]+y),q.push(t[u+2]+y);for(u=0;u<g.length;u++)l.push(g[u],g[++u],n,v,h,k)}f.lineWidth&&(k=f.points,f.points=g,e(f,c),f.points=
k)}},{"../../../utils":151,"./buildLine":93,earcut:31}],97:[function(c,h,l){var a=h.exports=Object.assign(c("./const"),c("./math"),{utils:c("./utils"),ticker:c("./ticker"),DisplayObject:c("./display/DisplayObject"),Container:c("./display/Container"),Transform:c("./display/Transform"),TransformStatic:c("./display/TransformStatic"),TransformBase:c("./display/TransformBase"),Sprite:c("./sprites/Sprite"),CanvasSpriteRenderer:c("./sprites/canvas/CanvasSpriteRenderer"),CanvasTinter:c("./sprites/canvas/CanvasTinter"),
SpriteRenderer:c("./sprites/webgl/SpriteRenderer"),Text:c("./text/Text"),TextStyle:c("./text/TextStyle"),Graphics:c("./graphics/Graphics"),GraphicsData:c("./graphics/GraphicsData"),GraphicsRenderer:c("./graphics/webgl/GraphicsRenderer"),CanvasGraphicsRenderer:c("./graphics/canvas/CanvasGraphicsRenderer"),Texture:c("./textures/Texture"),BaseTexture:c("./textures/BaseTexture"),RenderTexture:c("./textures/RenderTexture"),BaseRenderTexture:c("./textures/BaseRenderTexture"),VideoBaseTexture:c("./textures/VideoBaseTexture"),
TextureUvs:c("./textures/TextureUvs"),CanvasRenderer:c("./renderers/canvas/CanvasRenderer"),CanvasRenderTarget:c("./renderers/canvas/utils/CanvasRenderTarget"),Shader:c("./Shader"),WebGLRenderer:c("./renderers/webgl/WebGLRenderer"),WebGLManager:c("./renderers/webgl/managers/WebGLManager"),ObjectRenderer:c("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:c("./renderers/webgl/utils/RenderTarget"),Quad:c("./renderers/webgl/utils/Quad"),SpriteMaskFilter:c("./renderers/webgl/filters/spriteMask/SpriteMaskFilter"),
Filter:c("./renderers/webgl/filters/Filter"),glCore:c("pixi-gl-core"),autoDetectRenderer:function(c,d,b,f){c=c||800;d=d||600;return!f&&a.utils.isWebGLSupported()?new a.WebGLRenderer(c,d,b):new a.CanvasRenderer(c,d,b)}})},{"./Shader":77,"./const":78,"./display/Container":80,"./display/DisplayObject":81,"./display/Transform":82,"./display/TransformBase":83,"./display/TransformStatic":84,"./graphics/Graphics":85,"./graphics/GraphicsData":86,"./graphics/canvas/CanvasGraphicsRenderer":87,"./graphics/webgl/GraphicsRenderer":89,
"./math":102,"./renderers/canvas/CanvasRenderer":109,"./renderers/canvas/utils/CanvasRenderTarget":111,"./renderers/webgl/WebGLRenderer":116,"./renderers/webgl/filters/Filter":118,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":121,"./renderers/webgl/managers/WebGLManager":125,"./renderers/webgl/utils/ObjectRenderer":126,"./renderers/webgl/utils/Quad":127,"./renderers/webgl/utils/RenderTarget":128,"./sprites/Sprite":133,"./sprites/canvas/CanvasSpriteRenderer":134,"./sprites/canvas/CanvasTinter":135,
"./sprites/webgl/SpriteRenderer":137,"./text/Text":139,"./text/TextStyle":140,"./textures/BaseRenderTexture":141,"./textures/BaseTexture":142,"./textures/RenderTexture":143,"./textures/Texture":144,"./textures/TextureUvs":145,"./textures/VideoBaseTexture":146,"./ticker":148,"./utils":151,"pixi-gl-core":7}],98:[function(c,h,l){function a(a){return 0>a?-1:0<a?1:0}var e=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],b=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],f=[1,1,
0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],m=[],g=c("./Matrix"),k=[];(function(){for(var c=0;16>c;c++){var n=[];k.push(n);for(var h=0;16>h;h++)for(var l=a(e[c]*e[h]+b[c]*d[h]),y=a(d[c]*e[h]+f[c]*d[h]),t=a(e[c]*b[h]+b[c]*f[h]),u=a(d[c]*b[h]+f[c]*f[h]),w=0;16>w;w++)if(e[w]===l&&d[w]===y&&b[w]===t&&f[w]===u){n.push(w);break}}for(c=0;16>c;c++)n=new g,n.set(e[c],d[c],b[c],f[c],0,0),m.push(n)})();var n={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return e[a]},uY:function(a){return d[a]},
vX:function(a){return b[a]},vY:function(a){return f[a]},inv:function(a){return a&8?a&15:-a&7},add:function(a,b){return k[a][b]},sub:function(a,b){return k[a][n.inv(b)]},rotate180:function(a){return a^4},isSwapWidthHeight:function(a){return 2===(a&3)},byDirection:function(a,b){return 2*Math.abs(a)<=Math.abs(b)?0<=b?n.S:n.N:2*Math.abs(b)<=Math.abs(a)?0<a?n.E:n.W:0<b?0<a?n.SE:n.SW:0<a?n.NE:n.NW},matrixAppendRotationInv:function(a,b,d,f){b=m[n.inv(b)];b.tx=d||0;b.ty=f||0;a.append(b)}};h.exports=n},{"./Matrix":99}],
99:[function(c,h,l){function a(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;this.array=null}var e=c("./Point");a.prototype.constructor=a;h.exports=a;a.prototype.fromArray=function(a){this.a=a[0];this.b=a[1];this.c=a[3];this.d=a[4];this.tx=a[2];this.ty=a[5]};a.prototype.set=function(a,b,f,c,g,k){this.a=a;this.b=b;this.c=f;this.d=c;this.tx=g;this.ty=k;return this};a.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));var f=b||this.array;a?(f[0]=this.a,f[1]=this.b,f[2]=
0,f[3]=this.c,f[4]=this.d,f[5]=0,f[6]=this.tx,f[7]=this.ty):(f[0]=this.a,f[1]=this.c,f[2]=this.tx,f[3]=this.b,f[4]=this.d,f[5]=this.ty,f[6]=0,f[7]=0);f[8]=1;return f};a.prototype.apply=function(a,b){b=b||new e;var f=a.x,c=a.y;b.x=this.a*f+this.c*c+this.tx;b.y=this.b*f+this.d*c+this.ty;return b};a.prototype.applyInverse=function(a,b){b=b||new e;var f=1/(this.a*this.d+this.c*-this.b),c=a.x,g=a.y;b.x=this.d*f*c+-this.c*f*g+(this.ty*this.c-this.tx*this.d)*f;b.y=this.a*f*g+-this.b*f*c+(-this.ty*this.a+
this.tx*this.b)*f;return b};a.prototype.translate=function(a,b){this.tx+=a;this.ty+=b;return this};a.prototype.scale=function(a,b){this.a*=a;this.d*=b;this.c*=a;this.b*=b;this.tx*=a;this.ty*=b;return this};a.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var f=this.a,c=this.c,g=this.tx;this.a=f*b-this.b*a;this.b=f*a+this.b*b;this.c=c*b-this.d*a;this.d=c*a+this.d*b;this.tx=g*b-this.ty*a;this.ty=g*a+this.ty*b;return this};a.prototype.append=function(a){var b=this.a,f=this.b,c=this.c,g=
this.d;this.a=a.a*b+a.b*c;this.b=a.a*f+a.b*g;this.c=a.c*b+a.d*c;this.d=a.c*f+a.d*g;this.tx=a.tx*b+a.ty*c+this.tx;this.ty=a.tx*f+a.ty*g+this.ty;return this};a.prototype.setTransform=function(a,b,f,c,g,k,e,h,l){var p,q,y,t;p=Math.sin(e);q=Math.cos(e);e=Math.cos(l);l=Math.sin(l);y=-Math.sin(h);t=Math.cos(h);h=q*g;g*=p;p=-p*k;k*=q;this.a=e*h+l*p;this.b=e*g+l*k;this.c=y*h+t*p;this.d=y*g+t*k;this.tx=a+(f*h+c*p);this.ty=b+(f*g+c*k);return this};a.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==
a.b||0!==a.c||1!==a.d){var f=this.a,c=this.c;this.a=f*a.a+this.b*a.c;this.b=f*a.b+this.b*a.d;this.c=c*a.a+this.d*a.c;this.d=c*a.b+this.d*a.d}this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};a.prototype.decompose=function(a){var b=this.a,f=this.b,c=this.c,g=this.d,k=Math.atan2(-c,g),e=Math.atan2(f,b);1E-5>Math.abs(1-k/e)?(a.rotation=e,0>b&&0<=g&&(a.rotation+=0>=a.rotation?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.skew.x=k,a.skew.y=e);a.scale.x=Math.sqrt(b*b+f*f);a.scale.y=
Math.sqrt(c*c+g*g);a.position.x=this.tx;a.position.y=this.ty;return a};a.prototype.invert=function(){var a=this.a,b=this.b,f=this.c,c=this.d,g=this.tx,k=a*c-b*f;this.a=c/k;this.b=-b/k;this.c=-f/k;this.d=a/k;this.tx=(f*this.ty-c*g)/k;this.ty=-(a*this.ty-b*g)/k;return this};a.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};a.prototype.clone=function(){var d=new a;d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d};a.prototype.copy=
function(a){a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};a.IDENTITY=new a;a.TEMP_MATRIX=new a},{"./Point":101}],100:[function(c,h,l){function a(a,d,b,f){this._x=b||0;this._y=f||0;this.cb=a;this.scope=d}a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{x:{get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},y:{get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}});
a.prototype.set=function(a,d){var b=a||0,f=d||(0!==d?b:0);if(this._x!==b||this._y!==f)this._x=b,this._y=f,this.cb.call(this.scope)};a.prototype.copy=function(a){if(this._x!==a.x||this._y!==a.y)this._x=a.x,this._y=a.y,this.cb.call(this.scope)}},{}],101:[function(c,h,l){function a(a,d){this.x=a||0;this.y=d||0}a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.copy=function(a){this.set(a.x,a.y)};a.prototype.equals=function(a){return a.x===this.x&&
a.y===this.y};a.prototype.set=function(a,d){this.x=a||0;this.y=d||(0!==d?this.x:0)}},{}],102:[function(c,h,l){h.exports={Point:c("./Point"),ObservablePoint:c("./ObservablePoint"),Matrix:c("./Matrix"),GroupD8:c("./GroupD8"),Circle:c("./shapes/Circle"),Ellipse:c("./shapes/Ellipse"),Polygon:c("./shapes/Polygon"),Rectangle:c("./shapes/Rectangle"),RoundedRectangle:c("./shapes/RoundedRectangle")}},{"./GroupD8":98,"./Matrix":99,"./ObservablePoint":100,"./Point":101,"./shapes/Circle":103,"./shapes/Ellipse":104,
"./shapes/Polygon":105,"./shapes/Rectangle":106,"./shapes/RoundedRectangle":107}],103:[function(c,h,l){function a(a,f,c){this.x=a||0;this.y=f||0;this.radius=c||0;this.type=d.SHAPES.CIRC}var e=c("./Rectangle"),d=c("../../const");a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(a,d){if(0>=this.radius)return!1;var c=this.x-a,g=this.y-d;return c*c+g*g<=this.radius*this.radius};a.prototype.getBounds=function(){return new e(this.x-
this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":78,"./Rectangle":106}],104:[function(c,h,l){function a(a,f,c,g){this.x=a||0;this.y=f||0;this.width=c||0;this.height=g||0;this.type=d.SHAPES.ELIP}var e=c("./Rectangle"),d=c("../../const");a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,d){if(0>=this.width||0>=this.height)return!1;var c=(a-this.x)/this.width,g=(d-this.y)/
this.height;return 1>=c*c+g*g};a.prototype.getBounds=function(){return new e(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":78,"./Rectangle":106}],105:[function(c,h,l){function a(a){var f=a;if(!Array.isArray(f))for(var f=Array(arguments.length),c=0;c<f.length;++c)f[c]=arguments[c];if(f[0]instanceof e){for(var c=[],g=0,k=f.length;g<k;g++)c.push(f[g].x,f[g].y);f=c}this.closed=!0;this.points=f;this.type=d.SHAPES.POLY}var e=c("../Point"),d=c("../../const");a.prototype.constructor=
a;h.exports=a;a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var a=this.points;a[0]===a[a.length-2]&&a[1]===a[a.length-1]||a.push(a[0],a[1])};a.prototype.contains=function(a,d){for(var c=!1,g=this.points.length/2,k=0,e=g-1;k<g;e=k++){var h=this.points[2*k],l=this.points[2*k+1],p=this.points[2*e],e=this.points[2*e+1];l>d!==e>d&&a<(p-h)*(d-l)/(e-l)+h&&(c=!c)}return c}},{"../../const":78,"../Point":101}],106:[function(c,h,l){function a(a,b,f,c){this.x=a||
0;this.y=b||0;this.width=f||0;this.height=c||0;this.type=e.SHAPES.RECT}var e=c("../../const");a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{left:{get:function(){return this.x}},right:{get:function(){return this.x+this.width}},top:{get:function(){return this.y}},bottom:{get:function(){return this.y+this.height}}});a.EMPTY=new a(0,0,0,0);a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=
a.width;this.height=a.height;return this};a.prototype.contains=function(a,b){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1};a.prototype.pad=function(a,b){a=a||0;b=b||(0!==b?a:0);this.x-=a;this.y-=b;this.width+=2*a;this.height+=2*b};a.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=a.x);this.y<a.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=a.y);this.x+this.width>a.x+a.width&&
(this.width=a.width-this.x,0>this.width&&(this.width=0));this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,0>this.height&&(this.height=0))};a.prototype.enlarge=function(d){if(d!==a.EMPTY){var b=Math.min(this.x,d.x),f=Math.max(this.x+this.width,d.x+d.width),c=Math.min(this.y,d.y);d=Math.max(this.y+this.height,d.y+d.height);this.x=b;this.width=f-b;this.y=c;this.height=d-c}}},{"../../const":78}],107:[function(c,h,l){function a(a,b,f,c,g){this.x=a||0;this.y=b||0;this.width=f||0;this.height=
c||0;this.radius=g||20;this.type=e.SHAPES.RREC}var e=c("../../const");a.prototype.constructor=a;h.exports=a;a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)};a.prototype.contains=function(a,b){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height?!0:!1}},{"../../const":78}],108:[function(c,h,l){function a(a,f,c,g){m.call(this);e.sayHello(a);if(g)for(var h in d.DEFAULT_RENDER_OPTIONS)"undefined"===typeof g[h]&&
(g[h]=d.DEFAULT_RENDER_OPTIONS[h]);else g=d.DEFAULT_RENDER_OPTIONS;this.type=d.RENDERER_TYPE.UNKNOWN;this.width=f||800;this.height=c||600;this.view=g.view||document.createElement("canvas");this.resolution=g.resolution;this.transparent=g.transparent;this.autoResize=g.autoResize||!1;this.blendModes=null;this.preserveDrawingBuffer=g.preserveDrawingBuffer;this.clearBeforeRender=g.clearBeforeRender;this.roundPixels=g.roundPixels;this._backgroundColor=0;this._backgroundColorRgba=[0,0,0,0];this._backgroundColorString=
"#000000";this.backgroundColor=g.backgroundColor||this._backgroundColor;this._lastObjectRendered=this._tempDisplayObjectParent=new b}var e=c("../utils");l=c("../math");var d=c("../const"),b=c("../display/Container"),f=c("../textures/RenderTexture"),m=c("eventemitter3"),g=new l.Matrix;a.prototype=Object.create(m.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;
this._backgroundColorString=e.hex2string(a);e.hex2rgb(a,this._backgroundColorRgba)}}});a.prototype.resize=function(a,b){this.width=a*this.resolution;this.height=b*this.resolution;this.view.width=this.width;this.view.height=this.height;this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")};a.prototype.generateTexture=function(a,b,d){var c=a.getLocalBounds();b=f.create(c.width|0,c.height|0,b,d);g.tx=-c.x;g.ty=-c.y;this.render(a,
b,!1,g,!0);return b};a.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=d.RENDERER_TYPE.UNKNOWN;this.height=this.width=0;this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._backgroundColorString=this._backgroundColorRgba=null;this.backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=
null}},{"../const":78,"../display/Container":80,"../math":102,"../textures/RenderTexture":143,"../utils":151,eventemitter3:32}],109:[function(c,h,l){function a(a,b,c){c=c||{};e.call(this,"Canvas",a,b,c);this.type=m.RENDERER_TYPE.CANVAS;this.rootContext=this.view.getContext("2d",{alpha:this.transparent});this.rootResolution=this.resolution;this.refresh=!0;this.maskManager=new d(this);this.smoothProperty="imageSmoothingEnabled";this.rootContext.imageSmoothingEnabled||(this.rootContext.webkitImageSmoothingEnabled?
this.smoothProperty="webkitImageSmoothingEnabled":this.rootContext.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.rootContext.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.rootContext.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled"));this.initPlugins();this.blendModes=f();this.context=this._activeBlendMode=null;this.renderingToScreen=!1;this.resize(a,b)}var e=c("../SystemRenderer"),d=c("./utils/CanvasMaskManager"),b=
c("./utils/CanvasRenderTarget"),f=c("./utils/mapCanvasBlendModesToPixi");l=c("../../utils");var m=c("../../const");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;l.pluginTarget.mixin(a);a.prototype.render=function(a,d,f,c,e){if(this.view){this.renderingToScreen=!d;this.emit("prerender");d?(d=d.baseTexture||d,d._canvasRenderTarget||(d._canvasRenderTarget=new b(d.width,d.height,d.resolution),d.source=d._canvasRenderTarget.canvas,d.valid=!0),this.context=d._canvasRenderTarget.context,
this.resolution=d._canvasRenderTarget.resolution):(this.context=this.rootContext,this.resolution=this.rootResolution);var h=this.context;d||(this._lastObjectRendered=a);e||(d=a.parent,e=this._tempDisplayObjectParent.transform.worldTransform,c?c.copy(e):e.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=d);h.setTransform(1,0,0,1,0,0);h.globalAlpha=1;h.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(h.fillStyle=
"black",h.clear());(void 0!==f?f:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?h.clearRect(0,0,this.width,this.height):(h.fillStyle=this._backgroundColorString,h.fillRect(0,0,this.width,this.height)));f=this.context;this.context=h;a.renderCanvas(this);this.context=f;this.emit("postrender")}};a.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this.context.globalCompositeOperation=this.blendModes[a])};a.prototype.destroy=function(a){this.destroyPlugins();e.prototype.destroy.call(this,
a);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};a.prototype.resize=function(a,b){e.prototype.resize.call(this,a,b);this.smoothProperty&&(this.rootContext[this.smoothProperty]=m.SCALE_MODES.DEFAULT===m.SCALE_MODES.LINEAR)}},{"../../const":78,"../../utils":151,"../SystemRenderer":108,"./utils/CanvasMaskManager":110,"./utils/CanvasRenderTarget":111,"./utils/mapCanvasBlendModesToPixi":113}],110:[function(c,h,l){function a(a){this.renderer=a}var e=
c("../../../const");a.prototype.constructor=a;h.exports=a;a.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var f=a.alpha,c=a.transform.worldTransform,g=b.resolution;b.context.setTransform(c.a*g,c.b*g,c.c*g,c.d*g,c.tx*g,c.ty*g);a._texture||(this.renderGraphicsShape(a),b.context.clip());a.worldAlpha=f};a.prototype.renderGraphicsShape=function(a){var b=this.renderer.context,f=a.graphicsData.length;if(0!==f){b.beginPath();for(var c=0;c<f;c++){var g=a.graphicsData[c],k=g.shape;if(g.type===
e.SHAPES.POLY){g=k.points;b.moveTo(g[0],g[1]);for(var n=1;n<g.length/2;n++)b.lineTo(g[2*n],g[2*n+1]);g[0]===g[g.length-2]&&g[1]===g[g.length-1]&&b.closePath()}else if(g.type===e.SHAPES.RECT)b.rect(k.x,k.y,k.width,k.height),b.closePath();else if(g.type===e.SHAPES.CIRC)b.arc(k.x,k.y,k.radius,0,2*Math.PI),b.closePath();else if(g.type===e.SHAPES.ELIP){var h=2*k.width,n=2*k.height,g=k.x-h/2,k=k.y-n/2,l=h/2*.5522848,p=n/2*.5522848,q=g+h,y=k+n,h=g+h/2,n=k+n/2;b.moveTo(g,n);b.bezierCurveTo(g,n-p,h-l,k,h,
k);b.bezierCurveTo(h+l,k,q,n-p,q,n);b.bezierCurveTo(q,n+p,h+l,y,h,y);b.bezierCurveTo(h-l,y,g,n+p,g,n);b.closePath()}else g.type===e.SHAPES.RREC&&(g=k.x,n=k.y,l=k.width,p=k.height,k=k.radius,q=Math.min(l,p)/2|0,k=k>q?q:k,b.moveTo(g,n+k),b.lineTo(g,n+p-k),b.quadraticCurveTo(g,n+p,g+k,n+p),b.lineTo(g+l-k,n+p),b.quadraticCurveTo(g+l,n+p,g+l,n+p-k),b.lineTo(g+l,n+k),b.quadraticCurveTo(g+l,n,g+l-k,n),b.lineTo(g+k,n),b.quadraticCurveTo(g,n,g,n+k),b.closePath())}}};a.prototype.popMask=function(a){a.context.restore()};
a.prototype.destroy=function(){}},{"../../../const":78}],111:[function(c,h,l){function a(a,b,f){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=f||e.RESOLUTION;this.resize(a,b)}var e=c("../../../const");a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},height:{get:function(){return this.canvas.height},set:function(a){this.canvas.height=
a}}});a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};a.prototype.resize=function(a,b){this.canvas.width=a*this.resolution;this.canvas.height=b*this.resolution};a.prototype.destroy=function(){this.canvas=this.context=null}},{"../../../const":78}],112:[function(c,h,l){var a=function(a){var d=document.createElement("canvas");d.width=6;d.height=1;var b=d.getContext("2d");b.fillStyle=a;b.fillRect(0,0,6,1);return d};
h.exports=function(){if("undefined"===typeof document)return!1;var c=a("#ff00ff"),d=a("#ffff00"),b=document.createElement("canvas");b.width=6;b.height=1;b=b.getContext("2d");b.globalCompositeOperation="multiply";b.drawImage(c,0,0);b.drawImage(d,2,0);c=b.getImageData(2,0,1,1);if(!c)return!1;c=c.data;return 255===c[0]&&0===c[1]&&0===c[2]}},{}],113:[function(c,h,l){var a=c("../../../const"),e=c("./canUseNewCanvasBlendModes");h.exports=function(d){d=d||[];e()?(d[a.BLEND_MODES.NORMAL]="source-over",d[a.BLEND_MODES.ADD]=
"lighter",d[a.BLEND_MODES.MULTIPLY]="multiply",d[a.BLEND_MODES.SCREEN]="screen",d[a.BLEND_MODES.OVERLAY]="overlay",d[a.BLEND_MODES.DARKEN]="darken",d[a.BLEND_MODES.LIGHTEN]="lighten",d[a.BLEND_MODES.COLOR_DODGE]="color-dodge",d[a.BLEND_MODES.COLOR_BURN]="color-burn",d[a.BLEND_MODES.HARD_LIGHT]="hard-light",d[a.BLEND_MODES.SOFT_LIGHT]="soft-light",d[a.BLEND_MODES.DIFFERENCE]="difference",d[a.BLEND_MODES.EXCLUSION]="exclusion",d[a.BLEND_MODES.HUE]="hue",d[a.BLEND_MODES.SATURATION]="saturate",d[a.BLEND_MODES.COLOR]=
"color",d[a.BLEND_MODES.LUMINOSITY]="luminosity"):(d[a.BLEND_MODES.NORMAL]="source-over",d[a.BLEND_MODES.ADD]="lighter",d[a.BLEND_MODES.MULTIPLY]="source-over",d[a.BLEND_MODES.SCREEN]="source-over",d[a.BLEND_MODES.OVERLAY]="source-over",d[a.BLEND_MODES.DARKEN]="source-over",d[a.BLEND_MODES.LIGHTEN]="source-over",d[a.BLEND_MODES.COLOR_DODGE]="source-over",d[a.BLEND_MODES.COLOR_BURN]="source-over",d[a.BLEND_MODES.HARD_LIGHT]="source-over",d[a.BLEND_MODES.SOFT_LIGHT]="source-over",d[a.BLEND_MODES.DIFFERENCE]=
"source-over",d[a.BLEND_MODES.EXCLUSION]="source-over",d[a.BLEND_MODES.HUE]="source-over",d[a.BLEND_MODES.SATURATION]="source-over",d[a.BLEND_MODES.COLOR]="source-over",d[a.BLEND_MODES.LUMINOSITY]="source-over");return d}},{"../../../const":78,"./canUseNewCanvasBlendModes":112}],114:[function(c,h,l){function a(a){this.renderer=a;this.checkCount=this.count=0;this.maxIdle=3600;this.checkCountMax=600;this.mode=e.GC_MODES.DEFAULT}var e=c("../../const");a.prototype.constructor=a;h.exports=a;a.prototype.update=
function(){this.count++;this.mode!==e.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};a.prototype.run=function(){var a=this.renderer.textureManager,b=a._managedTextures,f=!1,c;for(c=0;c<b.length;c++){var g=b[c];!g._glRenderTargets&&this.count-g.touched>this.maxIdle&&(a.destroyTexture(g,!0),b[c]=null,f=!0)}if(f){for(c=a=0;c<b.length;c++)null!==b[c]&&(b[a++]=b[c]);b.length=a}};a.prototype.unload=function(a){var b=this.renderer.textureManager;
a._texture&&b.destroyTexture(a._texture,!0);for(b=a.children.length-1;0<=b;b--)this.unload(a.children[b])}},{"../../const":78}],115:[function(c,h,l){var a=c("pixi-gl-core").GLTexture,e=c("../../const"),d=c("./utils/RenderTarget"),b=c("../../utils");c=function(a){this.renderer=a;this.gl=a.gl;this._managedTextures=[]};c.prototype.bindTexture=function(){};c.prototype.getTexture=function(){};c.prototype.updateTexture=function(b){b=b.baseTexture||b;var c=!!b._glRenderTargets;if(b.hasLoaded){var g=b._glTextures[this.renderer.CONTEXT_UID];
g?c?b._glRenderTargets[this.renderer.CONTEXT_UID].resize(b.width,b.height):g.upload(b.source):(c?(c=new d(this.gl,b.width,b.height,b.scaleMode,b.resolution),c.resize(b.width,b.height),b._glRenderTargets[this.renderer.CONTEXT_UID]=c,g=c.texture):(g=new a(this.gl),g.premultiplyAlpha=!0,g.upload(b.source)),b._glTextures[this.renderer.CONTEXT_UID]=g,b.on("update",this.updateTexture,this),b.on("dispose",this.destroyTexture,this),this._managedTextures.push(b),b.isPowerOfTwo?(b.mipmap&&g.enableMipmap(),
b.wrapMode===e.WRAP_MODES.CLAMP?g.enableWrapClamp():b.wrapMode===e.WRAP_MODES.REPEAT?g.enableWrapRepeat():g.enableWrapMirrorRepeat()):g.enableWrapClamp(),b.scaleMode===e.SCALE_MODES.NEAREST?g.enableNearestScaling():g.enableLinearScaling());return g}};c.prototype.destroyTexture=function(a,d){a=a.baseTexture||a;if(a.hasLoaded&&a._glTextures[this.renderer.CONTEXT_UID]&&(a._glTextures[this.renderer.CONTEXT_UID].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),
delete a._glTextures[this.renderer.CONTEXT_UID],!d)){var c=this._managedTextures.indexOf(a);-1!==c&&b.removeItems(this._managedTextures,c,1)}};c.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,
this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};h.exports=c},{"../../const":78,"../../utils":151,"./utils/RenderTarget":128,"pixi-gl-core":7}],116:[function(c,h,l){function a(a,c,k){k=k||{};e.call(this,"WebGL",a,c,k);this.type=t.RENDERER_TYPE.WEBGL;this.handleContextLost=this.handleContextLost.bind(this);this.handleContextRestored=this.handleContextRestored.bind(this);this.view.addEventListener("webglcontextlost",this.handleContextLost,!1);this.view.addEventListener("webglcontextrestored",
this.handleContextRestored,!1);this._contextOptions={alpha:this.transparent,antialias:k.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:k.preserveDrawingBuffer};this._backgroundColorRgba[3]=this.transparent?0:1;this.maskManager=new d(this);this.stencilManager=new b(this);this.currentRenderer=this.emptyRenderer=new g(this);this.initPlugins();k.context&&q(k.context);this.gl=k.context||x(this.view,this._contextOptions);this.CONTEXT_UID=
u++;this.state=new v(this.gl);this.renderingToScreen=!0;this._initContext();this.filterManager=new f(this);this.drawModes=p(this.gl);this._activeRenderTarget=this._activeShader=null;this._activeTextureLocation=999;this._activeTexture=null;this.setBlendMode(0)}var e=c("../SystemRenderer"),d=c("./managers/MaskManager"),b=c("./managers/StencilManager"),f=c("./managers/FilterManager"),m=c("./utils/RenderTarget"),g=c("./utils/ObjectRenderer"),k=c("./TextureManager"),n=c("./TextureGarbageCollector"),v=
c("./WebGLState"),x=c("pixi-gl-core").createContext,p=c("./utils/mapWebGLDrawModesToPixi"),q=c("./utils/validateContext");l=c("../../utils");var y=c("pixi-gl-core"),t=c("../../const"),u=0;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;l.pluginTarget.mixin(a);a.prototype._initContext=function(){var a=this.gl;this.textureManager=new k(this);this.textureGC=new n(this);this.state.resetToDefault();this.rootRenderTarget=new m(a,this.width,this.height,null,this.resolution,!0);
this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);this.emit("context",a);this.resize(this.width,this.height)};a.prototype.render=function(a,b,d,f,c){this.renderingToScreen=!b;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(b||(this._lastObjectRendered=a),c||(c=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=c),this.bindRenderTexture(b,f),this.currentRenderer.start(),(void 0!==d?d:this.clearBeforeRender)&&
this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};a.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};a.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};a.prototype.resize=function(a,b){e.prototype.resize.call(this,a,b);this.rootRenderTarget.resize(a,b);this._activeRenderTarget===this.rootRenderTarget&&
(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};a.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};a.prototype.clear=function(a){this._activeRenderTarget.clear(a)};a.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};a.prototype.bindRenderTexture=function(a,b){var d;if(a){d=a.baseTexture;var f=this.gl;d._glRenderTargets[this.CONTEXT_UID]?(this._activeTextureLocation=
d._id,f.activeTexture(f.TEXTURE0+d._id)):this.textureManager.updateTexture(d);f.bindTexture(f.TEXTURE_2D,null);d=d._glRenderTargets[this.CONTEXT_UID];d.setFrame(a.frame)}else d=this.rootRenderTarget;d.transform=b;this.bindRenderTarget(d);return this};a.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));
return this};a.prototype.bindShader=function(a){this._activeShader!==a&&(this._activeShader=a,a.bind(),a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0));return this};a.prototype.bindTexture=function(a,b){a=a.baseTexture||a;var d=this.gl;b=b||0;this._activeTextureLocation!==b&&(this._activeTextureLocation=b,d.activeTexture(d.TEXTURE0+b));this._activeTexture=a;a._glTextures[this.CONTEXT_UID]?(a.touched=this.textureGC.count,a._glTextures[this.CONTEXT_UID].bind()):this.textureManager.updateTexture(a);
return this};a.prototype.createVao=function(){return new y.VertexArrayObject(this.gl,this.state.attribState)};a.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this._activeTextureLocation=999;this._activeTexture=null;this.rootRenderTarget.activate();this.state.resetToDefault();return this};a.prototype.handleContextLost=function(a){a.preventDefault()};a.prototype.handleContextRestored=function(){this._initContext();
this.textureManager.removeAll()};a.prototype.destroy=function(a){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();e.prototype.destroy.call(this,a);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=
this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null}},{"../../const":78,"../../utils":151,"../SystemRenderer":108,"./TextureGarbageCollector":114,"./TextureManager":115,"./WebGLState":117,"./managers/FilterManager":122,"./managers/MaskManager":123,"./managers/StencilManager":124,"./utils/ObjectRenderer":126,"./utils/RenderTarget":128,"./utils/mapWebGLDrawModesToPixi":131,
"./utils/validateContext":132,"pixi-gl-core":7}],117:[function(c,h,l){function a(a){this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=a;this.maxAttribs=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=e(a);this.nativeVaoExtension=a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||
a.getExtension("WEBKIT_OES_vertex_array_object")}var e=c("./utils/mapWebGLBlendModesToPixi");a.prototype.push=function(){var a=this.stack[++this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));for(var b=0;b<this.activeState.length;b++)this.activeState[b]=a[b]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[0]);this.setDepthTest(a[1]);this.setFrontFace(a[2]);this.setCullFace(a[3]);this.setBlendMode(a[4])};
a.prototype.setBlend=function(a){if(!(this.activeState[0]===a|0)){this.activeState[0]=a|0;var b=this.gl;a?b.enable(b.BLEND):b.disable(b.BLEND)}};a.prototype.setBlendMode=function(a){a!==this.activeState[4]&&(this.activeState[4]=a,this.gl.blendFunc(this.blendModes[a][0],this.blendModes[a][1]))};a.prototype.setDepthTest=function(a){if(!(this.activeState[1]===a|0)){this.activeState[1]=a|0;var b=this.gl;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)}};a.prototype.setCullFace=function(a){if(!(this.activeState[3]===
a|0)){this.activeState[3]=a|0;var b=this.gl;a?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE)}};a.prototype.setFrontFace=function(a){if(!(this.activeState[2]===a|0)){this.activeState[2]=a|0;var b=this.gl;a?b.frontFace(b.CW):b.frontFace(b.CCW)}};a.prototype.resetAttributes=function(){var a;for(a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=0;var b=this.gl;for(a=1;a<this.maxAttribs;a++)b.disableVertexAttribArray(a)};
a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;a++)this.activeState[a]=32;a=this.gl;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};h.exports=a},{"./utils/mapWebGLBlendModesToPixi":130}],118:[function(c,h,l){function a(c,g,k){this.vertexSrc=c||a.defaultVertexSrc;this.fragmentSrc=g||a.defaultFragmentSrc;this.blendMode=b.BLEND_MODES.NORMAL;this.uniformData=
k||e(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var n in this.uniformData)this.uniforms[n]=this.uniformData[n].value;this.glShaders=[];f[this.vertexSrc+this.fragmentSrc]||(f[this.vertexSrc+this.fragmentSrc]=d.uid());this.glShaderKey=f[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=1;this.enabled=!0}var e=c("./extractUniformsFromSrc"),d=c("../../../utils"),b=c("../../../const"),f={};h.exports=a;a.prototype.apply=function(a,b,d,f){a.applyFilter(this,
b,d,f)};a.defaultVertexSrc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}";a.defaultFragmentSrc="varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"},
{"../../../const":78,"../../../utils":151,"./extractUniformsFromSrc":119}],119:[function(c,h,l){function a(a){var b=/^(projectionMatrix|uSampler|filterArea)$/,f={},c;a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var g=0;g<a.length;g++){var k=a[g].trim();if(-1<k.indexOf("uniform")){c=k.split(" ");var k=c[1],n=c[2],h=1;-1<n.indexOf("[")&&(c=n.split(/\[|\]/),n=c[0],h*=Number(c[1]));n.match(b)||(f[n]={value:e(k,h),name:n,type:k})}}return f}var e=c("pixi-gl-core").shader.defaultValue;h.exports=function(d,
b,f){d=a(d,f);b=a(b,f);return Object.assign(d,b)}},{"pixi-gl-core":7}],120:[function(c,h,l){var a=c("../../../math");h.exports={calculateScreenSpaceMatrix:function(a,d,b){a=a.identity();a.translate(d.x/b.width,d.y/b.height);a.scale(b.width,b.height);return a},calculateNormalizedScreenSpaceMatrix:function(a,d,b){a=a.identity();a.translate(d.x/b.width,d.y/b.height);a.scale(b.width/d.width,b.height/d.height);return a},calculateSpriteMatrix:function(c,d,b,f){var m=f.worldTransform.copy(a.Matrix.TEMP_MATRIX),
g=f._texture.baseTexture;c=c.identity();var k=b.height/b.width;c.translate(d.x/b.width,d.y/b.height);c.scale(1,k);d=b.width/g.width;b=b.height/g.height;m.tx/=g.width*d;m.ty/=g.width*d;m.invert();c.prepend(m);c.scale(1,1/k);c.scale(d,b);c.translate(f.anchor.x,f.anchor.y);return c}}},{"../../../math":102}],121:[function(c,h,l){function a(a){var f=new d.Matrix;e.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"#define GLSLIFY 1\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n");
a.renderable=!1;this.maskSprite=a;this.maskMatrix=f}var e=c("../Filter"),d=c("../../../../math");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.apply=function(a,d,c){var g=this.maskSprite;this.uniforms.mask=g._texture;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,g);this.uniforms.alpha=g.worldAlpha;a.applyFilter(this,d,c)}},{"../../../../math":102,"../Filter":118}],122:[function(c,h,l){function a(a){e.call(this,a);this.gl=this.renderer.gl;
this.quad=new b(this.gl,a.state.attribState);this.shaderCache={};this.pool={};this.filterData=null}var e=c("./WebGLManager"),d=c("../utils/RenderTarget"),b=c("../utils/Quad"),f=c("../../../math"),m=c("../../../Shader"),g=c("../filters/filterTransforms"),k=c("bit-twiddle"),n=function(){this.renderTarget=null;this.sourceFrame=new f.Rectangle;this.destinationFrame=new f.Rectangle;this.filters=[];this.target=null;this.resolution=1};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=
a;a.prototype.pushFilter=function(a,b){var d=this.renderer,f=this.filterData;if(!f){var c=new n;c.sourceFrame=c.destinationFrame=this.renderer._activeRenderTarget.size;c.renderTarget=d._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=f={index:0,stack:[c]}}(c=f.stack[++f.index])||(c=f.stack[f.index]=new n);var g=b[0].resolution,k=b[0].padding,e=a.filterArea||a.getBounds(!0),m=c.sourceFrame,h=c.destinationFrame;m.x=(e.x*g|0)/g;m.y=(e.y*g|0)/g;m.width=(e.width*g|0)/g;
m.height=(e.height*g|0)/g;f.stack[0].renderTarget.transform||m.fit(f.stack[0].destinationFrame);m.pad(k);h.width=m.width;h.height=m.height;f=this.getPotRenderTarget(d.gl,m.width,m.height,g);c.target=a;c.filters=b;c.resolution=g;c.renderTarget=f;f.setFrame(h,m);d.bindRenderTarget(f);d.clear()};a.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],d=a.stack[a.index];this.quad.map(d.renderTarget.size,d.sourceFrame).upload();var f=d.filters;if(1===f.length)f[0].apply(this,d.renderTarget,
b.renderTarget,!1),this.freePotRenderTarget(d.renderTarget);else{var c=d.renderTarget,g=this.getPotRenderTarget(this.renderer.gl,d.sourceFrame.width,d.sourceFrame.height,1);g.setFrame(d.destinationFrame,d.sourceFrame);for(d=0;d<f.length-1;d++){f[d].apply(this,c,g,!0);var k=c,c=g,g=k}f[d].apply(this,c,b.renderTarget,!1);this.freePotRenderTarget(c);this.freePotRenderTarget(g)}a.index--;0===a.index&&(this.filterData=null)};a.prototype.applyFilter=function(a,b,d,f){var c=this.renderer,g=a.glShaders[c.CONTEXT_UID];
g||(a.glShaderKey?(g=this.shaderCache[a.glShaderKey])||(g=a.glShaders[c.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=new m(this.gl,a.vertexSrc,a.fragmentSrc)):g=a.glShaders[c.CONTEXT_UID]=new m(this.gl,a.vertexSrc,a.fragmentSrc),this.quad.initVao(g));c.bindRenderTarget(d);f&&(f=c.gl,f.disable(f.SCISSOR_TEST),c.clear(),f.enable(f.SCISSOR_TEST));d===c.maskManager.scissorRenderTarget&&c.maskManager.pushScissorMask(null,c.maskManager.scissorData);c.bindShader(g);this.syncUniforms(g,a);b.texture.bind(0);
c._activeTextureLocation=0;c.state.setBlendMode(a.blendMode);this.quad.draw()};a.prototype.syncUniforms=function(a,b){var d=b.uniformData,f=b.uniforms,c=1,g;if(a.uniforms.data.filterArea){g=this.filterData.stack[this.filterData.index];var k=a.uniforms.filterArea;k[0]=g.renderTarget.size.width;k[1]=g.renderTarget.size.height;k[2]=g.sourceFrame.x;k[3]=g.sourceFrame.y;a.uniforms.filterArea=k}a.uniforms.data.filterClamp&&(g=this.filterData.stack[this.filterData.index],k=a.uniforms.filterClamp,k[0]=.5/
g.renderTarget.size.width,k[1]=.5/g.renderTarget.size.height,k[2]=(g.sourceFrame.width-.5)/g.renderTarget.size.width,k[3]=(g.sourceFrame.height-.5)/g.renderTarget.size.height,a.uniforms.filterClamp=k);for(var e in d)"sampler2D"===d[e].type?(a.uniforms[e]=c,f[e].baseTexture?this.renderer.bindTexture(f[e].baseTexture,c):(g=this.renderer.gl,this.renderer._activeTextureLocation=g.TEXTURE0+c,g.activeTexture(g.TEXTURE0+c),f[e].texture.bind()),c++):"mat3"===d[e].type?a.uniforms[e]=void 0!==f[e].a?f[e].toArray(!0):
f[e]:"vec2"===d[e].type?void 0!==f[e].x?(g=a.uniforms[e]||new Float32Array(2),g[0]=f[e].x,g[1]=f[e].y,a.uniforms[e]=g):a.uniforms[e]=f[e]:"float"===d[e].type?a.uniforms.data[e].value!==d[e]&&(a.uniforms[e]=f[e]):a.uniforms[e]=f[e]};a.prototype.getRenderTarget=function(a,b){var d=this.filterData.stack[this.filterData.index],f=this.getPotRenderTarget(this.renderer.gl,d.sourceFrame.width,d.sourceFrame.height,b||d.resolution);f.setFrame(d.destinationFrame,d.sourceFrame);return f};a.prototype.returnRenderTarget=
function(a){return this.freePotRenderTarget(a)};a.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};a.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};a.prototype.calculateSpriteMatrix=function(a,b){var d=this.filterData.stack[this.filterData.index];
return g.calculateSpriteMatrix(a,d.sourceFrame,d.renderTarget.size,b)};a.prototype.destroy=function(){this.shaderCache=[];this.emptyPool()};a.prototype.getPotRenderTarget=function(a,b,f,c){b=k.nextPow2(b*c);f=k.nextPow2(f*c);var g=(b&65535)<<16|f&65535;this.pool[g]||(this.pool[g]=[]);a=this.pool[g].pop()||new d(a,b,f,null,1);a.resolution=c;a.defaultFrame.width=a.size.width=b/c;a.defaultFrame.height=a.size.height=f/c;return a};a.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];
if(b)for(var d=0;d<b.length;d++)b[d].destroy(!0)}this.pool={}};a.prototype.freePotRenderTarget=function(a){this.pool[(a.size.width*a.resolution&65535)<<16|a.size.height*a.resolution&65535].push(a)}},{"../../../Shader":77,"../../../math":102,"../filters/filterTransforms":120,"../utils/Quad":127,"../utils/RenderTarget":128,"./WebGLManager":125,"bit-twiddle":30}],123:[function(c,h,l){function a(a){e.call(this,a);this.scissor=!1;this.scissorRenderTarget=this.scissorData=null;this.enableScissor=!0;this.alphaMaskPool=
[];this.alphaMaskIndex=0}var e=c("./WebGLManager"),d=c("../filters/spriteMask/SpriteMaskFilter");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.pushMask=function(a,d){if(d.texture)this.pushSpriteMask(a,d);else if(this.enableScissor&&!this.scissor&&!this.renderer.stencilManager.stencilMaskStack.length&&d.isFastRect()){var c=d.worldTransform,c=Math.atan2(c.b,c.a),c=Math.round(180/Math.PI*c);c%90?this.pushStencilMask(d):this.pushScissorMask(a,d)}else this.pushStencilMask(d)};
a.prototype.popMask=function(a,d){d.texture?this.popSpriteMask(a,d):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,d):this.popStencilMask(a,d)};a.prototype.pushSpriteMask=function(a,f){var c=this.alphaMaskPool[this.alphaMaskIndex];c||(c=this.alphaMaskPool[this.alphaMaskIndex]=[new d(f)]);c[0].resolution=this.renderer.resolution;c[0].maskSprite=f;a.filterArea=f.getBounds(!0);this.renderer.filterManager.pushFilter(a,c);this.alphaMaskIndex++};a.prototype.popSpriteMask=
function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};a.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(a)};a.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};a.prototype.pushScissorMask=function(a,d){d.renderable=!0;var c=this.renderer._activeRenderTarget,g=d.getBounds();g.fit(c.size);d.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
var k=this.renderer.resolution;this.renderer.gl.scissor(g.x*k,(c.root?c.size.height-g.y-g.height:g.y)*k,g.width*k,g.height*k);this.scissorRenderTarget=c;this.scissorData=d;this.scissor=!0};a.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)}},{"../filters/spriteMask/SpriteMaskFilter":121,"./WebGLManager":125}],124:[function(c,h,l){function a(a){e.call(this,a);this.stencilMaskStack=null}var e=c("./WebGLManager");
a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};a.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,f=this.stencilMaskStack;0===f.length&&(b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(b.ALWAYS,
1,1));f.push(a);b.colorMask(!1,!1,!1,!1);b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);b.colorMask(!0,!0,!0,!0);b.stencilFunc(b.NOTEQUAL,0,f.length);b.stencilOp(b.KEEP,b.KEEP,b.KEEP)};a.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack,f=b.pop();0===b.length?a.disable(a.STENCIL_TEST):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(f),
a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.NOTEQUAL,0,b.length),a.stencilOp(a.KEEP,a.KEEP,a.KEEP))};a.prototype.destroy=function(){e.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null}},{"./WebGLManager":125}],125:[function(c,h,l){function a(a){this.renderer=a;this.renderer.on("context",this.onContextChange,this)}a.prototype.constructor=a;h.exports=a;a.prototype.onContextChange=function(){};a.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=
null}},{}],126:[function(c,h,l){function a(a){e.call(this,a)}var e=c("../managers/WebGLManager");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.start=function(){};a.prototype.stop=function(){this.flush()};a.prototype.flush=function(){};a.prototype.render=function(a){}},{"../managers/WebGLManager":125}],127:[function(c,h,l){function a(a,f){this.gl=a;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=
new Float32Array(16);for(var c=0;4>c;c++)this.interleaved[4*c]=this.vertices[2*c],this.interleaved[4*c+1]=this.vertices[2*c+1],this.interleaved[4*c+2]=this.uvs[2*c],this.interleaved[4*c+3]=this.uvs[2*c+1];this.indices=d(1);this.vertexBuffer=e.GLBuffer.createVertexBuffer(a,this.interleaved,a.STATIC_DRAW);this.indexBuffer=e.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.vao=new e.VertexArrayObject(a,f)}var e=c("pixi-gl-core"),d=c("../../../utils/createIndicesForQuads");a.prototype.constructor=
a;a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};a.prototype.map=function(a,d){var c=0,g=0;this.uvs[0]=c;this.uvs[1]=g;this.uvs[2]=c+d.width/a.width;this.uvs[3]=g;this.uvs[4]=c+d.width/a.width;this.uvs[5]=g+d.height/a.height;this.uvs[6]=c;this.uvs[7]=g+d.height/a.height;c=d.x;g=d.y;this.vertices[0]=c;this.vertices[1]=
g;this.vertices[2]=c+d.width;this.vertices[3]=g;this.vertices[4]=c+d.width;this.vertices[5]=g+d.height;this.vertices[6]=c;this.vertices[7]=g+d.height;return this};a.prototype.draw=function(){this.vao.bind().draw(this.gl.TRIANGLES,6,0).unbind();return this};a.prototype.upload=function(){for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.vertexBuffer.upload(this.interleaved);
return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};h.exports=a},{"../../../utils/createIndicesForQuads":149,"pixi-gl-core":7}],128:[function(c,h,l){var a=c("../../../math"),e=c("../../../const"),d=c("pixi-gl-core").GLFramebuffer;c=function(b,f,c,g,k,n){this.gl=b;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new a.Rectangle(0,0,1,1);this.resolution=k||e.RESOLUTION;this.projectionMatrix=new a.Matrix;
this.frame=this.transform=null;this.defaultFrame=new a.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=g||e.SCALE_MODES.DEFAULT;(this.root=n)?(this.frameBuffer=new d(b,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.createRGBA(b,100,100),this.scaleMode===e.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);
this.setFrame();this.resize(f,c)};c.prototype.constructor=c;h.exports=c;c.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};c.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};c.prototype.setFrame=function(a,d){this.destinationFrame=a||this.destinationFrame||this.defaultFrame;this.sourceFrame=d||this.sourceFrame||a};c.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,
this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};c.prototype.calculateProjection=
function(a,d){var c=this.projectionMatrix;d=d||a;c.identity();this.root?(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-d.x*c.a,c.ty=1-d.y*c.d):(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-d.x*c.a,c.ty=-1-d.y*c.d)};c.prototype.resize=function(a,d){a|=0;d|=0;if(this.size.width!==a||this.size.height!==d)this.size.width=a,this.size.height=d,this.defaultFrame.width=a,this.defaultFrame.height=d,this.frameBuffer.resize(a*this.resolution,d*this.resolution),this.calculateProjection(this.frame||this.size)};c.prototype.destroy=
function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null}},{"../../../const":78,"../../../math":102,"pixi-gl-core":7}],129:[function(c,h,l){function a(a){for(var b="",f=0;f<a;f++)0<f&&(b+="\nelse "),f<a-1&&(b+="if(test == "+f+".0){}");return b}var e=c("pixi-gl-core");h.exports=function(d,b){var f=!b;if(f){var c=document.createElement("canvas");c.width=1;c.height=1;b=e.createContext(c)}for(c=b.createShader(b.FRAGMENT_SHADER);;){var g="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}".replace(/%forloop%/gi,
a(d));b.shaderSource(c,g);b.compileShader(c);if(b.getShaderParameter(c,b.COMPILE_STATUS))break;else d=d/2|0}f&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").loseContext();return d}},{"pixi-gl-core":7}],130:[function(c,h,l){var a=c("../../../const");h.exports=function(c,d){d=d||[];d[a.BLEND_MODES.NORMAL]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.ADD]=[c.ONE,c.DST_ALPHA];d[a.BLEND_MODES.MULTIPLY]=[c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.SCREEN]=[c.ONE,c.ONE_MINUS_SRC_COLOR];
d[a.BLEND_MODES.OVERLAY]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.DARKEN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.LIGHTEN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.COLOR_DODGE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.COLOR_BURN]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.HARD_LIGHT]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.SOFT_LIGHT]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.DIFFERENCE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.EXCLUSION]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];
d[a.BLEND_MODES.HUE]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.SATURATION]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.COLOR]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];d[a.BLEND_MODES.LUMINOSITY]=[c.ONE,c.ONE_MINUS_SRC_ALPHA];return d}},{"../../../const":78}],131:[function(c,h,l){var a=c("../../../const");h.exports=function(c,d){d=d||{};d[a.DRAW_MODES.POINTS]=c.POINTS;d[a.DRAW_MODES.LINES]=c.LINES;d[a.DRAW_MODES.LINE_LOOP]=c.LINE_LOOP;d[a.DRAW_MODES.LINE_STRIP]=c.LINE_STRIP;d[a.DRAW_MODES.TRIANGLES]=c.TRIANGLES;
d[a.DRAW_MODES.TRIANGLE_STRIP]=c.TRIANGLE_STRIP;d[a.DRAW_MODES.TRIANGLE_FAN]=c.TRIANGLE_FAN}},{"../../../const":78}],132:[function(c,h,l){h.exports=function(a){a.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],133:[function(c,h,l){function a(a){b.call(this);this.anchor=new e.ObservablePoint(this.onAnchorUpdate,this);this._texture=null;this._height=this._width=0;this._tintRGB=this._tint=null;this.tint=16777215;
this.blendMode=m.BLEND_MODES.NORMAL;this.shader=null;this.cachedTint=16777215;this.texture=a||d.EMPTY;this.vertexData=new Float32Array(8);this.vertexTrimmedData=null;this._textureID=this._transformID=-1}var e=c("../math"),d=c("../textures/Texture"),b=c("../display/Container"),f=c("../utils"),m=c("../const"),g=new e.Point;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture.orig.width},
set:function(a){var b=f.sign(this.scale.x)||1;this.scale.x=b*a/this.texture.orig.width;this._width=a}},height:{get:function(){return Math.abs(this.scale.y)*this.texture.orig.height},set:function(a){var b=f.sign(this.scale.y)||1;this.scale.y=b*a/this.texture.orig.height;this._height=a}},tint:{get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},texture:{get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=
a,this.cachedTint=16777215,this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}}});a.prototype._onTextureUpdate=function(){this._textureID=-1;this._width&&(this.scale.x=f.sign(this.scale.x)*this._width/this.texture.orig.width);this._height&&(this.scale.y=f.sign(this.scale.y)*this._height/this.texture.orig.height)};a.prototype.onAnchorUpdate=function(){this._transformID=-1};a.prototype.calculateVertices=function(){if(this._transformID!==
this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,d=b.a,f=b.b,c=b.c,g=b.d,e=b.tx,b=b.ty,m=this.vertexData,h,l,r;l=a.trim;r=a.orig;l?(h=l.x-this.anchor._x*r.width,a=h+l.width,r=l.y-this.anchor._y*r.height,l=r+l.height):(a=r.width*(1-this.anchor._x),h=r.width*-this.anchor._x,l=r.height*(1-this.anchor._y),r=r.height*-this.anchor._y);m[0]=d*h+c*r+e;m[1]=
g*r+f*h+b;m[2]=d*a+c*r+e;m[3]=g*r+f*a+b;m[4]=d*a+c*l+e;m[5]=g*l+f*a+b;m[6]=d*h+c*l+e;m[7]=g*l+f*h+b}};a.prototype.calculateTrimmedVertices=function(){this.vertexTrimmedData||(this.vertexTrimmedData=new Float32Array(8));var a=this.vertexTrimmedData,b=this._texture.orig,d=this.transform.worldTransform,f=d.a,c=d.b,g=d.c,e=d.d,m=d.tx,d=d.ty,h,l,r;h=b.width*(1-this.anchor._x);l=b.width*-this.anchor._x;r=b.height*(1-this.anchor._y);b=b.height*-this.anchor._y;a[0]=f*l+g*b+m;a[1]=e*b+c*l+d;a[2]=f*h+g*b+m;
a[3]=e*b+c*h+d;a[4]=f*h+g*r+m;a[5]=e*r+c*h+d;a[6]=f*l+g*r+m;a[7]=e*r+c*l+d};a.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins.sprite);a.plugins.sprite.render(this)};a.prototype._renderCanvas=function(a){a.plugins.sprite.render(this)};a.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),
this._bounds.addQuad(this.vertexTrimmedData))};a.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=-this._texture.orig.width*this.anchor._x,this._bounds.minY=-this._texture.orig.height*this.anchor._y,this._bounds.maxX=this._texture.orig.width,this._bounds.maxY=this._texture.orig.height,a||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):b.prototype.getLocalBounds.call(this,a)};a.prototype.containsPoint=
function(a){this.worldTransform.applyInverse(a,g);var b=this._texture.orig.width;a=this._texture.orig.height;var d=-b*this.anchor.x;return g.x>d&&g.x<d+b&&(b=-a*this.anchor.y,g.y>b&&g.y<b+a)?!0:!1};a.prototype.destroy=function(a){b.prototype.destroy.call(this,a);this.anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this.shader=this._texture=null};a.from=function(b){return new a(d.from(b))};a.fromFrame=function(b){var d=f.TextureCache[b];
if(!d)throw Error('The frameId "'+b+'" does not exist in the texture cache');return new a(d)};a.fromImage=function(b,f,c){return new a(d.fromImage(b,f,c))}},{"../const":78,"../display/Container":80,"../math":102,"../textures/Texture":144,"../utils":151}],134:[function(c,h,l){function a(a){this.renderer=a}l=c("../../renderers/canvas/CanvasRenderer");var e=c("../../const"),d=c("../../math"),b=new d.Matrix,f=c("./CanvasTinter");a.prototype.constructor=a;h.exports=a;l.registerPlugin("sprite",a);a.prototype.render=
function(a){var c=a._texture,k=this.renderer,n=a.transform.worldTransform,h,l,p=c._frame.width,q=c._frame.height;0>=c.orig.width||0>=c.orig.height||!c.baseTexture.source||(k.setBlendMode(a.blendMode),c.valid&&(k.context.globalAlpha=a.worldAlpha,h=c.baseTexture.scaleMode===e.SCALE_MODES.LINEAR,k.smoothProperty&&k.context[k.smoothProperty]!==h&&(k.context[k.smoothProperty]=h),c.trim?(h=c.trim.width/2+c.trim.x-a.anchor.x*c.orig.width,l=c.trim.height/2+c.trim.y-a.anchor.y*c.orig.height):(h=(.5-a.anchor.x)*
c.orig.width,l=(.5-a.anchor.y)*c.orig.height),c.rotate&&(n.copy(b),n=b,d.GroupD8.matrixAppendRotationInv(n,c.rotate,h,l),l=h=0),h-=p/2,l-=q/2,k.roundPixels?(k.context.setTransform(n.a,n.b,n.c,n.d,n.tx*k.resolution|0,n.ty*k.resolution|0),h|=0,l|=0):k.context.setTransform(n.a,n.b,n.c,n.d,n.tx*k.resolution,n.ty*k.resolution),n=c.baseTexture.resolution,16777215!==a.tint?(a.cachedTint!==a.tint&&(a.cachedTint=a.tint,a.tintedTexture=f.getTintedTexture(a,a.tint)),k.context.drawImage(a.tintedTexture,0,0,p*
n,q*n,h*k.resolution,l*k.resolution,p*k.resolution,q*k.resolution)):k.context.drawImage(c.baseTexture.source,c._frame.x*n,c._frame.y*n,p*n,q*n,h*k.resolution,l*k.resolution,p*k.resolution,q*k.resolution)))};a.prototype.destroy=function(){this.renderer=null}},{"../../const":78,"../../math":102,"../../renderers/canvas/CanvasRenderer":109,"./CanvasTinter":135}],135:[function(c,h,l){var a=c("../../utils");c=c("../../renderers/canvas/utils/canUseNewCanvasBlendModes");var e=h.exports={getTintedTexture:function(a,
b){var f=a.texture;b=e.roundColor(b);var c="#"+("00000"+(b|0).toString(16)).substr(-6);f.tintCache=f.tintCache||{};if(f.tintCache[c])return f.tintCache[c];var g=e.canvas||document.createElement("canvas");e.tintMethod(f,b,g);if(e.convertTintToImage){var k=new Image;k.src=g.toDataURL();f.tintCache[c]=k}else f.tintCache[c]=g,e.canvas=null;return g},tintWithMultiply:function(a,b,f){var c=f.getContext("2d"),g=a._frame.clone(),k=a.baseTexture.resolution;g.x*=k;g.y*=k;g.width*=k;g.height*=k;f.width=g.width;
f.height=g.height;c.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);c.fillRect(0,0,g.width,g.height);c.globalCompositeOperation="multiply";c.drawImage(a.baseTexture.source,g.x,g.y,g.width,g.height,0,0,g.width,g.height);c.globalCompositeOperation="destination-atop";c.drawImage(a.baseTexture.source,g.x,g.y,g.width,g.height,0,0,g.width,g.height)},tintWithOverlay:function(a,b,f){var c=f.getContext("2d"),g=a._frame.clone(),k=a.baseTexture.resolution;g.x*=k;g.y*=k;g.width*=k;g.height*=k;f.width=g.width;
f.height=g.height;c.globalCompositeOperation="copy";c.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);c.fillRect(0,0,g.width,g.height);c.globalCompositeOperation="destination-atop";c.drawImage(a.baseTexture.source,g.x,g.y,g.width,g.height,0,0,g.width,g.height)},tintWithPerPixel:function(d,b,f){var c=f.getContext("2d"),g=d._frame.clone(),k=d.baseTexture.resolution;g.x*=k;g.y*=k;g.width*=k;g.height*=k;f.width=g.width;f.height=g.height;c.globalCompositeOperation="copy";c.drawImage(d.baseTexture.source,
g.x,g.y,g.width,g.height,0,0,g.width,g.height);f=a.hex2rgb(b);d=f[0];b=f[1];f=f[2];for(var g=c.getImageData(0,0,g.width,g.height),k=g.data,e=0;e<k.length;e+=4)k[e+0]*=d,k[e+1]*=b,k[e+2]*=f;c.putImageData(g,0,0)},roundColor:function(d){var b=e.cacheStepsPerColorChannel;d=a.hex2rgb(d);d[0]=Math.min(255,d[0]/b*b);d[1]=Math.min(255,d[1]/b*b);d[2]=Math.min(255,d[2]/b*b);return a.rgb2hex(d)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:c(),tintMethod:0};e.tintMethod=e.canUseMultiply?
e.tintWithMultiply:e.tintWithPerPixel},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":112,"../../utils":151}],136:[function(c,h,l){c=function(a){this.vertices=new ArrayBuffer(a);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)};h.exports=c;c.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null}},{}],137:[function(c,h,l){function a(a){e.call(this,a);this.vertSize=5;this.vertByteSize=4*this.vertSize;this.size=g.SPRITE_BATCH_SIZE;
this.buffers=[];for(a=1;a<=n.nextPow2(this.size);a*=2)this.buffers.push(new m(4*a*this.vertByteSize));this.indices=d(this.size);this.shaders=null;v=this.currentIndex=0;this.groups=[];for(a=0;a<this.size;a++)this.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};this.sprites=[];this.vertexBuffers=[];this.vaos=[];this.vaoMax=2;this.vertexCount=0;this.renderer.on("prerender",this.onPrerender,this)}var e=c("../../renderers/webgl/utils/ObjectRenderer");l=c("../../renderers/webgl/WebGLRenderer");
var d=c("../../utils/createIndicesForQuads"),b=c("./generateMultiTextureShader"),f=c("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),m=c("./BatchBuffer"),g=c("../../const"),k=c("pixi-gl-core"),n=c("bit-twiddle"),v=0;a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;l.registerPlugin("sprite",a);a.prototype.onContextChange=function(){var a=this.renderer.gl;this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),g.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=
f(this.MAX_TEXTURES,a);this.shaders=Array(this.MAX_TEXTURES);this.shaders[0]=b(a,1);this.shaders[1]=b(a,2);this.indexBuffer=k.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);for(var d=this.shaders[1],c=0;c<this.vaoMax;c++)this.vertexBuffers[c]=k.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[c]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[c],d.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[c],
d.attributes.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[c],d.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[c],d.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0];this.currentBlendMode=99999};a.prototype.onPrerender=function(){this.vertexCount=0};a.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();a.texture._uvs&&(this.sprites[this.currentIndex++]=a)};a.prototype.flush=
function(){if(0!==this.currentIndex){var a=this.renderer.gl,d=n.nextPow2(this.currentIndex),d=n.log2(d),f=this.buffers[d],c=this.sprites,d=this.groups,g=f.float32View,e=f.uint32View,m=0,h,l,H=1,E=0,F=d[0],I,J,B,D=c[0].blendMode;F.textureCount=0;F.start=0;F.blend=D;v++;for(var M=0;M<this.currentIndex;M++){B=c[M];h=B._texture.baseTexture;D!==B.blendMode&&(D=B.blendMode,l=null,E=this.MAX_TEXTURES,v++);l!==h&&(l=h,h._enabled!==v&&(E===this.MAX_TEXTURES&&(v++,E=0,F.size=M-F.start,F=d[H++],F.textureCount=
0,F.blend=D,F.start=M),h._enabled=v,h._id=E,F.textures[F.textureCount++]=h,E++));I=B.vertexData;J=B._tintRGB+(255*B.worldAlpha<<24);B=B._texture._uvs.uvsUint32;h=h._id;if(this.renderer.roundPixels){var G=this.renderer.resolution;g[m]=(I[0]*G|0)/G;g[m+1]=(I[1]*G|0)/G;g[m+5]=(I[2]*G|0)/G;g[m+6]=(I[3]*G|0)/G;g[m+10]=(I[4]*G|0)/G;g[m+11]=(I[5]*G|0)/G;g[m+15]=(I[6]*G|0)/G;g[m+16]=(I[7]*G|0)/G}else g[m]=I[0],g[m+1]=I[1],g[m+5]=I[2],g[m+6]=I[3],g[m+10]=I[4],g[m+11]=I[5],g[m+15]=I[6],g[m+16]=I[7];e[m+2]=
B[0];e[m+7]=B[1];e[m+12]=B[2];e[m+17]=B[3];e[m+3]=e[m+8]=e[m+13]=e[m+18]=J;g[m+4]=g[m+9]=g[m+14]=g[m+19]=h;m+=20}F.size=M-F.start;this.vertexCount++;this.vaoMax<=this.vertexCount&&(this.vaoMax++,l=this.shaders[1],this.vertexBuffers[this.vertexCount]=k.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],l.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],
l.attributes.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],l.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],l.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16));this.vertexBuffers[this.vertexCount].upload(f.vertices,0);this.vao=this.vaos[this.vertexCount].bind();for(M=0;M<H;M++){f=d[M];c=f.textureCount;(l=this.shaders[c-1])||(l=this.shaders[c-1]=b(a,c));this.renderer.bindShader(l);
for(l=0;l<c;l++)this.renderer.bindTexture(f.textures[l],l);this.renderer.state.setBlendMode(f.blend);a.drawElements(a.TRIANGLES,6*f.size,a.UNSIGNED_SHORT,12*f.start)}this.currentIndex=0}};a.prototype.start=function(){};a.prototype.stop=function(){this.flush();this.vao.unbind()};a.prototype.destroy=function(){for(var a=0;a<this.vaoMax;a++)this.vertexBuffers[a].destroy(),this.vaos[a].destroy();this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);e.prototype.destroy.call(this);
for(a=0;a<this.shaders.length;a++)this.shaders[a]&&this.shaders[a].destroy();this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(a=0;a<this.buffers.length;a++)this.buffers[a].destroy()}},{"../../const":78,"../../renderers/webgl/WebGLRenderer":116,"../../renderers/webgl/utils/ObjectRenderer":126,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":129,"../../utils/createIndicesForQuads":149,"./BatchBuffer":136,"./generateMultiTextureShader":138,"bit-twiddle":30,"pixi-gl-core":7}],
138:[function(c,h,l){function a(a){var b;b="\n\n";for(var f=0;f<a;f++)0<f&&(b+="\nelse "),f<a-1&&(b+="if(textureId == "+f+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+f+"], vTextureCoord);",b+="\n}";return b+"\n\n"}var e=c("../../Shader");h.exports=function(d,b){var f;f="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}".replace(/%count%/gi,
b);f=f.replace(/%forloop%/gi,a(b));f=new e(d,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vTextureId = aTextureId;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
f,{aVertexPosition:3,aColor:2,aTextureCoord:1,aTextureId:0});for(var c=[],g=0;g<b;g++)c[g]=g;f.bind();f.uniforms.uSamplers=c;return f}},{"../../Shader":77}],139:[function(c,h,l){function a(a,f){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=m.RESOLUTION;this._styleListener=this._style=this._text=null;this._font="";var c=d.fromCanvas(this.canvas);c.orig=new b.Rectangle;c.trim=new b.Rectangle;e.call(this,c);this.text=a;this.style=f;this.localStyleID=
-1}var e=c("../sprites/Sprite"),d=c("../textures/Texture"),b=c("../math"),f=c("../utils"),m=c("../const"),g=c("./TextStyle"),k={texture:!0,children:!1,baseTexture:!0};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.fontPropertiesCache={};a.fontPropertiesCanvas=document.createElement("canvas");a.fontPropertiesContext=a.fontPropertiesCanvas.getContext("2d");Object.defineProperties(a.prototype,{width:{get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this.texture.orig.width},
set:function(a){this.updateText(!0);var b=f.sign(this.scale.x)||1;this.scale.x=b*a/this.texture.orig.width;this._width=a}},height:{get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=f.sign(this.scale.y)||1;this.scale.y=b*a/this.texture.orig.height;this._height=a}},style:{get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof g?a:new g(a);this.localStyleID=-1;this.dirty=!0}},text:{get:function(){return this._text},
set:function(a){a=(a||" ").toString();this._text!==a&&(this._text=a,this.dirty=!0)}}});a.prototype.updateText=function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(this.dirty||!a){this._font=b.fontStyle+" "+b.fontVariant+" "+b.fontWeight+" "+("number"===typeof b.fontSize?b.fontSize+"px":b.fontSize)+" "+b.fontFamily;this.context.font=this._font;a=(b.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/);var d=Array(a.length),f=0,
c=this.determineFontProperties(this._font),g;for(g=0;g<a.length;g++){var k=this.context.measureText(a[g]).width+(a[g].length-1)*b.letterSpacing;d[g]=k;f=Math.max(f,k)}g=f+b.strokeThickness;b.dropShadow&&(g+=b.dropShadowDistance);g+=2*b.padding;this.canvas.width=Math.ceil((g+this.context.lineWidth)*this.resolution);k=this.style.lineHeight||c.fontSize+b.strokeThickness;g=Math.max(k,c.fontSize+b.strokeThickness)+(a.length-1)*k;b.dropShadow&&(g+=b.dropShadowDistance);this.canvas.height=Math.ceil((g+2*
this._style.padding)*this.resolution);this.context.scale(this.resolution,this.resolution);navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=b.stroke;this.context.lineWidth=b.strokeThickness;this.context.textBaseline=b.textBaseline;this.context.lineJoin=b.lineJoin;this.context.miterLimit=b.miterLimit;var e,m;if(b.dropShadow){0<b.dropShadowBlur?(this.context.shadowColor=b.dropShadowColor,this.context.shadowBlur=
b.dropShadowBlur):this.context.fillStyle=b.dropShadowColor;var h=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,l=Math.sin(b.dropShadowAngle)*b.dropShadowDistance;for(g=0;g<a.length;g++)e=b.strokeThickness/2,m=b.strokeThickness/2+g*k+c.ascent,"right"===b.align?e+=f-d[g]:"center"===b.align&&(e+=(f-d[g])/2),b.fill&&(this.drawLetterSpacing(a[g],e+h+b.padding,m+l+b.padding),b.stroke&&b.strokeThickness&&(this.context.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(a[g],e+h+b.padding,m+l+b.padding,
!0),this.context.strokeStyle=b.stroke))}this.context.fillStyle=this._generateFillStyle(b,a);for(g=0;g<a.length;g++)e=b.strokeThickness/2,m=b.strokeThickness/2+g*k+c.ascent,"right"===b.align?e+=f-d[g]:"center"===b.align&&(e+=(f-d[g])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(a[g],e+b.padding,m+b.padding,!0),b.fill&&this.drawLetterSpacing(a[g],e+b.padding,m+b.padding);this.updateTexture()}};a.prototype.drawLetterSpacing=function(a,b,d,f){var c=this._style.letterSpacing;if(0===c)f?this.context.strokeText(a,
b,d):this.context.fillText(a,b,d);else for(var g=String.prototype.split.call(a,""),k=0,e=b;k<a.length;)b=g[k++],f?this.context.strokeText(b,e,d):this.context.fillText(b,e,d),e+=this.context.measureText(b).width+c};a.prototype.updateTexture=function(){var a=this._texture,b=this._style;a.baseTexture.hasLoaded=!0;a.baseTexture.resolution=this.resolution;a.baseTexture.realWidth=this.canvas.width;a.baseTexture.realHeight=this.canvas.height;a.baseTexture.width=this.canvas.width/this.resolution;a.baseTexture.height=
this.canvas.height/this.resolution;a.trim.width=a._frame.width=this.canvas.width/this.resolution;a.trim.height=a._frame.height=this.canvas.height/this.resolution;a.trim.x=-b.padding;a.trim.y=-b.padding;a.orig.width=a._frame.width-2*b.padding;a.orig.height=a._frame.height-2*b.padding;this._onTextureUpdate();a.baseTexture.emit("update",a.baseTexture);this.dirty=!1};a.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);e.prototype.renderWebGL.call(this,
a)};a.prototype._renderCanvas=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);e.prototype._renderCanvas.call(this,a)};a.prototype.determineFontProperties=function(b){var d=a.fontPropertiesCache[b];if(!d){var d={},f=a.fontPropertiesCanvas,c=a.fontPropertiesContext;c.font=b;var g=Math.ceil(c.measureText("|M\u00c9q").width),k=Math.ceil(c.measureText("M").width),e=2*k,k=1.4*k|0;f.width=g;f.height=e;c.fillStyle="#f00";c.fillRect(0,0,g,e);c.font=
b;c.textBaseline="alphabetic";c.fillStyle="#000";c.fillText("|M\u00c9q",0,k);var f=c.getImageData(0,0,g,e).data,c=f.length,g=4*g,m,h,l=0,C=!1;for(m=0;m<k;m++){for(h=0;h<g;h+=4)if(255!==f[l+h]){C=!0;break}if(C)break;else l+=g}d.ascent=k-m;l=c-g;C=!1;for(m=e;m>k;m--){for(h=0;h<g;h+=4)if(255!==f[l+h]){C=!0;break}if(C)break;else l-=g}d.descent=m-k;d.fontSize=d.ascent+d.descent;a.fontPropertiesCache[b]=d}return d};a.prototype.wordWrap=function(a){var b="";a=a.split("\n");for(var d=this._style.wordWrapWidth,
f=0;f<a.length;f++){for(var c=d,g=a[f].split(" "),k=0;k<g.length;k++){var e=this.context.measureText(g[k]).width;if(this._style.breakWords&&e>d)for(var e=g[k].split(""),m=0;m<e.length;m++){var h=this.context.measureText(e[m]).width;h>c?(b+="\n"+e[m],c=d-h):(0===m&&(b+=" "),b+=e[m],c-=h)}else m=e+this.context.measureText(" ").width,0===k||m>c?(0<k&&(b+="\n"),b+=g[k],c=d-e):(c-=m,b+=" "+g[k])}f<a.length-1&&(b+="\n")}return b};a.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();
this._bounds.addQuad(this.vertexData)};a.prototype._onStyleChange=function(){this.dirty=!0};a.prototype._generateFillStyle=function(a,b){if(Array.isArray(a.fill)){if(navigator.isCocoonJS)return a.fill[0];var d,f,c,g,k;d=this.canvas.width/this.resolution;f=this.canvas.height/this.resolution;if(a.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL)for(f=this.context.createLinearGradient(d/2,0,d/2,f),c=(a.fill.length+1)*b.length,d=g=0;d<b.length;d++){g+=1;for(var e=0;e<a.fill.length;e++)k=g/c,f.addColorStop(k,
a.fill[e]),g++}else for(f=this.context.createLinearGradient(0,f/2,d,f/2),c=a.fill.length+1,g=1,d=0;d<a.fill.length;d++)k=g/c,f.addColorStop(k,a.fill[d]),g++;return f}return a.fill};a.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},k,a);e.prototype.destroy.call(this,a);this._style=this.canvas=this.context=null}},{"../const":78,"../math":102,"../sprites/Sprite":133,"../textures/Texture":144,"../utils":151,"./TextStyle":140}],140:[function(c,h,l){function a(a){this.styleID=
0;Object.assign(this,this._defaults,a)}function e(a){if("number"===typeof a)return d.hex2string(a);if(Array.isArray(a))for(var f=0;f<a.length;++f)"number"===typeof a[f]&&(a[f]=d.hex2string(a[f]));return a}l=c("../const");var d=c("../utils");a.prototype.constructor=a;h.exports=a;a.prototype._defaults={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",
fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",wordWrap:!1,wordWrapWidth:100};a.prototype.clone=function(){var b={},d;for(d in this._defaults)b[d]=this[d];return new a(b)};a.prototype.reset=function(){Object.assign(this,this._defaults)};Object.defineProperties(a.prototype,{align:{get:function(){return this._align},set:function(a){this._align!==a&&
(this._align=a,this.styleID++)}},breakWords:{get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},dropShadow:{get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},dropShadowAngle:{get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},dropShadowBlur:{get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==
a&&(this._dropShadowBlur=a,this.styleID++)}},dropShadowColor:{get:function(){return this._dropShadowColor},set:function(a){a=e(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},dropShadowDistance:{get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},fill:{get:function(){return this._fill},set:function(a){a=e(a);this._fill!==a&&(this._fill=a,this.styleID++)}},fillGradientType:{get:function(){return this._fillGradientType},
set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},fontFamily:{get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},fontSize:{get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},fontStyle:{get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},fontVariant:{get:function(){return this._fontVariant},
set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},fontWeight:{get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},letterSpacing:{get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},lineHeight:{get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},lineJoin:{get:function(){return this._lineJoin},
set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},miterLimit:{get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},padding:{get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},stroke:{get:function(){return this._stroke},set:function(a){a=e(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},strokeThickness:{get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==
a&&(this._strokeThickness=a,this.styleID++)}},textBaseline:{get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},wordWrap:{get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},wordWrapWidth:{get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}})},{"../const":78,"../utils":151}],141:[function(c,h,l){function a(a,
f,c,g){e.call(this,null,c);this.resolution=g||d.RESOLUTION;this.width=a||100;this.height=f||100;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;this.scaleMode=c||d.SCALE_MODES.DEFAULT;this.hasLoaded=!0;this._glRenderTargets=[];this._canvasRenderTarget=null;this.valid=!1}var e=c("./BaseTexture"),d=c("../const");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.resize=function(a,d){if(a!==this.width||d!==this.height)this.valid=
0<a&&0<d,this.width=a,this.height=d,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this)};a.prototype.destroy=function(){e.prototype.destroy.call(this,!0);this.renderer=null}},{"../const":78,"./BaseTexture":142}],142:[function(c,h,l){function a(a,f,c){b.call(this);this.uid=e.uid();this.touched=0;this.resolution=c||d.RESOLUTION;this.realHeight=this.realWidth=this.height=this.width=100;this.scaleMode=f||d.SCALE_MODES.DEFAULT;this.isLoading=
this.hasLoaded=!1;this.source=null;this.premultipliedAlpha=!0;this.imageUrl=null;this.isPowerOfTwo=!1;this.mipmap=d.MIPMAP_TEXTURES;this.wrapMode=d.WRAP_MODES.DEFAULT;this._glTextures=[];this._id=this._enabled=0;a&&this.loadSource(a)}var e=c("../utils"),d=c("../const"),b=c("eventemitter3"),f=c("../utils/determineCrossOrigin"),m=c("bit-twiddle");a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.videoWidth||
this.source.width;this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=m.isPow2(this.realWidth)&&m.isPow2(this.realHeight);this.emit("update",this)};a.prototype.loadSource=function(a){var b=this.isLoading;this.isLoading=this.hasLoaded=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);this.source=a;if((this.source.complete||this.source.getContext)&&
this.source.width&&this.source.height)this._sourceLoaded();else if(!a.getContext){this.isLoading=!0;var d=this;a.onload=function(){a.onload=null;a.onerror=null;d.isLoading&&(d.isLoading=!1,d._sourceLoaded(),d.emit("loaded",d))};a.onerror=function(){a.onload=null;a.onerror=null;d.isLoading&&(d.isLoading=!1,d.emit("error",d))};a.complete&&a.src&&(this.isLoading=!1,a.onload=null,a.onerror=null,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this))}};a.prototype._sourceLoaded=
function(){this.hasLoaded=!0;this.update()};a.prototype.destroy=function(){this.imageUrl?(delete e.BaseTextureCache[this.imageUrl],delete e.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete e.BaseTextureCache[this.source._pixiId];this.source=null;this.dispose()};a.prototype.dispose=function(){this.emit("dispose",this)};a.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};a.fromImage=
function(b,d,c){var m=e.BaseTextureCache[b];if(!m){var h=new Image;void 0===d&&0!==b.indexOf("data:")&&(h.crossOrigin=f(b));m=new a(h,c);m.imageUrl=b;h.src=b;e.BaseTextureCache[b]=m;m.resolution=e.getResolutionOfUrl(b)}return m};a.fromCanvas=function(b,d){b._pixiId||(b._pixiId="canvas_"+e.uid());var c=e.BaseTextureCache[b._pixiId];c||(c=new a(b,d),e.BaseTextureCache[b._pixiId]=c);return c}},{"../const":78,"../utils":151,"../utils/determineCrossOrigin":150,"bit-twiddle":30,eventemitter3:32}],143:[function(c,
h,l){function a(a,c,m,g,k){this.legacyRenderer=null;if(!(a instanceof e)){var h=c;g=g||0;k=k||1;console.warn("v4 RenderTexture now expects a new BaseRenderTexture. Please use RenderTexture.create("+h+", "+m+")");this.legacyRenderer=a;c=null;a=new e(h,m,g,k)}d.call(this,a,c);this.valid=!0;this._updateUvs()}var e=c("./BaseRenderTexture"),d=c("./Texture");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.resize=function(a,d,c){this.valid=0<a&&0<d;this._frame.width=
this.orig.width=a;this._frame.height=this.orig.height=d;c||this.baseTexture.resize(a,d);this._updateUvs()};a.create=function(b,d,c,g){return new a(new e(b,d,c,g))}},{"./BaseRenderTexture":141,"./Texture":144}],144:[function(c,h,l){function a(b,d,c,g,e){f.call(this);this.noFrame=!1;d||(this.noFrame=!0,d=new m.Rectangle(0,0,1,1));b instanceof a&&(b=b.baseTexture);this.baseTexture=b;this._frame=d;this.trim=g;this.requiresUpdate=this.valid=!1;this._uvs=null;this.orig=c||d;this._rotate=+(e||0);if(!0===
e)this._rotate=2;else if(0!==this._rotate%2)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";if(b.hasLoaded)this.noFrame&&(d=new m.Rectangle(0,0,b.width,b.height),b.on("update",this.onBaseTextureUpdated,this)),this.frame=d;else b.once("loaded",this.onBaseTextureLoaded,this);this._updateID=0}var e=c("./BaseTexture"),d=c("./VideoBaseTexture"),b=c("./TextureUvs"),f=c("eventemitter3"),m=c("../math"),g=c("../utils");a.prototype=Object.create(f.prototype);a.prototype.constructor=
a;h.exports=a;Object.defineProperties(a.prototype,{frame:{get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;if(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(a){this._rotate=
a;this.valid&&this._updateUvs()}},width:{get:function(){return this.orig?this.orig.width:0}},height:{get:function(){return this.orig?this.orig.height:0}}});a.prototype.update=function(){this.baseTexture.update()};a.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?new m.Rectangle(0,0,a.width,a.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};a.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=
a.width;this._frame.height=a.height;this.emit("update",this)};a.prototype.destroy=function(a){this.baseTexture&&(a&&(g.TextureCache[this.baseTexture.imageUrl]&&delete g.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;this.off("dispose",this.dispose,this);this.off("update",this.update,
this)};a.prototype.clone=function(){return new a(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};a.prototype._updateUvs=function(){this._uvs||(this._uvs=new b);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};a.fromImage=function(b,d,c){var f=g.TextureCache[b];f||(f=new a(e.fromImage(b,d,c)),g.TextureCache[b]=f);return f};a.fromFrame=function(a){var b=g.TextureCache[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache');return b};a.fromCanvas=
function(b,d){return new a(e.fromCanvas(b,d))};a.fromVideo=function(b,c){return"string"===typeof b?a.fromVideoUrl(b,c):new a(d.fromVideo(b,c))};a.fromVideoUrl=function(b,c){return new a(d.fromUrl(b,c))};a.from=function(b){if("string"===typeof b){var d=g.TextureCache[b];return d?d:null!==b.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?a.fromVideoUrl(b):a.fromImage(b)}return b instanceof HTMLCanvasElement?a.fromCanvas(b):b instanceof HTMLVideoElement?a.fromVideo(b):b instanceof e?new a(e):b};a.addTextureToCache=
function(a,b){g.TextureCache[b]=a};a.removeTextureFromCache=function(a){var b=g.TextureCache[a];delete g.TextureCache[a];delete g.BaseTextureCache[a];return b};a.EMPTY=new a(new e);a.EMPTY.destroy=function(){};a.EMPTY.on=function(){};a.EMPTY.once=function(){};a.EMPTY.emit=function(){}},{"../math":102,"../utils":151,"./BaseTexture":142,"./TextureUvs":145,"./VideoBaseTexture":146,eventemitter3:32}],145:[function(c,h,l){function a(){this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=
1;this.uvsUint32=new Uint32Array(4)}h.exports=a;var e=c("../math/GroupD8");a.prototype.set=function(a,b,c){var m=b.width,g=b.height;if(c){b=a.width/2/m;var k=a.height/2/g,m=a.x/m+b;a=a.y/g+k;c=e.add(c,e.NW);this.x0=m+b*e.uX(c);this.y0=a+k*e.uY(c);c=e.add(c,2);this.x1=m+b*e.uX(c);this.y1=a+k*e.uY(c);c=e.add(c,2);this.x2=m+b*e.uX(c);this.y2=a+k*e.uY(c);c=e.add(c,2);this.x3=m+b*e.uX(c);this.y3=a+k*e.uY(c)}else this.x0=a.x/m,this.y0=a.y/g,this.x1=(a.x+a.width)/m,this.y1=a.y/g,this.x2=(a.x+a.width)/m,
this.y2=(a.y+a.height)/g,this.x3=a.x/m,this.y3=(a.y+a.height)/g;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535}},{"../math/GroupD8":98}],146:[function(c,h,l){function a(a,b){if(!a)throw Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&
a.width&&a.height&&(a.complete=!0);d.call(this,a,b);this.autoUpdate=!1;this._onUpdate=this._onUpdate.bind(this);this._onCanPlay=this._onCanPlay.bind(this);a.complete||(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this)));this.__loaded=!1}function e(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var d=document.createElement("source");d.src=
a;d.type=b;return d}var d=c("./BaseTexture"),b=c("../utils");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;h.exports=a;a.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())};a.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)};a.prototype._onPlayStop=function(){this.autoUpdate=!1};a.prototype._onCanPlay=function(){this.hasLoaded=
!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))};a.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete b.BaseTextureCache[this.source._pixiId],delete this.source._pixiId);d.prototype.destroy.call(this)};a.fromVideo=function(d,c){d._pixiId||
(d._pixiId="video_"+b.uid());var g=b.BaseTextureCache[d._pixiId];g||(g=new a(d,c),b.BaseTextureCache[d._pixiId]=g);return g};a.fromUrl=function(b,d){var c=document.createElement("video");if(Array.isArray(b))for(var k=0;k<b.length;++k)c.appendChild(e(b[k].src||b[k],b[k].mime));else c.appendChild(e(b.src||b,b.mime));c.load();c.play();return a.fromVideo(c,d)};a.fromUrls=a.fromUrl},{"../utils":151,"./BaseTexture":142}],147:[function(c,h,l){function a(){var a=this;this._tick=function(d){a._requestId=null;
a.started&&(a.update(d),a.started&&null===a._requestId&&a._emitter.listeners("tick",!0)&&(a._requestId=requestAnimationFrame(a._tick)))};this._emitter=new d;this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/e.TARGET_FPMS;this.lastTime=0;this.speed=1;this.started=!1}var e=c("../const"),d=c("eventemitter3");Object.defineProperties(a.prototype,{FPS:{get:function(){return 1E3/this.elapsedMS}},minFPS:{get:function(){return 1E3/this._maxElapsedMS},set:function(a){this._maxElapsedMS=
1/Math.min(Math.max(0,a)/1E3,e.TARGET_FPMS)}}});a.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners("tick",!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};a.prototype.add=function(a,d){this._emitter.on("tick",
a,d);this._startIfPossible();return this};a.prototype.addOnce=function(a,d){this._emitter.once("tick",a,d);this._startIfPossible();return this};a.prototype.remove=function(a,d){this._emitter.off("tick",a,d);this._emitter.listeners("tick",!0)||this._cancelIfNeeded();return this};a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};a.prototype.update=function(a){var d;a=a||performance.now();
a>this.lastTime?(d=this.elapsedMS=a-this.lastTime,d>this._maxElapsedMS&&(d=this._maxElapsedMS),this.deltaTime=d*e.TARGET_FPMS*this.speed,this._emitter.emit("tick",this.deltaTime)):this.deltaTime=this.elapsedMS=0;this.lastTime=a};h.exports=a},{"../const":78,eventemitter3:32}],148:[function(c,h,l){c=c("./Ticker");l=new c;l.autoStart=!0;h.exports={shared:l,Ticker:c}},{"./Ticker":147}],149:[function(c,h,l){h.exports=function(a){a*=6;for(var c=new Uint16Array(a),d=0,b=0;d<a;d+=6,b+=4)c[d+0]=b+0,c[d+1]=
b+1,c[d+2]=b+2,c[d+3]=b+0,c[d+4]=b+2,c[d+5]=b+3;return c}},{}],150:[function(c,h,l){var a,e=c("url");h.exports=function(d,b){if(0===d.indexOf("data:"))return"";b=b||window.location;a||(a=document.createElement("a"));a.href=d;d=e.parse(a.href);var c=!d.port&&""===b.port||d.port===b.port;return d.hostname===b.hostname&&c&&d.protocol===b.protocol?"":"anonymous"}},{url:72}],151:[function(c,h,l){var a=c("../const"),e=h.exports={_uid:0,_saidHello:!1,EventEmitter:c("eventemitter3"),pluginTarget:c("./pluginTarget"),
uid:function(){return++e._uid},hex2rgb:function(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b},hex2string:function(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a},rgb2hex:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]},getResolutionOfUrl:function(d){return(d=a.RETINA_PREFIX.exec(d))?parseFloat(d[1]):1},sayHello:function(d){e._saidHello||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+
a.VERSION+" - \u2730 "+d+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):
window.console&&window.console.log("Pixi.js "+a.VERSION+" - "+d+" - http://www.pixijs.com/"),e._saidHello=!0)},isWebGLSupported:function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a),e=!(!c||!c.getContextAttributes().stencil);if(c){var g=c.getExtension("WEBGL_lose_context");g&&g.loseContext()}return e}catch(k){return!1}},sign:function(a){return a?
0>a?-1:1:0},removeItems:function(a,b,c){var e=a.length;if(!(b>=e||0===c)){c=b+c>e?e-b:c;for(e-=c;b<e;++b)a[b]=a[b+c];a.length=e}},TextureCache:{},BaseTextureCache:{}}},{"../const":78,"./pluginTarget":153,eventemitter3:32}],152:[function(c,h,l){var a=c("ismobilejs");h.exports=function(c){return a.tablet||a.phone?2:c}},{ismobilejs:33}],153:[function(c,h,l){function a(a){a.__plugins={};a.registerPlugin=function(d,b){a.__plugins[d]=b};a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var d in a.__plugins)this.plugins[d]=
new a.__plugins[d](this)};a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}h.exports={mixin:function(c){a(c)}}},{}],154:[function(c,h,l){function a(a){var b=Error().stack;"undefined"===typeof b?console.warn("Deprecation Warning: ",a):(b=b.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",
a),console.warn(b),console.groupEnd()):(console.warn("Deprecation Warning: ",a),console.warn(b)))}var e=c("./core"),d=c("./mesh"),b=c("./particles"),f=c("./extras");c=c("./filters");e.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};e.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");};Object.defineProperties(e,{Stage:{get:function(){a("You do not need to use a PIXI Stage any more, you can simply render any container.");
return e.Container}},DisplayObjectContainer:{get:function(){a("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return e.Container}},Strip:{get:function(){a("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return d.Mesh}},Rope:{get:function(){a("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return d.Rope}},ParticleContainer:{get:function(){a("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");
return b.ParticleContainer}},MovieClip:{get:function(){a("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on.");return f.MovieClip}},TilingSprite:{get:function(){a("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return f.TilingSprite}},BitmapText:{get:function(){a("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return f.BitmapText}},blendModes:{get:function(){a("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");
return e.BLEND_MODES}},scaleModes:{get:function(){a("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return e.SCALE_MODES}},BaseTextureCache:{get:function(){a("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return e.utils.BaseTextureCache}},TextureCache:{get:function(){a("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return e.utils.TextureCache}},
math:{get:function(){a("The math namespace is deprecated, please access members already accessible on PIXI.");return e}},AbstractFilter:{get:function(){a("AstractFilter has been renamed to Filter, please use PIXI.Filter");return e.Filter}},TransformManual:{get:function(){a("TransformManual has been renamed to TransformBase, please update your pixi-spine");return e.TransformBase}}});e.DisplayObject.prototype.generateTexture=function(b,d,c){a("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");
return b.generateTexture(this,d,c)};e.Graphics.prototype.generateTexture=function(b,d){a("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(b,d)};e.RenderTexture.prototype.render=function(b,d,c,f){this.legacyRenderer.render(b,this,c,d,!f);a("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};e.RenderTexture.prototype.getImage=function(b){a("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");
return this.legacyRenderer.extract.image(b)};e.RenderTexture.prototype.getBase64=function(b){a("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(b)};e.RenderTexture.prototype.getCanvas=function(b){a("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(b)};e.RenderTexture.prototype.getPixels=function(b){a("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");
return this.legacyRenderer.pixels(b)};e.Sprite.prototype.setTexture=function(b){this.texture=b;a("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};f.BitmapText.prototype.setText=function(b){this.text=b;a("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")};e.Text.prototype.setText=function(b){this.text=b;a("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};e.Text.prototype.setStyle=
function(b){this.style=b;a("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){a("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},
set:function(b){a("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");1<b.indexOf("italic")?this._fontStyle="italic":-1<b.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<b.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";b=b.split(" ");var d,c=-1;this._fontSize=26;for(d=0;d<b.length;++d)if(b[d].match(/(px|pt|em|%)/)){c=d;this._fontSize=b[d];break}this._fontWeight=
"normal";for(d=0;d<c;++d)if(b[d].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=b[d];break}if(-1<c&&c<b.length-1){this._fontFamily="";for(d=c+1;d<b.length;++d)this._fontFamily+=b[d]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});e.Texture.prototype.setFrame=function(b){this.frame=b;a("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")};Object.defineProperties(c,{AbstractFilter:{get:function(){a("AstractFilter has been renamed to Filter, please use PIXI.Filter");
return e.AbstractFilter}},SpriteMaskFilter:{get:function(){a("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return e.SpriteMaskFilter}}});e.utils.uuid=function(){a("utils.uuid() is deprecated, please use utils.uid() from now on.");return e.utils.uid()};e.utils.canUseNewCanvasBlendModes=function(){a("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return e.CanvasTinter.canUseMultiply}},{"./core":97,
"./extras":164,"./filters":175,"./mesh":191,"./particles":194}],155:[function(c,h,l){function a(a){this.renderer=a;a.extract=this}var e=c("../../core"),d=new e.Rectangle;a.prototype.constructor=a;h.exports=a;a.prototype.image=function(a){var d=new Image;d.src=this.base64(a);return d};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,m,g;a&&(g=a instanceof e.RenderTexture?a:c.generateTexture(a));g?(a=g.baseTexture._canvasRenderTarget.context,
c=g.baseTexture._canvasRenderTarget.resolution,m=g.frame):(a=c.rootContext,c=c.rootResolution,m=d,m.width=this.renderer.width,m.height=this.renderer.height);var k=m.width*c,h=m.height*c;g=new e.CanvasRenderTarget(k,h);a=a.getImageData(m.x*c,m.y*c,k,h);g.context.putImageData(a,0,0);return g.canvas};a.prototype.pixels=function(a){var c=this.renderer,m,g;a&&(g=a instanceof e.RenderTexture?a:c.generateTexture(a));g?(a=g.baseTexture._canvasRenderTarget.context,m=g.baseTexture._canvasRenderTarget.resolution,
g=g.frame):(a=c.rootContext,m=c.rootResolution,g=d,g.width=c.width,g.height=c.height);return a.getImageData(0,0,g.width*m,g.height*m).data};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};e.CanvasRenderer.registerPlugin("extract",a)},{"../../core":97}],156:[function(c,h,l){h.exports={webGL:c("./webgl/WebGLExtract"),canvas:c("./canvas/CanvasExtract")}},{"./canvas/CanvasExtract":155,"./webgl/WebGLExtract":157}],157:[function(c,h,l){function a(a){this.renderer=a;a.extract=this}
var e=c("../../core"),d=new e.Rectangle;a.prototype.constructor=a;h.exports=a;a.prototype.image=function(a){var d=new Image;d.src=this.base64(a);return d};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,m,g,k;a&&(k=a instanceof e.RenderTexture?a:this.renderer.generateTexture(a));k?(m=k.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=m.resolution,g=k.frame,k=!1):(m=this.renderer.rootRenderTarget,a=m.resolution,k=!0,g=d,
g.width=m.size.width,g.height=m.size.height);var h=g.width*a,l=g.height*a,x=new e.CanvasRenderTarget(h,l);m&&(c.bindRenderTarget(m),m=new Uint8Array(4*h*l),c=c.gl,c.readPixels(g.x*a,g.y*a,h,l,c.RGBA,c.UNSIGNED_BYTE,m),c=x.context.getImageData(0,0,h,l),c.data.set(m),x.context.putImageData(c,0,0),k&&(x.context.scale(1,-1),x.context.drawImage(x.canvas,0,-l)));return x.canvas};a.prototype.pixels=function(a){var c=this.renderer,m,g;a&&(g=a instanceof e.RenderTexture?a:this.renderer.generateTexture(a));
g?(m=g.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=m.resolution,g=g.frame):(m=this.renderer.rootRenderTarget,a=m.resolution,g=d,g.width=m.size.width,g.height=m.size.height);var k=g.width*a,h=g.height*a,l=new Uint8Array(4*k*h);m&&(c.bindRenderTarget(m),c=c.gl,c.readPixels(g.x*a,g.y*a,k,h,c.RGBA,c.UNSIGNED_BYTE,l));return l};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};e.WebGLRenderer.registerPlugin("extract",a)},{"../../core":97}],158:[function(c,h,l){function a(a,
c){e.Container.call(this);c=c||{};this.textHeight=this.textWidth=0;this._glyphs=[];this._font={tint:void 0!==c.tint?c.tint:16777215,align:c.align||"left",name:null,size:0};this.font=c.font;this._text=a;this.maxLineHeight=this.maxWidth=0;this._anchor=new d(this.makeDirty,this,0,0);this.dirty=!1;this.updateText()}var e=c("../core"),d=c("../core/math/ObservablePoint");a.prototype=Object.create(e.Container.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{tint:{get:function(){return this._font.tint},
set:function(a){this._font.tint="number"===typeof a&&0<=a?a:16777215;this.dirty=!0}},align:{get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},anchor:{get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},font:{get:function(){return this._font},set:function(b){b&&("string"===typeof b?(b=b.split(" "),this._font.name=1===b.length?b[0]:b.slice(1).join(" "),this._font.size=2<=b.length?parseInt(b[0],
10):a.fonts[this._font.name].size):(this._font.name=b.name,this._font.size="number"===typeof b.size?b.size:parseInt(b.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}}});a.prototype.updateText=function(){for(var b=a.fonts[this._font.name],d=new e.Point,c=null,g=[],k=0,h=0,l=[],x=0,p=this._font.size/b.size,q=-1,y=0,t=0,u=0;u<this.text.length;u++){var w=this.text.charCodeAt(u);/(\s)/.test(this.text.charAt(u))&&
(q=u,y=k);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(u)))l.push(k),h=Math.max(h,k),x++,d.x=0,d.y+=b.lineHeight,c=null;else if(-1!==q&&0<this.maxWidth&&d.x*p>this.maxWidth)e.utils.removeItems(g,q,u-q),u=q,q=-1,l.push(y),h=Math.max(h,y),x++,d.x=0,d.y+=b.lineHeight,c=null;else{var r=b.chars[w];r&&(c&&r.kerning[c]&&(d.x+=r.kerning[c]),g.push({texture:r.texture,line:x,charCode:w,position:new e.Point(d.x+r.xOffset,d.y+r.yOffset)}),k=d.x+(r.texture.width+r.xOffset),d.x+=r.xAdvance,t=Math.max(t,r.yOffset+
r.texture.height),c=w)}}l.push(k);h=Math.max(h,k);c=[];for(u=0;u<=x;u++)k=0,"right"===this._font.align?k=h-l[u]:"center"===this._font.align&&(k=(h-l[u])/2),c.push(k);l=g.length;x=this.tint;for(u=0;u<l;u++)(k=this._glyphs[u])?k.texture=g[u].texture:(k=new e.Sprite(g[u].texture),this._glyphs.push(k)),k.position.x=(g[u].position.x+c[g[u].line])*p,k.position.y=g[u].position.y*p,k.scale.x=k.scale.y=p,k.tint=x,k.parent||this.addChild(k);for(u=l;u<this._glyphs.length;++u)this.removeChild(this._glyphs[u]);
this.textWidth=h*p;this.textHeight=(d.y+b.lineHeight)*p;if(0!==this.anchor.x||0!==this.anchor.y)for(u=0;u<l;u++)this._glyphs[u].x-=this.textWidth*this.anchor.x,this._glyphs[u].y-=this.textHeight*this.anchor.y;this.maxLineHeight=t*p};a.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};a.prototype.getLocalBounds=function(){this.validate();return e.Container.prototype.getLocalBounds.call(this)};a.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=
!1)};a.prototype.makeDirty=function(){this.dirty=!0};a.fonts={}},{"../core":97,"../core/math/ObservablePoint":100}],159:[function(c,h,l){function a(a){e.Sprite.call(this,a[0]instanceof e.Texture?a[0]:a[0].texture);this._durations=this._textures=null;this.textures=a;this.animationSpeed=1;this.loop=!0;this.onComplete=null;this._currentTime=0;this.playing=!1}var e=c("../core");a.prototype=Object.create(e.Sprite.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{totalFrames:{get:function(){return this._textures.length}},
textures:{get:function(){return this._textures},set:function(a){if(a[0]instanceof e.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}}},currentFrame:{get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}});a.prototype.stop=function(){this.playing&&(this.playing=!1,e.ticker.shared.remove(this.update,this))};
a.prototype.play=function(){this.playing||(this.playing=!0,e.ticker.shared.add(this.update,this))};a.prototype.gotoAndStop=function(a){this.stop();this._currentTime=a;this._texture=this._textures[this.currentFrame];this._textureID=-1};a.prototype.gotoAndPlay=function(a){this._currentTime=a;this.play()};a.prototype.update=function(a){var b=this.animationSpeed*a;if(null!==this._durations){for(var c=this._currentTime%1*this._durations[this.currentFrame],c=c+b/60*1E3;0>c;)this._currentTime--,c+=this._durations[this.currentFrame];
a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=b;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else this._texture=
this._textures[this.currentFrame],this._textureID=-1};a.prototype.destroy=function(){this.stop();e.Sprite.prototype.destroy.call(this)};a.fromFrames=function(d){for(var b=[],c=0;c<d.length;++c)b.push(e.Texture.fromFrame(d[c]));return new a(b)};a.fromImages=function(d){for(var b=[],c=0;c<d.length;++c)b.push(e.Texture.fromImage(d[c]));return new a(b)}},{"../core":97}],160:[function(c,h,l){function a(a,b,d){e.Sprite.call(this,a);this.tileScale=new e.Point(1,1);this.tilePosition=new e.Point(0,0);this._width=
b||100;this._height=d||100;this._uvs=new e.TextureUvs;this._canvasPattern=null;this._glDatas=[]}var e=c("../core"),d=new e.Point,b=c("../core/textures/Texture"),f=c("../core/sprites/canvas/CanvasTinter"),m=c("./webgl/TilingShader"),g=new Float32Array(4);a.prototype=Object.create(e.Sprite.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{width:{get:function(){return this._width},set:function(a){this._width=a}},height:{get:function(){return this._height},set:function(a){this._height=
a}}});a.prototype._onTextureUpdate=function(){};a.prototype._renderWebGL=function(a){var b=this._texture;if(b&&b._uvs){a.flush();var d=a.gl,c=this._glDatas[a.CONTEXT_UID];c||(c={shader:new m(d),quad:new e.Quad(d)},this._glDatas[a.CONTEXT_UID]=c,c.quad.initVao(c.shader));d=c.quad.vertices;d[0]=d[6]=this._width*-this.anchor.x;d[1]=d[3]=this._height*-this.anchor.y;d[2]=d[4]=this._width*(1-this.anchor.x);d[5]=d[7]=this._height*(1-this.anchor.y);c.quad.upload();a.bindShader(c.shader);var f=b._uvs,d=b._frame.width,
h=b._frame.height,l=b.baseTexture.width,b=b.baseTexture.height,t=c.shader.uniforms.uPixelSize;t[0]=1/l;t[1]=1/b;c.shader.uniforms.uPixelSize=t;t=c.shader.uniforms.uFrame;t[0]=f.x0;t[1]=f.y0;t[2]=f.x1-f.x0;t[3]=f.y2-f.y0;c.shader.uniforms.uFrame=t;f=c.shader.uniforms.uTransform;f[0]=this.tilePosition.x%(d*this.tileScale.x)/this._width;f[1]=this.tilePosition.y%(h*this.tileScale.y)/this._height;f[2]=l/this._width*this.tileScale.x;f[3]=b/this._height*this.tileScale.y;c.shader.uniforms.uTransform=f;c.shader.uniforms.translationMatrix=
this.worldTransform.toArray(!0);e.utils.hex2rgb(this.tint,g);g[3]=this.worldAlpha;c.shader.uniforms.uColor=g;a.bindTexture(this._texture,0);a.state.setBlendMode(this.blendMode);c.quad.draw()}};a.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var d=a.context,c=this.worldTransform,g=a.resolution,m=b.baseTexture,h=this.tilePosition.x/this.tileScale.x%b._frame.width,l=this.tilePosition.y/this.tileScale.y%b._frame.height;if(!this._canvasPattern){var u=new e.CanvasRenderTarget(b._frame.width,
b._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=f.getTintedTexture(this,this.tint)),u.context.drawImage(this.tintedTexture,0,0)):u.context.drawImage(m.source,-b._frame.x,-b._frame.y);this._canvasPattern=u.context.createPattern(u.canvas,"repeat")}d.globalAlpha=this.worldAlpha;d.setTransform(c.a*g,c.b*g,c.c*g,c.d*g,c.tx*g,c.ty*g);d.scale(this.tileScale.x,this.tileScale.y);d.translate(h+this.anchor.x*-this._width,l+this.anchor.y*-this._height);
b=a.blendModes[this.blendMode];b!==a.context.globalCompositeOperation&&(d.globalCompositeOperation=b);d.fillStyle=this._canvasPattern;d.fillRect(-h,-l,this._width/this.tileScale.x,this._height/this.tileScale.y)}};a.prototype.getBounds=function(){var a=this._width,b=this._height,d=a*(1-this.anchor.x),c=a*-this.anchor.x,f=b*(1-this.anchor.y),g=b*-this.anchor.y,b=this.worldTransform,e=b.a,m=b.b,h=b.c,l=b.d,r=b.tx,C=b.ty,H=e*c+h*g+r,b=l*g+m*c+C,a=e*d+h*g+r,g=l*g+m*d+C,E=e*d+h*f+r,d=l*f+m*d+C,e=e*c+h*
f+r,c=l*f+m*c+C,f=H,f=a<f?a:f,f=E<f?E:f,f=e<f?e:f,m=b,m=g<m?g:m,m=d<m?d:m,m=c<m?c:m,H=a>H?a:H,H=E>H?E:H,b=g>b?g:b,b=d>b?d:b,a=this._bounds;a.x=f;a.width=(e>H?e:H)-f;a.y=m;a.height=(c>b?c:b)-m;return this._currentBounds=a};a.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,d);var b=this._width;a=this._height;var c=-b*this.anchor.x;return d.x>c&&d.x<c+b&&(b=-a*this.anchor.y,d.y>b&&d.y<b+a)?!0:!1};a.prototype.destroy=function(){e.Sprite.prototype.destroy.call(this);this._uvs=this.tilePosition=
this._tileScaleOffset=this.tileScale=null};a.from=function(d,c,f){return new a(b.from(d),c,f)};a.fromFrame=function(b,d,c){var f=e.utils.TextureCache[b];if(!f)throw Error('The frameId "'+b+'" does not exist in the texture cache '+this);return new a(f,d,c)};a.fromImage=function(b,d,c,f,g){return new a(e.Texture.fromImage(b,f,g),d,c)}},{"../core":97,"../core/sprites/canvas/CanvasTinter":135,"../core/textures/Texture":144,"./webgl/TilingShader":165}],161:[function(c,h,l){var a=c("../core");c=a.DisplayObject;
var e=new a.Matrix;c.prototype._cacheAsBitmap=!1;c.prototype._cacheData=!1;var d=function(){this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRenderWebGL=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&((this._cacheAsBitmap=a)?(this._cacheData||
(this._cacheData=new d),a=this._cacheData,a.originalRenderWebGL=this.renderWebGL,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this._calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):
(a=this._cacheData,a.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=a.originalRenderWebGL,this.renderCanvas=a.originalRenderCanvas,this._calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}});c.prototype._renderCachedWebGL=function(a){!this.visible||0>=this.worldAlpha||
!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))};c.prototype._initCachedDisplayObject=function(b){if(!this._cacheData||!this._cacheData.sprite){var d=this.alpha;this.alpha=1;b.currentRenderer.flush();var c=this.getLocalBounds().clone();this._filters&&c.pad(this._filters[0].padding);var g=b._activeRenderTarget,k=b.filterManager.filterStack,h=a.RenderTexture.create(c.width|
0,c.height|0);e.tx=-c.x;e.ty=-c.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;b.render(this,h,!0,e,!0);b.bindRenderTarget(g);b.filterManager.filterStack=k;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;b=new a.Sprite(h);b.transform.worldTransform=this.transform.worldTransform;b.anchor.x=-(c.x/c.width);b.anchor.y=-(c.y/c.height);b.alpha=d;b._bounds=this._bounds;this._calculateBounds=
this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=b;this.transform._parentID=-1;this.updateTransform();this.containsPoint=b.containsPoint.bind(b)}};c.prototype._renderCachedCanvas=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))};c.prototype._initCachedDisplayObjectCanvas=function(b){if(!this._cacheData||!this._cacheData.sprite){var d=
this.getLocalBounds(),c=this.alpha;this.alpha=1;var g=b.context,k=new a.RenderTexture.create(d.width|0,d.height|0);this.transform.worldTransform.copy(e);e.invert();e.tx-=d.x;e.ty-=d.y;this.renderCanvas=this._cacheData.originalRenderCanvas;b.render(this,k,!0,e,!1);b.context=g;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;b=new a.Sprite(k);b.transform.worldTransform=this.transform.worldTransform;b.anchor.x=-(d.x/d.width);
b.anchor.y=-(d.y/d.height);b._bounds=this._bounds;b.alpha=c;this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=b;this.containsPoint=b.containsPoint.bind(b)}};c.prototype._calculateCachedBounds=function(){return this._cacheData.sprite._calculateBounds()};c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=
null};c.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1;this.destroy()}},{"../core":97}],162:[function(c,h,l){c=c("../core");c.DisplayObject.prototype.name=null;c.Container.prototype.getChildByName=function(a){for(var c=0;c<this.children.length;c++)if(this.children[c].name===a)return this.children[c];return null}},{"../core":97}],163:[function(c,h,l){var a=c("../core");a.DisplayObject.prototype.getGlobalPosition=function(c){c=c||new a.Point;this.parent?(this.displayObjectUpdateTransform(),
c.x=this.worldTransform.tx,c.y=this.worldTransform.ty):(c.x=this.position.x,c.y=this.position.y);return c}},{"../core":97}],164:[function(c,h,l){c("./cacheAsBitmap");c("./getChildByName");c("./getGlobalPosition");h.exports={MovieClip:c("./MovieClip"),TilingSprite:c("./TilingSprite"),BitmapText:c("./BitmapText")}},{"./BitmapText":158,"./MovieClip":159,"./TilingSprite":160,"./cacheAsBitmap":161,"./getChildByName":162,"./getGlobalPosition":163}],165:[function(c,h,l){function a(a){e.call(this,a,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\n\nuniform vec4 uFrame;\nuniform vec4 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vec2 coord = aTextureCoord;\n    coord -= uTransform.xy;\n    coord /= uTransform.zw;\n    vTextureCoord = coord;\n}\n",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform vec4 uFrame;\nuniform vec2 uPixelSize;\n\nvoid main(void)\n{\n\n   \tvec2 coord = mod(vTextureCoord, uFrame.zw);\n   \tcoord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);\n   \tcoord += uFrame.xy;\n\n   \tvec4 sample = texture2D(uSampler, coord);\n  \tvec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n   \tgl_FragColor = sample * color ;\n}\n")}var e=c("../../core/Shader");a.prototype=
Object.create(e.prototype);a.prototype.constructor=a;h.exports=a},{"../../core/Shader":77}],166:[function(c,h,l){function a(a,c,g){e.Filter.call(this);this.blurXFilter=new d;this.blurYFilter=new b;this.resolution=1;this.padding=0;this.resolution=g||1;this.quality=c||4;this.blur=a||8}var e=c("../../core"),d=c("./BlurXFilter"),b=c("./BlurYFilter");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.apply=function(a,b,d){var c=a.getRenderTarget(!0);this.blurXFilter.apply(a,
b,c,!0);this.blurYFilter.apply(a,c,d,!1);a.returnRenderTarget(c)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurYFilter.strength),Math.abs(this.blurYFilter.strength))}},quality:{get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=
a;this.padding=2*Math.max(Math.abs(this.blurYFilter.strength),Math.abs(this.blurYFilter.strength))}},blurY:{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurYFilter.strength),Math.abs(this.blurYFilter.strength))}}})},{"../../core":97,"./BlurXFilter":167,"./BlurYFilter":168}],167:[function(c,h,l){function a(a,c,f){var h=d(5,!0),l=b(5);e.Filter.call(this,h,l);this.resolution=f||1;this._quality=0;this.quality=c||4;this.strength=
a||8;this.firstRun=!0}var e=c("../../core"),d=c("./generateBlurVertSource"),b=c("./generateBlurFragSource"),f=c("./getMaxBlurKernelSize");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.apply=function(a,c,k,e){if(this.firstRun){var h=f(a.renderer.gl);this.vertexSrc=d(h,!0);this.fragmentSrc=b(h);this.firstRun=!1}this.uniforms.strength=1/k.size.width*(k.size.width/c.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;
if(1===this.passes)a.applyFilter(this,c,k,e);else{for(var l=h=a.getRenderTarget(!0),p=0;p<this.passes-1;p++){a.applyFilter(this,c,l,!0);var q=l,l=c;c=q}a.applyFilter(this,c,k,e);a.returnRenderTarget(h)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},quality:{get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}})},{"../../core":97,"./generateBlurFragSource":169,"./generateBlurVertSource":170,
"./getMaxBlurKernelSize":171}],168:[function(c,h,l){function a(a,c,f){var h=d(5,!1),l=b(5);e.Filter.call(this,h,l);this.resolution=f||1;this._quality=0;this.quality=c||4;this.strength=a||8;this.firstRun=!0}var e=c("../../core"),d=c("./generateBlurVertSource"),b=c("./generateBlurFragSource"),f=c("./getMaxBlurKernelSize");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.apply=function(a,c,e,h){if(this.firstRun){var l=f(a.renderer.gl);this.vertexSrc=d(l,
!1);this.fragmentSrc=b(l);this.firstRun=!1}this.uniforms.strength=1/e.size.height*(e.size.height/c.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,c,e,h);else{for(var x=l=a.getRenderTarget(!0),p=0;p<this.passes-1;p++){a.applyFilter(this,c,x,!0);var q=x,x=c;c=q}a.applyFilter(this,c,e,h);a.returnRenderTarget(l)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=2*
Math.abs(a);this.strength=a}},quality:{get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}})},{"../../core":97,"./generateBlurFragSource":169,"./generateBlurVertSource":170,"./getMaxBlurKernelSize":171}],169:[function(c,h,l){var a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,
.009246,.02784,.065602,.120999,.174697,.197448]};h.exports=function(c){for(var d=a[c],b=d.length,f="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n\tgl_FragColor = vec4(0.0);\n\t%blur%\n}",m="",g,k=0;k<c;k++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",k);g=k;k>=b&&(g=c-k-1);h=h.replace("%value%",d[g]);m+=h;m+="\n"}f=f.replace("%blur%",m);return f=f.replace("%size%",c)}},{}],170:[function(c,h,l){h.exports=
function(a,c){var d=Math.ceil(a/2),b="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}",f="",m;m=c?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var g=0;g<a;g++)var k=
m.replace("%index%",g),k=k.replace("%sampleIndex%",g-(d-1)+".0"),f=f+k,f=f+"\n";b=b.replace("%blur%",f);return b=b.replace("%size%",a)}},{}],171:[function(c,h,l){h.exports=function(a){a=a.getParameter(a.MAX_VARYING_VECTORS);for(var c=15;c>a;)c-=2;return c}},{}],172:[function(c,h,l){function a(){e.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n");
this.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}var e=c("../../core");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;a.prototype._loadMatrix=function(a,b){var c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c));this.uniforms.m=c};a.prototype._multiply=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*
c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*
c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19];return a};a.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};a.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,
0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};a.prototype.greyscale=function(a,b){this._loadMatrix([a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};a.prototype.grayscale=a.prototype.greyscale;a.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};a.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),e=Math.sin(a),g=Math.sqrt,k=1/3,g=g(k);this._loadMatrix([c+(1-c)*k,k*(1-c)-g*e,k*(1-c)+g*e,0,0,k*(1-c)+g*e,c+k*(1-c),k*(1-c)-g*e,0,0,k*(1-c)-g*
e,k*(1-c)+g*e,c+k*(1-c),0,0,0,0,0,1,0],b)};a.prototype.contrast=function(a,b){var c=(a||0)+1,e=-128*(c-1);this._loadMatrix([c,0,0,0,e,0,c,0,0,e,0,0,c,0,e,0,0,0,1,0],b)};a.prototype.saturate=function(a,b){var c=2*(a||0)/3+1,e=-.5*(c-1);this._loadMatrix([c,e,e,0,0,e,c,e,0,0,e,e,c,0,0,0,0,0,1,0],b)};a.prototype.desaturate=function(){this.saturate(-1)};a.prototype.negative=function(a){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],a)};a.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,
.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};a.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)};a.prototype.polaroid=function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,
0,0,0,0,0,1,0],a)};a.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};a.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a)};a.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,
-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a)};a.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};
a.prototype.colorTone=function(a,b,c,e,g){c=c||16770432;e=e||3375104;var k=(c>>16&255)/255,h=(c>>8&255)/255;c=(c&255)/255;var l=(e>>16&255)/255,x=(e>>8&255)/255;e=(e&255)/255;this._loadMatrix([.3,.59,.11,0,0,k,h,c,a||.2,0,l,x,e,b||.15,0,k-l,h-x,c-e,0,0],g)};a.prototype.night=function(a,b){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],b)};a.prototype.predator=function(a,b){this._loadMatrix([11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*
a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],b)};a.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};a.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperties(a.prototype,{matrix:{get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=
a}}})},{"../../core":97}],173:[function(c,h,l){function a(a,b){var c=new e.Matrix;a.renderable=!1;e.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");this.maskSprite=a;this.maskMatrix=c;this.uniforms.mapSampler=
a.texture;this.uniforms.filterMatrix=c.toArray(!0);this.uniforms.scale={x:1,y:1};if(null===b||void 0===b)b=20;this.scale=new e.Point(b,b)}var e=c("../../core");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.apply=function(a,b,c){var e=1/c.destinationFrame.width*(c.size.width/b.size.width);this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*e;this.uniforms.scale.y=this.scale.y*e;a.applyFilter(this,
b,c)};Object.defineProperties(a.prototype,{map:{get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}})},{"../../core":97}],174:[function(c,h,l){function a(){e.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'#define GLSLIFY 1\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n  \tvec2 fragCoord = vTextureCoord * filterArea.xy;\n\n  \tvec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n  \tgl_FragColor = color;\n}\n')}
var e=c("../../core");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a},{"../../core":97}],175:[function(c,h,l){h.exports={FXAAFilter:c("./fxaa/FXAAFilter"),NoiseFilter:c("./noise/NoiseFilter"),DisplacementFilter:c("./displacement/DisplacementFilter"),BlurFilter:c("./blur/BlurFilter"),BlurXFilter:c("./blur/BlurXFilter"),BlurYFilter:c("./blur/BlurYFilter"),ColorMatrixFilter:c("./colormatrix/ColorMatrixFilter"),VoidFilter:c("./void/VoidFilter")}},{"./blur/BlurFilter":166,
"./blur/BlurXFilter":167,"./blur/BlurYFilter":168,"./colormatrix/ColorMatrixFilter":172,"./displacement/DisplacementFilter":173,"./fxaa/FXAAFilter":174,"./noise/NoiseFilter":176,"./void/VoidFilter":177}],176:[function(c,h,l){function a(){e.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"precision highp float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");this.noise=.5}var e=
c("../../core");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{noise:{get:function(){return this.uniforms.noise},set:function(a){this.uniforms.noise=a}}})},{"../../core":97}],177:[function(c,h,l){function a(){e.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");this.glShaderKey="void"}var e=c("../../core");a.prototype=Object.create(e.Filter.prototype);a.prototype.constructor=a;h.exports=a},{"../../core":97}],178:[function(c,h,l){function a(){this.global=new e.Point;this.originalEvent=this.target=null}var e=c("../core");a.prototype.constructor=a;h.exports=a;a.prototype.getLocalPosition=function(a,
b,c){return a.worldTransform.applyInverse(c||this.global,b)}},{"../core":97}],179:[function(c,h,l){function a(a,c){b.call(this);c=c||{};this.renderer=a;this.autoPreventDefault=void 0!==c.autoPreventDefault?c.autoPreventDefault:!0;this.interactionFrequency=c.interactionFrequency||10;this.mouse=new d;this.mouse.global.set(-999999);this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}};this.interactiveDataPool=[];this.interactionDOMElement=null;
this.eventsAdded=this.moveWhenInside=!1;this.onMouseUp=this.onMouseUp.bind(this);this.processMouseUp=this.processMouseUp.bind(this);this.onMouseDown=this.onMouseDown.bind(this);this.processMouseDown=this.processMouseDown.bind(this);this.onMouseMove=this.onMouseMove.bind(this);this.processMouseMove=this.processMouseMove.bind(this);this.onMouseOut=this.onMouseOut.bind(this);this.processMouseOverOut=this.processMouseOverOut.bind(this);this.onMouseOver=this.onMouseOver.bind(this);this.onTouchStart=this.onTouchStart.bind(this);
this.processTouchStart=this.processTouchStart.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.processTouchEnd=this.processTouchEnd.bind(this);this.onTouchMove=this.onTouchMove.bind(this);this.processTouchMove=this.processTouchMove.bind(this);this.currentCursorStyle=this.defaultCursorStyle="inherit";this._tempPoint=new e.Point;this.resolution=1;this.setTargetElement(this.renderer.view,this.renderer.resolution)}var e=c("../core"),d=c("./InteractionData"),b=c("eventemitter3");Object.assign(e.DisplayObject.prototype,
c("./interactiveTarget"));a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.setTargetElement=function(a,b){this.removeEvents();this.interactionDOMElement=a;this.resolution=b||1;this.addEvents()};a.prototype.addEvents=function(){this.interactionDOMElement&&(e.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",
this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",
this.onMouseUp,!0),this.eventsAdded=!0)};a.prototype.removeEvents=function(){this.interactionDOMElement&&(e.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",
this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onMouseOver,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)};a.prototype.update=function(a){this._deltaTime+=a;this._deltaTime<
this.interactionFrequency||(this._deltaTime=0,this.interactionDOMElement&&(this.didMove?this.didMove=!1:(this.cursor=this.defaultCursorStyle,this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor))))};a.prototype.dispatchEvent=function(a,b,c){if(!c.stopped&&(c.target=a,c.type=b,a.emit(b,c),a[b]))a[b](c)};a.prototype.mapPositionToPoint=
function(a,b,c){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};a.x=this.interactionDOMElement.width/d.width*(b-d.left)/this.resolution;a.y=this.interactionDOMElement.height/d.height*(c-d.top)/this.resolution};a.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var h=!1,l=e=b.interactive||e;b.hitArea&&(l=!1);d&&b._mask&&(b._mask.containsPoint(a)||(d=!1));d&&b.filterArea&&(b.filterArea.contains(a.x,
a.y)||(d=!1));if(b.interactiveChildren)for(var p=b.children,q=p.length-1;0<=q;q--){var y=p[q];this.processInteractive(a,y,c,d,l)&&y.parent&&(h=!0,d=l=!1)}e&&(d&&!h&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),h=b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):b.containsPoint&&(h=b.containsPoint(a))),b.interactive&&c(b,h));return h};a.prototype.onMouseDown=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData.stopped=!1;this.mapPositionToPoint(this.mouse.global,
a.clientX,a.clientY);this.autoPreventDefault&&this.mouse.originalEvent.preventDefault();this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);this.emit(2===a.button||3===a.which?"rightdown":"mousedown",this.eventData)};a.prototype.processMouseDown=function(a,b){var c=this.mouse.originalEvent,c=2===c.button||3===c.which;b&&(a[c?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,c?"rightdown":"mousedown",this.eventData))};a.prototype.onMouseUp=function(a){this.mouse.originalEvent=
a;this.eventData.data=this.mouse;this.eventData.stopped=!1;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);this.emit(2===a.button||3===a.which?"rightup":"mouseup",this.eventData)};a.prototype.processMouseUp=function(a,b){var c=this.mouse.originalEvent,d=(c=2===c.button||3===c.which)?"_isRightDown":"_isLeftDown";b?(this.dispatchEvent(a,c?"rightup":"mouseup",this.eventData),a[d]&&(a[d]=
!1,this.dispatchEvent(a,c?"rightclick":"click",this.eventData))):a[d]&&(a[d]=!1,this.dispatchEvent(a,c?"rightupoutside":"mouseupoutside",this.eventData))};a.prototype.onMouseMove=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData.stopped=!1;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.didMove=!0;this.cursor=this.defaultCursorStyle;this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0);this.emit("mousemove",
this.eventData);this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)};a.prototype.processMouseMove=function(a,b){this.processMouseOverOut(a,b);this.moveWhenInside&&!b||this.dispatchEvent(a,"mousemove",this.eventData)};a.prototype.onMouseOut=function(a){this.mouse.originalEvent=a;this.eventData.data=this.mouse;this.eventData.stopped=!1;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.interactionDOMElement.style.cursor=
this.defaultCursorStyle;this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1);this.emit("mouseout",this.eventData)};a.prototype.processMouseOverOut=function(a,b){b?(a._over||(a._over=!0,this.dispatchEvent(a,"mouseover",this.eventData)),a.buttonMode&&(this.cursor=a.defaultCursor)):a._over&&(a._over=!1,this.dispatchEvent(a,"mouseout",this.eventData))};a.prototype.onMouseOver=function(a){this.mouse.originalEvent=
a;this.eventData.data=this.mouse;this.eventData.stopped=!1;this.emit("mouseover",this.eventData)};a.prototype.onTouchStart=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData.stopped=!1;this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchStart,!0);this.emit("touchstart",this.eventData);this.returnTouchData(e)}};a.prototype.processTouchStart=
function(a,b){b&&(a._touchDown=!0,this.dispatchEvent(a,"touchstart",this.eventData))};a.prototype.onTouchEnd=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData.stopped=!1;this.processInteractive(e.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0);this.emit("touchend",this.eventData);this.returnTouchData(e)}};a.prototype.processTouchEnd=function(a,
b){b?(this.dispatchEvent(a,"touchend",this.eventData),a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"tap",this.eventData))):a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"touchendoutside",this.eventData))};a.prototype.onTouchMove=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;d<c;d++){var e=this.getTouchData(b[d]);e.originalEvent=a;this.eventData.data=e;this.eventData.stopped=!1;this.processInteractive(e.global,this.renderer._lastObjectRendered,
this.processTouchMove,this.moveWhenInside);this.emit("touchmove",this.eventData);this.returnTouchData(e)}};a.prototype.processTouchMove=function(a,b){this.moveWhenInside&&!b||this.dispatchEvent(a,"touchmove",this.eventData)};a.prototype.getTouchData=function(a){var b=this.interactiveDataPool.pop();b||(b=new d);b.identifier=a.identifier;this.mapPositionToPoint(b.global,a.clientX,a.clientY);navigator.isCocoonJS&&(b.global.x/=this.resolution,b.global.y/=this.resolution);a.globalX=b.global.x;a.globalY=
b.global.y;return b};a.prototype.returnTouchData=function(a){this.interactiveDataPool.push(a)};a.prototype.destroy=function(){this.removeEvents();this.removeAllListeners();this._tempPoint=this.processTouchMove=this.onTouchMove=this.processTouchEnd=this.onTouchEnd=this.processTouchStart=this.onTouchStart=this.onMouseOver=this.processMouseOverOut=this.onMouseOut=this.processMouseMove=this.onMouseMove=this.processMouseDown=this.onMouseDown=this.processMouseUp=this.onMouseUp=this.interactionDOMElement=
this.interactiveDataPool=this.eventData=this.mouse=this.renderer=null};e.WebGLRenderer.registerPlugin("interaction",a);e.CanvasRenderer.registerPlugin("interaction",a)},{"../core":97,"./InteractionData":178,"./interactiveTarget":181,eventemitter3:32}],180:[function(c,h,l){h.exports={InteractionData:c("./InteractionData"),InteractionManager:c("./InteractionManager"),interactiveTarget:c("./interactiveTarget")}},{"./InteractionData":178,"./InteractionManager":179,"./interactiveTarget":181}],181:[function(c,
h,l){h.exports={interactive:!1,interactiveChildren:!0,hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_touchDown:!1}},{}],182:[function(c,h,l){function a(a,c){var f={},e=a.data.getElementsByTagName("info")[0],h=a.data.getElementsByTagName("common")[0];f.font=e.getAttribute("face");f.size=parseInt(e.getAttribute("size"),10);f.lineHeight=parseInt(h.getAttribute("lineHeight"),10);f.chars={};h=a.data.getElementsByTagName("char");for(e=0;e<h.length;e++){var l=
parseInt(h[e].getAttribute("id"),10),p=new d.Rectangle(parseInt(h[e].getAttribute("x"),10)+c.frame.x,parseInt(h[e].getAttribute("y"),10)+c.frame.y,parseInt(h[e].getAttribute("width"),10),parseInt(h[e].getAttribute("height"),10));f.chars[l]={xOffset:parseInt(h[e].getAttribute("xoffset"),10),yOffset:parseInt(h[e].getAttribute("yoffset"),10),xAdvance:parseInt(h[e].getAttribute("xadvance"),10),kerning:{},texture:new d.Texture(c.baseTexture,p)}}h=a.data.getElementsByTagName("kerning");for(e=0;e<h.length;e++){var l=
parseInt(h[e].getAttribute("first"),10),p=parseInt(h[e].getAttribute("second"),10),q=parseInt(h[e].getAttribute("amount"),10);f.chars[p]&&(f.chars[p].kerning[l]=q)}a.bitmapFont=f;b.BitmapText.fonts[f.font]=f}var e=c("resource-loader").Resource,d=c("../core"),b=c("../extras"),f=c("path");h.exports=function(){return function(b,c){if(!b.data||!b.isXml||0===b.data.getElementsByTagName("page").length||0===b.data.getElementsByTagName("info").length||null===b.data.getElementsByTagName("info")[0].getAttribute("face"))return c();
var k=b.isDataUrl?"":f.dirname(b.url);b.isDataUrl&&("."===k&&(k=""),this.baseUrl&&k&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(k+="/"),k=k.replace(this.baseUrl,"")));k&&"/"!==k.charAt(k.length-1)&&(k+="/");k+=b.data.getElementsByTagName("page")[0].getAttribute("file");d.utils.TextureCache[k]?(a(b,d.utils.TextureCache[k]),c()):this.add(b.name+"_image",k,{crossOrigin:b.crossOrigin,loadType:e.LOAD_TYPE.IMAGE,metadata:b.metadata.imageMetadata},function(d){a(b,d.texture);c()})}}},{"../core":97,
"../extras":164,path:60,"resource-loader":69}],183:[function(c,h,l){h.exports={Loader:c("./loader"),bitmapFontParser:c("./bitmapFontParser"),spritesheetParser:c("./spritesheetParser"),textureParser:c("./textureParser"),Resource:c("resource-loader").Resource}},{"./bitmapFontParser":182,"./loader":184,"./spritesheetParser":185,"./textureParser":186,"resource-loader":69}],184:[function(c,h,l){function a(b,c){e.call(this,b,c);for(var d=0;d<a._pixiMiddleware.length;++d)this.use(a._pixiMiddleware[d]())}
var e=c("resource-loader");l=c("./textureParser");var d=c("./spritesheetParser");c=c("./bitmapFontParser");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a._pixiMiddleware=[e.middleware.parsing.blob,l,d,c];a.addPixiMiddleware=function(b){a._pixiMiddleware.push(b)};h=e.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":182,"./spritesheetParser":185,"./textureParser":186,"resource-loader":69}],185:[function(c,h,l){var a=c("resource-loader").Resource,
e=c("path"),d=c("../core");h.exports=function(){return function(b,c){var h,g=b.name+"_image";if(!b.data||!b.isJson||!b.data.frames||this.resources[g])return c();var k={crossOrigin:b.crossOrigin,loadType:a.LOAD_TYPE.IMAGE,metadata:b.metadata.imageMetadata};h=b.isDataUrl?b.data.meta.image:e.dirname(b.url.replace(this.baseUrl,""))+"/"+b.data.meta.image;this.add(g,h,k,function(a){function g(c,f){for(var e=c;e-c<f&&e<m.length;){var k=m[e],v=h[k].frame;if(v){var p=null,x=new d.Rectangle(0,0,h[k].sourceSize.w/
l,h[k].sourceSize.h/l),v=h[k].rotated?new d.Rectangle(v.x/l,v.y/l,v.h/l,v.w/l):new d.Rectangle(v.x/l,v.y/l,v.w/l,v.h/l);h[k].trimmed&&(p=new d.Rectangle(h[k].spriteSourceSize.x/l,h[k].spriteSourceSize.y/l,h[k].spriteSourceSize.w/l,h[k].spriteSourceSize.h/l));b.textures[k]=new d.Texture(a.texture.baseTexture,v,x,p,h[k].rotated?2:0);d.utils.TextureCache[k]=b.textures[k]}e++}}function e(a){g(1E3*u,1E3);u++;setTimeout(a,0)}function k(){e(function(){1E3*u<m.length?k():c()})}b.textures={};var h=b.data.frames,
m=Object.keys(h),l=d.utils.getResolutionOfUrl(b.url),u=0;1E3>=m.length?(g(0,1E3),c()):k()})}}},{"../core":97,path:60,"resource-loader":69}],186:[function(c,h,l){var a=c("../core");h.exports=function(){return function(c,d){if(c.data&&c.isImage){var b=new a.BaseTexture(c.data,null,a.utils.getResolutionOfUrl(c.url));b.imageUrl=c.url;c.texture=new a.Texture(b);a.utils.BaseTextureCache[c.url]=b;a.utils.TextureCache[c.url]=c.texture}d()}}},{"../core":97}],187:[function(c,h,l){function a(b,c,d,f,h){e.Container.call(this);
this._texture=null;this.uvs=d||new Float32Array([0,0,1,0,1,1,0,1]);this.vertices=c||new Float32Array([0,0,100,0,100,100,0,100]);this.indices=f||new Uint16Array([0,1,3,2]);this.indexDirty=this.dirty=0;this.blendMode=e.BLEND_MODES.NORMAL;this.canvasPadding=0;this.drawMode=h||a.DRAW_MODES.TRIANGLE_MESH;this.texture=b;this.shader=null;this.tintRgb=new Float32Array([1,1,1]);this._glDatas=[]}var e=c("../core"),d=c("pixi-gl-core"),b=c("./webgl/MeshShader"),f=new e.Point,m=new e.Polygon;a.prototype=Object.create(e.Container.prototype);
a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{texture:{get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},tint:{get:function(){return e.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=e.utils.hex2rgb(a,this.tintRgb)}}});a.prototype._renderWebGL=function(c){c.flush();var f=c.gl,e=this._glDatas[c.CONTEXT_UID];e||(e={shader:new b(f),
vertexBuffer:d.GLBuffer.createVertexBuffer(f,this.vertices,f.STREAM_DRAW),uvBuffer:d.GLBuffer.createVertexBuffer(f,this.uvs,f.STREAM_DRAW),indexBuffer:d.GLBuffer.createIndexBuffer(f,this.indices,f.STATIC_DRAW),vao:new d.VertexArrayObject(f),dirty:this.dirty,indexDirty:this.indexDirty},e.vao=(new d.VertexArrayObject(f)).addIndex(e.indexBuffer).addAttribute(e.vertexBuffer,e.shader.attributes.aVertexPosition,f.FLOAT,!1,8,0).addAttribute(e.uvBuffer,e.shader.attributes.aTextureCoord,f.FLOAT,!1,8,0),this._glDatas[c.CONTEXT_UID]=
e);this.dirty!==e.dirty&&(e.dirty=this.dirty,e.uvBuffer.upload());this.indexDirty!==e.indexDirty&&(e.indexDirty=this.indexDirty,e.indexBuffer.upload());e.vertexBuffer.upload();c.bindShader(e.shader);c.bindTexture(this._texture,0);c.state.setBlendMode(this.blendMode);e.shader.uniforms.translationMatrix=this.worldTransform.toArray(!0);e.shader.uniforms.alpha=this.worldAlpha;e.shader.uniforms.tint=this.tintRgb;c=this.drawMode===a.DRAW_MODES.TRIANGLE_MESH?f.TRIANGLE_STRIP:f.TRIANGLES;e.vao.bind().draw(c,
this.indices.length).unbind()};a.prototype._renderCanvas=function(b){var c=b.context,d=this.worldTransform,f=b.resolution;b.roundPixels?c.setTransform(d.a*f,d.b*f,d.c*f,d.d*f,d.tx*f|0,d.ty*f|0):c.setTransform(d.a*f,d.b*f,d.c*f,d.d*f,d.tx*f,d.ty*f);this.drawMode===a.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(c):this._renderCanvasTriangles(c)};a.prototype._renderCanvasTriangleMesh=function(a){for(var b=this.vertices,c=this.uvs,d=b.length/2,f=0;f<d-2;f++){var e=2*f;this._renderCanvasDrawTriangle(a,
b,c,e,e+2,e+4)}};a.prototype._renderCanvasTriangles=function(a){for(var b=this.vertices,c=this.uvs,d=this.indices,f=d.length,e=0;e<f;e+=3)this._renderCanvasDrawTriangle(a,b,c,2*d[e],2*d[e+1],2*d[e+2])};a.prototype._renderCanvasDrawTriangle=function(a,b,c,d,f,e){var h=this._texture.baseTexture,m=h.source,l=h.width,u=h.height,w=b[d],r=b[f],C=b[e],H=b[d+1],E=b[f+1];b=b[e+1];var F=c[d]*h.width,I=c[f]*h.width,J=c[e]*h.width;d=c[d+1]*h.height;f=c[f+1]*h.height;c=c[e+1]*h.height;if(0<this.canvasPadding){e=
this.canvasPadding/this.worldTransform.a;var B=this.canvasPadding/this.worldTransform.d,D=(w+r+C)/3,M=(H+E+b)/3,G=w-D,P=H-M,A=Math.sqrt(G*G+P*P),w=D+G/A*(A+e),H=M+P/A*(A+B),G=r-D,P=E-M,A=Math.sqrt(G*G+P*P),r=D+G/A*(A+e),E=M+P/A*(A+B),G=C-D,P=b-M,A=Math.sqrt(G*G+P*P),C=D+G/A*(A+e);b=M+P/A*(A+B)}a.save();a.beginPath();a.moveTo(w,H);a.lineTo(r,E);a.lineTo(C,b);a.closePath();a.clip();e=F*f+d*J+I*c-f*J-d*I-F*c;a.transform((w*f+d*C+r*c-f*C-d*r-w*c)/e,(H*f+d*b+E*c-f*b-d*E-H*c)/e,(F*r+w*J+I*C-r*J-w*I-F*C)/
e,(F*E+H*J+I*b-E*J-H*I-F*b)/e,(F*f*C+d*r*J+w*I*c-w*f*J-d*I*C-F*r*c)/e,(F*f*b+d*E*J+H*I*c-H*f*J-d*I*b-F*E*c)/e);a.drawImage(m,0,0,l*h.resolution,u*h.resolution,0,0,l,u);a.restore()};a.prototype.renderMeshFlat=function(a){var b=this.context;a=a.vertices;var c=a.length/2;b.beginPath();for(var d=1;d<c-2;d++){var f=2*d,e=a[f+2],h=a[f+4],m=a[f+3],l=a[f+5];b.moveTo(a[f],a[f+1]);b.lineTo(e,m);b.lineTo(h,l)}b.fillStyle="#FF0000";b.fill();b.closePath()};a.prototype._onTextureUpdate=function(){};a.prototype._calculateBounds=
function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};a.prototype.containsPoint=function(b){if(!this.getBounds().contains(b.x,b.y))return!1;this.worldTransform.applyInverse(b,f);b=this.vertices;for(var c=m.points,d=this.indices,e=this.indices.length,h=this.drawMode===a.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<e;l+=h){var q=2*d[l],y=2*d[l+1],t=2*d[l+2];c[0]=b[q];c[1]=b[q+1];c[2]=b[y];c[3]=b[y+1];c[4]=b[t];c[5]=b[t+1];if(m.contains(f.x,f.y))return!0}return!1};a.DRAW_MODES=
{TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":97,"./webgl/MeshShader":192,"pixi-gl-core":7}],188:[function(c,h,l){function a(a,b,c,h,g){e.call(this,a,4,4);var k=this.uvs;k[6]=k[14]=k[22]=k[30]=1;k[25]=k[27]=k[29]=k[31]=1;this._origWidth=a.width;this._origHeight=a.height;this._uvw=1/this._origWidth;this._uvh=1/this._origHeight;this.width=a.width;this.height=a.height;k[2]=k[10]=k[18]=k[26]=this._uvw*b;k[4]=k[12]=k[20]=k[28]=1-this._uvw*h;k[9]=k[11]=k[13]=k[15]=this._uvh*c;k[17]=k[19]=k[21]=k[23]=1-this._uvh*
g;this.leftWidth="undefined"!==typeof b?b:10;this.rightWidth="undefined"!==typeof h?h:10;this.topHeight="undefined"!==typeof c?c:10;this.bottomHeight="undefined"!==typeof g?g:10}var e=c("./Plane");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;Object.defineProperties(a.prototype,{width:{get:function(){return this._width},set:function(a){this._width=a;this.updateVerticalVertices()}},height:{get:function(){return this._height},set:function(a){this._height=a;this.updateHorizontalVertices()}},
leftWidth:{get:function(){return this._leftWidth},set:function(a){this._leftWidth=a;var b=this.uvs,c=this.vertices;b[2]=b[10]=b[18]=b[26]=this._uvw*a;c[2]=c[10]=c[18]=c[26]=a;this.dirty=!0}},rightWidth:{get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;var b=this.uvs,c=this.vertices;b[4]=b[12]=b[20]=b[28]=1-this._uvw*a;c[4]=c[12]=c[20]=c[28]=this._width-a;this.dirty=!0}},topHeight:{get:function(){return this._topHeight},set:function(a){this._topHeight=a;var b=this.uvs,c=this.vertices;
b[9]=b[11]=b[13]=b[15]=this._uvh*a;c[9]=c[11]=c[13]=c[15]=a;this.dirty=!0}},bottomHeight:{get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a;var b=this.uvs,c=this.vertices;b[17]=b[19]=b[21]=b[23]=1-this._uvh*a;c[17]=c[19]=c[21]=c[23]=this._height-a;this.dirty=!0}}});a.prototype.updateHorizontalVertices=function(){var a=this.vertices;a[9]=a[11]=a[13]=a[15]=this._topHeight;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight;a[25]=a[27]=a[29]=a[31]=this._height};a.prototype.updateVerticalVertices=
function(){var a=this.vertices;a[2]=a[10]=a[18]=a[26]=this._leftWidth;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth;a[6]=a[14]=a[22]=a[30]=this._width};a.prototype._renderCanvas=function(a){var b=a.context;b.globalAlpha=this.worldAlpha;var c=this.worldTransform,e=a.resolution;a.roundPixels?b.setTransform(c.a*e,c.b*e,c.c*e,c.d*e,c.tx*e|0,c.ty*e|0):b.setTransform(c.a*e,c.b*e,c.c*e,c.d*e,c.tx*e,c.ty*e);e=this._texture.baseTexture;a=e.source;c=e.width;e=e.height;this.drawSegment(b,a,c,e,0,1,10,
11);this.drawSegment(b,a,c,e,2,3,12,13);this.drawSegment(b,a,c,e,4,5,14,15);this.drawSegment(b,a,c,e,8,9,18,19);this.drawSegment(b,a,c,e,10,11,20,21);this.drawSegment(b,a,c,e,12,13,22,23);this.drawSegment(b,a,c,e,16,17,26,27);this.drawSegment(b,a,c,e,18,19,28,29);this.drawSegment(b,a,c,e,20,21,30,31)};a.prototype.drawSegment=function(a,b,c,e,g,k,h,l){var x=this.uvs,p=this.vertices,q=(x[h]-x[g])*c,y=(x[l]-x[k])*e;h=p[h]-p[g];l=p[l]-p[k];1>q&&(q=1);1>y&&(y=1);1>h&&(h=1);1>l&&(l=1);a.drawImage(b,x[g]*
c,x[k]*e,q,y,p[g],p[k],h,l)}},{"./Plane":189}],189:[function(c,h,l){function a(a,b,c){e.call(this,a);this._ready=!0;this.verticesX=b||10;this.verticesY=c||10;this.drawMode=e.DRAW_MODES.TRIANGLES;this.refresh()}var e=c("./Mesh");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.refresh=function(){var a=this.verticesX*this.verticesY,b=[],c=[],e=[],g=this.texture,k=this.verticesX-1,h=this.verticesY-1,l,x=g.width/k,p=g.height/h;for(l=0;l<a;l++){var q=l%this.verticesX,
y=l/this.verticesX|0;b.push(q*x,y*p);c.push(g._uvs.x0+q/(this.verticesX-1)*(g._uvs.x1-g._uvs.x0),g._uvs.y0+y/(this.verticesY-1)*(g._uvs.y3-g._uvs.y0))}a=k*h;for(l=0;l<a;l++)g=l%k,h=l/k|0,x=h*this.verticesX+g+1,p=(h+1)*this.verticesX+g,q=(h+1)*this.verticesX+g+1,e.push(h*this.verticesX+g,x,p),e.push(x,q,p);this.vertices=new Float32Array(b);this.uvs=new Float32Array(c);this.colors=new Float32Array([]);this.indices=new Uint16Array(e);this.indexDirty=!0};a.prototype._onTextureUpdate=function(){e.prototype._onTextureUpdate.call(this);
this._ready&&this.refresh()}},{"./Mesh":187}],190:[function(c,h,l){function a(a,c){e.call(this,a);this.points=c;this.vertices=new Float32Array(4*c.length);this.uvs=new Float32Array(4*c.length);this.colors=new Float32Array(2*c.length);this.indices=new Uint16Array(2*c.length);this._ready=!0;this.refresh()}var e=c("./Mesh"),d=c("../core");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.refresh=function(){var a=this.points;if(!(1>a.length)&&this._texture._uvs){var c=
this.uvs,e=this.indices,g=this.colors,k=this._texture._uvs,h=new d.Point(k.x0,k.y0),k=new d.Point(k.x2-k.x0,k.y2-k.y0);c[0]=0+h.x;c[1]=0+h.y;c[2]=0+h.x;c[3]=1*k.y+h.y;g[0]=1;g[1]=1;e[0]=0;e[1]=1;for(var a=a.length,l,x,p=1;p<a;p++)l=4*p,x=p/(a-1),c[l]=x*k.x+h.x,c[l+1]=0+h.y,c[l+2]=x*k.x+h.x,c[l+3]=1*k.y+h.y,l=2*p,g[l]=1,g[l+1]=1,l=2*p,e[l]=l,e[l+1]=l+1;this.indexDirty=this.dirty=!0}};a.prototype._onTextureUpdate=function(){e.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};a.prototype.updateTransform=
function(){var a=this.points;if(!(1>a.length)){for(var c=a[0],d,e,k=this.vertices,h=a.length,l,x,p,q=0;q<h;q++)l=a[q],x=4*q,d=q<a.length-1?a[q+1]:l,e=-(d.x-c.x),c=d.y-c.y,d=Math.sqrt(c*c+e*e),p=this._texture.height/2,c/=d,e/=d,c*=p,e*=p,k[x]=l.x+c,k[x+1]=l.y+e,k[x+2]=l.x-c,k[x+3]=l.y-e,c=l;this.containerUpdateTransform()}}},{"../core":97,"./Mesh":187}],191:[function(c,h,l){h.exports={Mesh:c("./Mesh"),Plane:c("./Plane"),NineSlicePlane:c("./NineSlicePlane"),Rope:c("./Rope"),MeshShader:c("./webgl/MeshShader")}},
{"./Mesh":187,"./NineSlicePlane":188,"./Plane":189,"./Rope":190,"./webgl/MeshShader":192}],192:[function(c,h,l){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\nuniform sampler2D uSampler;\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}")}
var e=c("../../core/Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a},{"../../core/Shader":77}],193:[function(c,h,l){function a(a,b,c){e.Container.call(this);c=c||15E3;a=a||15E3;16384<c&&(c=16384);c>a&&(c=a);this._properties=[!1,!0,!1,!1,!1];this._maxSize=a;this._batchSize=c;this._glBuffers=[];this._bufferToUpdate=0;this.interactiveChildren=!1;this.blendMode=e.BLEND_MODES.NORMAL;this.roundPixels=!0;this.baseTexture=null;this.setProperties(b)}var e=c("../core");
a.prototype=Object.create(e.Container.prototype);a.prototype.constructor=a;h.exports=a;a.prototype.setProperties=function(a){a&&(this._properties[0]="scale"in a?!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="alpha"in a?!!a.alpha:this._properties[4])};a.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};
a.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){this.onChildrenChange(0)},this);a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};a.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);a<this._bufferToUpdate&&(this._bufferToUpdate=a)};a.prototype.renderCanvas=
function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var b=a.context,c=this.worldTransform,e=!0,g,k,h,l,x=a.blendModes[this.blendMode];x!==b.globalCompositeOperation&&(b.globalCompositeOperation=x);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(x=0;x<this.children.length;++x){var p=this.children[x];if(p.visible){var q=p.texture.frame;b.globalAlpha=this.worldAlpha*p.alpha;0===p.rotation%(2*Math.PI)?(e&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*
a.resolution,c.ty*a.resolution),e=!1),g=p.anchor.x*-q.width*p.scale.x+p.position.x+.5,k=p.anchor.y*-q.height*p.scale.y+p.position.y+.5,h=q.width*p.scale.x,l=q.height*p.scale.y):(e||(e=!0),p.displayObjectUpdateTransform(),g=p.worldTransform,a.roundPixels?b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution|0,g.ty*a.resolution|0):b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution,g.ty*a.resolution),g=p.anchor.x*-q.width+.5,k=p.anchor.y*-q.height+.5,h=q.width,l=q.height);var y=p.texture.baseTexture.resolution;
b.drawImage(p.texture.baseTexture.source,q.x*y,q.y*y,q.width*y,q.height*y,g*y,k*y,h*y,l*y)}}}};a.prototype.destroy=function(){e.Container.prototype.destroy.apply(this,arguments);if(this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=this._properties=null}},{"../core":97}],194:[function(c,h,l){h.exports={ParticleContainer:c("./ParticleContainer"),ParticleRenderer:c("./webgl/ParticleRenderer")}},{"./ParticleContainer":193,"./webgl/ParticleRenderer":196}],195:[function(c,
h,l){function a(a,c,d,e){this.gl=a;this.vertSize=2;this.vertByteSize=4*this.vertSize;this.size=e;this.dynamicProperties=[];this.staticProperties=[];for(a=0;a<c.length;a++)e=c[a],e={attribute:e.attribute,size:e.size,uploadFunction:e.uploadFunction,offset:e.offset},d[a]?this.dynamicProperties.push(e):this.staticProperties.push(e);this.staticStride=0;this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicData=this.dynamicBuffer=null;this.initBuffers()}var e=c("pixi-gl-core"),d=c("../../core/utils/createIndicesForQuads");
a.prototype.constructor=a;h.exports=a;a.prototype.initBuffers=function(){var a=this.gl,c,h,g=0;this.indices=d(this.size);this.indexBuffer=e.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);for(c=this.dynamicStride=0;c<this.dynamicProperties.length;c++)h=this.dynamicProperties[c],h.offset=g,g+=h.size,this.dynamicStride+=h.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=e.GLBuffer.createVertexBuffer(a,this.dynamicData,a.STREAM_DRAW);for(c=this.staticStride=
g=0;c<this.staticProperties.length;c++)h=this.staticProperties[c],h.offset=g,g+=h.size,this.staticStride+=h.size;this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=e.GLBuffer.createVertexBuffer(a,this.staticData,a.STATIC_DRAW);this.vao=(new e.VertexArrayObject(a)).addIndex(this.indexBuffer);for(c=0;c<this.dynamicProperties.length;c++)h=this.dynamicProperties[c],this.vao.addAttribute(this.dynamicBuffer,h.attribute,a.FLOAT,!1,4*this.dynamicStride,4*h.offset);for(c=0;c<
this.staticProperties.length;c++)h=this.staticProperties[c],this.vao.addAttribute(this.staticBuffer,h.attribute,a.FLOAT,!1,4*this.staticStride,4*h.offset)};a.prototype.uploadDynamic=function(a,c,d){for(var e=0;e<this.dynamicProperties.length;e++){var k=this.dynamicProperties[e];k.uploadFunction(a,c,d,this.dynamicData,this.dynamicStride,k.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,c,d){for(var e=0;e<this.staticProperties.length;e++){var k=this.staticProperties[e];k.uploadFunction(a,
c,d,this.staticData,this.staticStride,k.offset)}this.staticBuffer.upload()};a.prototype.bind=function(){this.vao.bind()};a.prototype.destroy=function(){this.dynamicData=this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticData=this.staticProperties=null;this.staticBuffer.destroy()}},{"../../core/utils/createIndicesForQuads":149,"pixi-gl-core":7}],196:[function(c,h,l){function a(a){e.ObjectRenderer.call(this,a);this.properties=this.indexBuffer=this.shader=null;this.tempMatrix=new e.Matrix;
this.CONTEXT_UID=0}var e=c("../../core"),d=c("./ParticleShader"),b=c("./ParticleBuffer");a.prototype=Object.create(e.ObjectRenderer.prototype);a.prototype.constructor=a;h.exports=a;e.WebGLRenderer.registerPlugin("particle",a);a.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new d(a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,
size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};a.prototype.start=function(){this.renderer.bindShader(this.shader)};a.prototype.render=function(a){var b=a.children,c=b.length,d=a._maxSize,e=a._batchSize;if(0!==c){c>
d&&(c=d);(d=a._glBuffers[this.renderer.CONTEXT_UID])||(d=a._glBuffers[this.renderer.CONTEXT_UID]=this.generateBuffers(a));this.renderer.setBlendMode(a.blendMode);var h=this.renderer.gl,l=a.worldTransform.copy(this.tempMatrix);l.prepend(this.renderer._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=l.toArray(!0);this.shader.uniforms.uAlpha=a.worldAlpha;this.renderer.bindTexture(b[0]._texture.baseTexture);for(var p=l=0;l<c;l+=e,p+=1){var q=c-l;q>e&&(q=e);var y=d[p];y.uploadDynamic(b,
l,q);a._bufferToUpdate===p&&(y.uploadStatic(b,l,q),a._bufferToUpdate=p+1);y.vao.bind().draw(h.TRIANGLES,6*q).unbind()}}};a.prototype.generateBuffers=function(a){var c=this.renderer.gl,d=[],e=a._maxSize,h=a._batchSize;a=a._properties;var l;for(l=0;l<e;l+=h)d.push(new b(c,this.properties,a,h));return d};a.prototype.uploadVertices=function(a,b,c,d,e,h){for(var l,p,q,y,t,u,w,r=0;r<c;r++)l=a[b+r],p=l._texture,t=l.scale.x,u=l.scale.y,q=p.trim,y=p.orig,q?(w=q.x-l.anchor.x*y.width,p=w+q.width,l=q.y-l.anchor.y*
y.height,q=l+q.height):(p=y.width*(1-l.anchor.x),w=y.width*-l.anchor.x,q=y.height*(1-l.anchor.y),l=y.height*-l.anchor.y),d[h]=w*t,d[h+1]=l*u,d[h+e]=p*t,d[h+e+1]=l*u,d[h+2*e]=p*t,d[h+2*e+1]=q*u,d[h+3*e]=w*t,d[h+3*e+1]=q*u,h+=4*e};a.prototype.uploadPosition=function(a,b,c,d,e,h){for(var l=0;l<c;l++){var p=a[b+l].position;d[h]=p.x;d[h+1]=p.y;d[h+e]=p.x;d[h+e+1]=p.y;d[h+2*e]=p.x;d[h+2*e+1]=p.y;d[h+3*e]=p.x;d[h+3*e+1]=p.y;h+=4*e}};a.prototype.uploadRotation=function(a,b,c,d,e,h){for(var l=0;l<c;l++){var p=
a[b+l].rotation;d[h]=p;d[h+e]=p;d[h+2*e]=p;d[h+3*e]=p;h+=4*e}};a.prototype.uploadUvs=function(a,b,c,d,e,h){for(var l=0;l<c;l++){var p=a[b+l]._texture._uvs;p?(d[h]=p.x0,d[h+1]=p.y0,d[h+e]=p.x1,d[h+e+1]=p.y1,d[h+2*e]=p.x2,d[h+2*e+1]=p.y2,d[h+3*e]=p.x3,d[h+3*e+1]=p.y3):(d[h]=0,d[h+1]=0,d[h+e]=0,d[h+e+1]=0,d[h+2*e]=0,d[h+2*e+1]=0,d[h+3*e]=0,d[h+3*e+1]=0);h+=4*e}};a.prototype.uploadAlpha=function(a,b,c,d,e,h){for(var l=0;l<c;l++){var p=a[b+l].alpha;d[h]=p;d[h+e]=p;d[h+2*e]=p;d[h+3*e]=p;h+=4*e}};a.prototype.destroy=
function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);e.ObjectRenderer.prototype.destroy.apply(this,arguments);this.shader.destroy();this.tempMatrix=this.indices=null}},{"../../core":97,"./ParticleBuffer":195,"./ParticleShader":197}],197:[function(c,h,l){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}")}var e=c("../../core/Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.exports=a},{"../../core/Shader":77}],198:[function(c,h,l){Math.sign||(Math.sign=function(a){a=+a;return 0===a||isNaN(a)?a:0<a?1:-1})},{}],199:[function(c,
h,l){Object.assign||(Object.assign=c("object-assign"))},{"object-assign":59}],200:[function(c,h,l){c("./Object.assign");c("./requestAnimationFrame");c("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":198,"./Object.assign":199,"./requestAnimationFrame":201}],201:[function(c,h,l){(function(a){Date.now&&Date.prototype.getTime||(Date.now=
function(){return(new Date).getTime()});if(!a.performance||!a.performance.now){var c=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-c}}for(var d=Date.now(),b=["ms","moz","webkit","o"],f=0;f<b.length&&!a.requestAnimationFrame;++f)a.requestAnimationFrame=a[b[f]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[b[f]+"CancelAnimationFrame"]||a[b[f]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if("function"!==
typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+d-b;0>c&&(c=0);d=b;return setTimeout(function(){d=Date.now();a(performance.now())},c)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],202:[function(c,h,l){function a(){}c=c("../../core");a.prototype.constructor=a;h.exports=a;a.prototype.upload=function(a,c){"function"===typeof a&&
(c=a);c()};a.prototype.register=function(){return this};a.prototype.add=function(){return this};a.prototype.destroy=function(){};c.CanvasRenderer.registerPlugin("prepare",a)},{"../../core":97}],203:[function(c,h,l){h.exports={webGL:c("./webgl/WebGLPrepare"),canvas:c("./canvas/CanvasPrepare")}},{"./canvas/CanvasPrepare":202,"./webgl/WebGLPrepare":204}],204:[function(c,h,l){function a(a){this.renderer=a;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.register(b,
e).register(f,d)}function e(a,b){return b instanceof m.BaseTexture?(a.textureManager.updateTexture(b),!0):!1}function d(a,b){return b instanceof m.Graphics?(a.plugins.graphics.updateGraphics(b),!0):!1}function b(a,b){if(a instanceof m.BaseTexture)return-1===b.indexOf(a)&&b.push(a),!0;if(a._texture&&a._texture instanceof m.Texture){var c=a._texture.baseTexture;-1===b.indexOf(c)&&b.push(c);return!0}return!1}function f(a,b){return a instanceof m.Graphics?(b.push(a),!0):!1}var m=c("../../core"),g=m.ticker.shared;
a.UPLOADS_PER_FRAME=4;a.prototype.constructor=a;h.exports=a;a.prototype.upload=function(b,c){"function"===typeof b&&(c=b,b=null);b&&this.add(b);this.queue.length?(this.numLeft=a.UPLOADS_PER_FRAME,this.completes.push(c),this.ticking||(this.ticking=!0,g.add(this.tick,this))):c()};a.prototype.tick=function(){for(var b,c;this.queue.length&&0<this.numLeft;){var d=this.queue[0],e=!1;b=0;for(c=this.uploadHooks.length;b<c;b++)if(this.uploadHooks[b](this.renderer,d)){this.numLeft--;this.queue.shift();e=!0;
break}e||this.queue.shift()}if(this.queue.length)this.numLeft=a.UPLOADS_PER_FRAME;else for(this.ticking=!1,g.remove(this.tick,this),d=this.completes.slice(0),b=this.completes.length=0,c=d.length;b<c;b++)d[b]()};a.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};a.prototype.add=function(a){var b,c;b=0;for(c=this.addHooks.length;b<c&&!this.addHooks[b](a,this.queue);b++);if(a instanceof m.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);
return this};a.prototype.destroy=function(){this.ticking&&g.remove(this.tick,this);this.ticking=!1;this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};m.WebGLRenderer.registerPlugin("prepare",a)},{"../../core":97}],205:[function(c,h,l){l="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};c("./polyfill");h=h.exports=c("./core");h.extras=c("./extras");h.filters=c("./filters");h.interaction=c("./interaction");h.loaders=c("./loaders");
h.mesh=c("./mesh");h.particles=c("./particles");h.accessibility=c("./accessibility");h.extract=c("./extract");h.prepare=c("./prepare");h.loader=new h.loaders.Loader;Object.assign(h,c("./deprecation"));l.PIXI=h},{"./accessibility":76,"./core":97,"./deprecation":154,"./extract":156,"./extras":164,"./filters":175,"./interaction":180,"./loaders":183,"./mesh":191,"./particles":194,"./polyfill":200,"./prepare":203}]},{},[205])(205)});PIXI.TransparencyHitArea=function(z){this.sprite=z};PIXI.TransparencyHitArea.create=function(z,c){var h;h=c?new PIXI.WebGLTransparencyHitArea(z):new PIXI.CanvasTransparencyHitArea(z);h.init();return h};PIXI.TransparencyHitArea.prototype.init=function(){};
PIXI.TransparencyHitArea.prototype.contains=function(z,c){if(0===Math.abs(this.sprite.width)||0===Math.abs(this.sprite.height))return!1;var h=this.sprite.texture.frame.width,l=this.sprite.texture.frame.height;z+=this.sprite.anchor.x*h;c+=this.sprite.anchor.y*l;return 0<=z&&z<=h&&0<=c&&c<=l?!this.isTextureTransparentAt(Math.round(z+this.sprite.texture.frame.x),Math.round(c+this.sprite.texture.frame.y)):!1};PIXI.TransparencyHitArea.prototype.getTexture=function(){return this.sprite.texture};
PIXI.CanvasTransparencyHitArea=function(z){PIXI.TransparencyHitArea.call(this,z);this.textureWidth=this.textureData=null};PIXI.CanvasTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);PIXI.CanvasTransparencyHitArea.constructor=PIXI.CanvasTransparencyHitArea;PIXI.CanvasTransparencyHitArea.prototype.clone=function(){return new PIXI.CanvasTransparencyHitArea(this.sprite)};
PIXI.CanvasTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.CanvasTransparencyHitArea.cachedRenderer&&(PIXI.CanvasTransparencyHitArea.cachedRenderer=new PIXI.CanvasRenderer(1,1));this.initTextureData()};
PIXI.CanvasTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var z=this.getTexture(),c=z.baseTexture.source;this.textureWidth=c.width;c=c.src;void 0===PIXI.CanvasTransparencyHitArea.TextureData[c]&&(z=this.createTextureData(z),PIXI.CanvasTransparencyHitArea.TextureData[c]=z);this.textureData=PIXI.CanvasTransparencyHitArea.TextureData[c]}};
PIXI.CanvasTransparencyHitArea.prototype.createTextureData=function(z){z=z.baseTexture.source;var c=PIXI.CanvasTransparencyHitArea.cachedRenderer,h=c.view;h.width=z.width;h.height=z.height;c=c.view.getContext("2d");c.clearRect(0,0,z.width,z.height);c.drawImage(z,0,0);return c.getImageData(0,0,z.width,z.height).data};
PIXI.CanvasTransparencyHitArea.prototype.isTextureTransparentAt=function(z,c){if(!this.textureData)throw Error("CanvasTransparencyHitArea#init() not called.");return 1>this.textureData[4*(z+c*this.textureWidth)+3]};PIXI.CanvasTransparencyHitArea.TextureData=[];PIXI.CanvasTransparencyHitArea.cachedRenderer=null;PIXI.WebGLTransparencyHitArea=function(z){PIXI.TransparencyHitArea.call(this,z);this.textureWidth=this.textureData=null};PIXI.WebGLTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.WebGLTransparencyHitArea.constructor=PIXI.WebGLTransparencyHitArea;PIXI.WebGLTransparencyHitArea.prototype.clone=function(){return new PIXI.WebGLTransparencyHitArea(this.sprite)};PIXI.WebGLTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.WebGLTransparencyHitArea.cachedRenderer&&(PIXI.WebGLTransparencyHitArea.cachedRenderer=new PIXI.WebGLRenderer(1,1));this.initTextureData()};
PIXI.WebGLTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var z=this.getTexture(),c=z.baseTexture.source;this.textureWidth=c.width;c=c.src;void 0===PIXI.WebGLTransparencyHitArea.TextureData[c]&&(z=this.createTextureData(z),PIXI.WebGLTransparencyHitArea.TextureData[c]=z);this.textureData=PIXI.WebGLTransparencyHitArea.TextureData[c]}};
PIXI.WebGLTransparencyHitArea.prototype.createTextureData=function(z){var c=z.baseTexture.source,h=PIXI.WebGLTransparencyHitArea.cachedRenderer.view;h.width=c.width;h.height=c.height;var h=PIXI.WebGLTransparencyHitArea.cachedRenderer.gl,l=h.createFramebuffer();h.bindFramebuffer(h.FRAMEBUFFER,l);void 0===z.baseTexture._glTextures[h.id]&&PIXI.WebGLTransparencyHitArea.cachedRenderer.updateTexture(z.baseTexture);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,z.baseTexture._glTextures[h.id],
0);z=new Uint8Array(c.width*c.height*4);try{h.readPixels(0,0,c.width,c.height,h.RGBA,h.UNSIGNED_BYTE,z)}catch(a){console.log(error)}h.bindFramebuffer(h.FRAMEBUFFER,null);return z};PIXI.WebGLTransparencyHitArea.prototype.isTextureTransparentAt=function(z,c){if(!this.textureData)throw Error("WebGLTransparencyHitArea#init() not called.");return 255>this.textureData[4*(z+c*this.textureWidth)+3]};PIXI.WebGLTransparencyHitArea.TextureData=[];PIXI.WebGLTransparencyHitArea.cachedRenderer=null;function getCurvePoints(z,c,h,l){function a(a,b,c,d){for(var e=2,g;e<c;e+=2){var k=a[e],l=a[e+1],n=a[e+2],p=a[e+3],q=(n-a[e-2])*d,v=(p-a[e-1])*d,x=(a[e+4]-k)*d,z=(a[e+5]-l)*d,G=0,P,A,L,K;for(g=0;g<h;g++)P=b[G++],A=b[G++],L=b[G++],K=b[G++],m[f++]=P*k+A*n+L*q+K*x,m[f++]=P*l+A*p+L*v+K*z}}c="number"===typeof c?c:.5;h="number"===typeof h?h:25;var e,d=1,b=z.length,f=0,m=new Float32Array((b-2)*h+2+(l?2*h:0)),g=new Float32Array(4*(h+2)),k=4;e=z.slice(0);l?(e.unshift(z[b-1]),e.unshift(z[b-2]),e.push(z[0],
z[1])):(e.unshift(z[1]),e.unshift(z[0]),e.push(z[b-2],z[b-1]));for(g[0]=1;d<h;d++){var n=d/h,v=n*n,x=v*n,p=2*x,q=3*v;g[k++]=p-q+1;g[k++]=q-p;g[k++]=x-2*v+n;g[k++]=x-v}g[++k]=1;a(e,g,b,c);l&&(e=[],e.push(z[b-4],z[b-3],z[b-2],z[b-1],z[0],z[1],z[2],z[3]),a(e,g,4,c));b=l?0:z.length-2;m[f++]=z[b++];m[f]=z[b];return m}"undefined"!==typeof exports&&(exports.getCurvePoints=getCurvePoints);

//# sourceMappingURL=combined_mini.js.map